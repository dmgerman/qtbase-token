begin_unit
begin_comment
comment|/**************************************************************************** ** ** Copyright (C) 2013 Digia Plc and/or its subsidiary(-ies). ** Contact: http://www.qt-project.org/legal ** ** This file is part of the test suite of the Qt Toolkit. ** ** $QT_BEGIN_LICENSE:LGPL$ ** Commercial License Usage ** Licensees holding valid commercial Qt licenses may use this file in ** accordance with the commercial license agreement provided with the ** Software or, alternatively, in accordance with the terms contained in ** a written agreement between you and Digia.  For licensing terms and ** conditions see http://qt.digia.com/licensing.  For further information ** use the contact form at http://qt.digia.com/contact-us. ** ** GNU Lesser General Public License Usage ** Alternatively, this file may be used under the terms of the GNU Lesser ** General Public License version 2.1 as published by the Free Software ** Foundation and appearing in the file LICENSE.LGPL included in the ** packaging of this file.  Please review the following information to ** ensure the GNU Lesser General Public License version 2.1 requirements ** will be met: http://www.gnu.org/licenses/old-licenses/lgpl-2.1.html. ** ** In addition, as a special exception, Digia gives you certain additional ** rights.  These rights are described in the Digia Qt LGPL Exception ** version 1.1, included in the file LGPL_EXCEPTION.txt in this package. ** ** GNU General Public License Usage ** Alternatively, this file may be used under the terms of the GNU ** General Public License version 3.0 as published by the Free Software ** Foundation and appearing in the file LICENSE.GPL included in the ** packaging of this file.  Please review the following information to ** ensure the GNU General Public License version 3.0 requirements will be ** met: http://www.gnu.org/copyleft/gpl.html. ** ** ** $QT_END_LICENSE$ ** ****************************************************************************/
end_comment
begin_include
include|#
directive|include
file|<QtTest/QtTest>
end_include
begin_include
include|#
directive|include
file|<qeasingcurve.h>
end_include
begin_ifdef
ifdef|#
directive|ifdef
name|Q_COMPILER_RVALUE_REFS
end_ifdef
begin_comment
comment|// cpp11() slot
end_comment
begin_include
include|#
directive|include
file|<utility>
end_include
begin_comment
comment|// for std::move()
end_comment
begin_endif
endif|#
directive|endif
end_endif
begin_class
DECL|class|tst_QEasingCurve
class|class
name|tst_QEasingCurve
super|:
specifier|public
name|QObject
block|{
name|Q_OBJECT
private|private
name|slots
private|:
name|void
name|type
parameter_list|()
function_decl|;
name|void
name|propertyDefaults
parameter_list|()
function_decl|;
name|void
name|valueForProgress_data
parameter_list|()
function_decl|;
name|void
name|valueForProgress
parameter_list|()
function_decl|;
name|void
name|setCustomType
parameter_list|()
function_decl|;
name|void
name|operators
parameter_list|()
function_decl|;
name|void
name|properties
parameter_list|()
function_decl|;
name|void
name|metaTypes
parameter_list|()
function_decl|;
name|void
name|propertyOrderIsNotImportant
parameter_list|()
function_decl|;
name|void
name|bezierSpline_data
parameter_list|()
function_decl|;
name|void
name|bezierSpline
parameter_list|()
function_decl|;
name|void
name|tcbSpline_data
parameter_list|()
function_decl|;
name|void
name|tcbSpline
parameter_list|()
function_decl|;
name|void
name|testCbrtDouble
parameter_list|()
function_decl|;
name|void
name|testCbrtFloat
parameter_list|()
function_decl|;
name|void
name|cpp11
parameter_list|()
function_decl|;
block|}
class|;
end_class
begin_function
DECL|function|type
name|void
name|tst_QEasingCurve
operator|::
name|type
parameter_list|()
block|{
block|{
name|QEasingCurve
name|curve
argument_list|(
name|QEasingCurve
operator|::
name|Linear
argument_list|)
decl_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|period
argument_list|()
argument_list|,
literal|0.3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|amplitude
argument_list|()
argument_list|,
literal|1.0
argument_list|)
expr_stmt|;
name|curve
operator|.
name|setPeriod
argument_list|(
literal|5
argument_list|)
expr_stmt|;
name|curve
operator|.
name|setAmplitude
argument_list|(
literal|3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|period
argument_list|()
argument_list|,
literal|5.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|amplitude
argument_list|()
argument_list|,
literal|3.0
argument_list|)
expr_stmt|;
name|curve
operator|.
name|setType
argument_list|(
name|QEasingCurve
operator|::
name|InElastic
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|period
argument_list|()
argument_list|,
literal|5.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|amplitude
argument_list|()
argument_list|,
literal|3.0
argument_list|)
expr_stmt|;
block|}
block|{
name|QEasingCurve
name|curve
argument_list|(
name|QEasingCurve
operator|::
name|InElastic
argument_list|)
decl_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|period
argument_list|()
argument_list|,
literal|0.3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|amplitude
argument_list|()
argument_list|,
literal|1.0
argument_list|)
expr_stmt|;
name|curve
operator|.
name|setAmplitude
argument_list|(
literal|2
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|type
argument_list|()
argument_list|,
name|QEasingCurve
operator|::
name|InElastic
argument_list|)
expr_stmt|;
name|curve
operator|.
name|setType
argument_list|(
name|QEasingCurve
operator|::
name|Linear
argument_list|)
expr_stmt|;
block|}
block|{
comment|// check bounaries
name|QEasingCurve
name|curve
argument_list|(
name|QEasingCurve
operator|::
name|InCubic
argument_list|)
decl_stmt|;
name|QTest
operator|::
name|ignoreMessage
argument_list|(
name|QtWarningMsg
argument_list|,
literal|"QEasingCurve: Invalid curve type 9999"
argument_list|)
expr_stmt|;
name|curve
operator|.
name|setType
argument_list|(
operator|(
name|QEasingCurve
operator|::
name|Type
operator|)
literal|9999
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|type
argument_list|()
argument_list|,
name|QEasingCurve
operator|::
name|InCubic
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|ignoreMessage
argument_list|(
name|QtWarningMsg
argument_list|,
literal|"QEasingCurve: Invalid curve type -9999"
argument_list|)
expr_stmt|;
name|curve
operator|.
name|setType
argument_list|(
operator|(
name|QEasingCurve
operator|::
name|Type
operator|)
operator|-
literal|9999
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|type
argument_list|()
argument_list|,
name|QEasingCurve
operator|::
name|InCubic
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|ignoreMessage
argument_list|(
name|QtWarningMsg
argument_list|,
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"QEasingCurve: Invalid curve type %1"
argument_list|)
operator|.
name|arg
argument_list|(
name|QEasingCurve
operator|::
name|NCurveTypes
argument_list|)
operator|.
name|toLatin1
argument_list|()
operator|.
name|constData
argument_list|()
argument_list|)
expr_stmt|;
name|curve
operator|.
name|setType
argument_list|(
name|QEasingCurve
operator|::
name|NCurveTypes
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|type
argument_list|()
argument_list|,
name|QEasingCurve
operator|::
name|InCubic
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|ignoreMessage
argument_list|(
name|QtWarningMsg
argument_list|,
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"QEasingCurve: Invalid curve type %1"
argument_list|)
operator|.
name|arg
argument_list|(
name|QEasingCurve
operator|::
name|Custom
argument_list|)
operator|.
name|toLatin1
argument_list|()
operator|.
name|constData
argument_list|()
argument_list|)
expr_stmt|;
name|curve
operator|.
name|setType
argument_list|(
name|QEasingCurve
operator|::
name|Custom
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|type
argument_list|()
argument_list|,
name|QEasingCurve
operator|::
name|InCubic
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|ignoreMessage
argument_list|(
name|QtWarningMsg
argument_list|,
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"QEasingCurve: Invalid curve type %1"
argument_list|)
operator|.
name|arg
argument_list|(
operator|-
literal|1
argument_list|)
operator|.
name|toLatin1
argument_list|()
operator|.
name|constData
argument_list|()
argument_list|)
expr_stmt|;
name|curve
operator|.
name|setType
argument_list|(
operator|(
name|QEasingCurve
operator|::
name|Type
operator|)
operator|-
literal|1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|type
argument_list|()
argument_list|,
name|QEasingCurve
operator|::
name|InCubic
argument_list|)
expr_stmt|;
name|curve
operator|.
name|setType
argument_list|(
name|QEasingCurve
operator|::
name|Linear
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|type
argument_list|()
argument_list|,
name|QEasingCurve
operator|::
name|Linear
argument_list|)
expr_stmt|;
name|curve
operator|.
name|setType
argument_list|(
name|QEasingCurve
operator|::
name|CosineCurve
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|type
argument_list|()
argument_list|,
name|QEasingCurve
operator|::
name|CosineCurve
argument_list|)
expr_stmt|;
block|}
block|}
end_function
begin_function
DECL|function|propertyDefaults
name|void
name|tst_QEasingCurve
operator|::
name|propertyDefaults
parameter_list|()
block|{
block|{
comment|// checks if the defaults are correct, but also demonstrates a weakness with the API.
name|QEasingCurve
name|curve
argument_list|(
name|QEasingCurve
operator|::
name|InElastic
argument_list|)
decl_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|period
argument_list|()
argument_list|,
literal|0.3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|amplitude
argument_list|()
argument_list|,
literal|1.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|overshoot
argument_list|()
argument_list|,
name|qreal
argument_list|(
literal|1.70158
argument_list|)
argument_list|)
expr_stmt|;
name|curve
operator|.
name|setType
argument_list|(
name|QEasingCurve
operator|::
name|InBounce
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|period
argument_list|()
argument_list|,
literal|0.3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|amplitude
argument_list|()
argument_list|,
literal|1.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|overshoot
argument_list|()
argument_list|,
name|qreal
argument_list|(
literal|1.70158
argument_list|)
argument_list|)
expr_stmt|;
name|curve
operator|.
name|setType
argument_list|(
name|QEasingCurve
operator|::
name|Linear
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|period
argument_list|()
argument_list|,
literal|0.3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|amplitude
argument_list|()
argument_list|,
literal|1.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|overshoot
argument_list|()
argument_list|,
name|qreal
argument_list|(
literal|1.70158
argument_list|)
argument_list|)
expr_stmt|;
name|curve
operator|.
name|setType
argument_list|(
name|QEasingCurve
operator|::
name|InElastic
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|period
argument_list|()
argument_list|,
literal|0.3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|amplitude
argument_list|()
argument_list|,
literal|1.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|overshoot
argument_list|()
argument_list|,
name|qreal
argument_list|(
literal|1.70158
argument_list|)
argument_list|)
expr_stmt|;
name|curve
operator|.
name|setPeriod
argument_list|(
literal|0.4
argument_list|)
expr_stmt|;
name|curve
operator|.
name|setAmplitude
argument_list|(
literal|0.6
argument_list|)
expr_stmt|;
name|curve
operator|.
name|setOvershoot
argument_list|(
literal|1.0
argument_list|)
expr_stmt|;
name|curve
operator|.
name|setType
argument_list|(
name|QEasingCurve
operator|::
name|Linear
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|period
argument_list|()
argument_list|,
literal|0.4
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|amplitude
argument_list|()
argument_list|,
literal|0.6
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|overshoot
argument_list|()
argument_list|,
literal|1.0
argument_list|)
expr_stmt|;
name|curve
operator|.
name|setType
argument_list|(
name|QEasingCurve
operator|::
name|InElastic
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|period
argument_list|()
argument_list|,
literal|0.4
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|amplitude
argument_list|()
argument_list|,
literal|0.6
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|overshoot
argument_list|()
argument_list|,
literal|1.0
argument_list|)
expr_stmt|;
block|}
block|}
end_function
begin_typedef
DECL|typedef|IntList
typedef|typedef
name|QList
argument_list|<
name|int
argument_list|>
name|IntList
typedef|;
end_typedef
begin_typedef
DECL|typedef|RealList
typedef|typedef
name|QList
argument_list|<
name|qreal
argument_list|>
name|RealList
typedef|;
end_typedef
begin_function
DECL|function|valueForProgress_data
name|void
name|tst_QEasingCurve
operator|::
name|valueForProgress_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"type"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|IntList
argument_list|>
argument_list|(
literal|"at"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|RealList
argument_list|>
argument_list|(
literal|"expected"
argument_list|)
expr_stmt|;
comment|// automatically generated.
comment|// note that values are scaled from range [0,1] to range [0, 100] in order to store them as
comment|// integer values and avoid fp inaccuracies
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Linear"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|Linear
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.1000
operator|<<
literal|0.2000
operator|<<
literal|0.3000
operator|<<
literal|0.4000
operator|<<
literal|0.5000
operator|<<
literal|0.6000
operator|<<
literal|0.7000
operator|<<
literal|0.8000
operator|<<
literal|0.9000
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"InQuad"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|InQuad
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.0100
operator|<<
literal|0.0400
operator|<<
literal|0.0900
operator|<<
literal|0.1600
operator|<<
literal|0.2500
operator|<<
literal|0.3600
operator|<<
literal|0.4900
operator|<<
literal|0.6400
operator|<<
literal|0.8100
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"OutQuad"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|OutQuad
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.1900
operator|<<
literal|0.3600
operator|<<
literal|0.5100
operator|<<
literal|0.6400
operator|<<
literal|0.7500
operator|<<
literal|0.8400
operator|<<
literal|0.9100
operator|<<
literal|0.9600
operator|<<
literal|0.9900
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"InOutQuad"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|InOutQuad
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.0200
operator|<<
literal|0.0800
operator|<<
literal|0.1800
operator|<<
literal|0.3200
operator|<<
literal|0.5000
operator|<<
literal|0.6800
operator|<<
literal|0.8200
operator|<<
literal|0.9200
operator|<<
literal|0.9800
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"OutInQuad"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|OutInQuad
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.1800
operator|<<
literal|0.3200
operator|<<
literal|0.4200
operator|<<
literal|0.4800
operator|<<
literal|0.5000
operator|<<
literal|0.5200
operator|<<
literal|0.5800
operator|<<
literal|0.6800
operator|<<
literal|0.8200
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"InCubic"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|InCubic
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.0010
operator|<<
literal|0.0080
operator|<<
literal|0.0270
operator|<<
literal|0.0640
operator|<<
literal|0.1250
operator|<<
literal|0.2160
operator|<<
literal|0.3430
operator|<<
literal|0.5120
operator|<<
literal|0.7290
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"OutCubic"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|OutCubic
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.2710
operator|<<
literal|0.4880
operator|<<
literal|0.6570
operator|<<
literal|0.7840
operator|<<
literal|0.8750
operator|<<
literal|0.9360
operator|<<
literal|0.9730
operator|<<
literal|0.9920
operator|<<
literal|0.9990
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"InOutCubic"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|InOutCubic
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.0040
operator|<<
literal|0.0320
operator|<<
literal|0.1080
operator|<<
literal|0.2560
operator|<<
literal|0.5000
operator|<<
literal|0.7440
operator|<<
literal|0.8920
operator|<<
literal|0.9680
operator|<<
literal|0.9960
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"OutInCubic"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|OutInCubic
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.2440
operator|<<
literal|0.3920
operator|<<
literal|0.4680
operator|<<
literal|0.4960
operator|<<
literal|0.5000
operator|<<
literal|0.5040
operator|<<
literal|0.5320
operator|<<
literal|0.6080
operator|<<
literal|0.7560
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"InQuart"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|InQuart
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.0001
operator|<<
literal|0.0016
operator|<<
literal|0.0081
operator|<<
literal|0.0256
operator|<<
literal|0.0625
operator|<<
literal|0.1296
operator|<<
literal|0.2401
operator|<<
literal|0.4096
operator|<<
literal|0.6561
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"OutQuart"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|OutQuart
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.3439
operator|<<
literal|0.5904
operator|<<
literal|0.7599
operator|<<
literal|0.8704
operator|<<
literal|0.9375
operator|<<
literal|0.9744
operator|<<
literal|0.9919
operator|<<
literal|0.9984
operator|<<
literal|0.9999
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"InOutQuart"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|InOutQuart
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.0008
operator|<<
literal|0.0128
operator|<<
literal|0.0648
operator|<<
literal|0.2048
operator|<<
literal|0.5000
operator|<<
literal|0.7952
operator|<<
literal|0.9352
operator|<<
literal|0.9872
operator|<<
literal|0.9992
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"OutInQuart"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|OutInQuart
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.2952
operator|<<
literal|0.4352
operator|<<
literal|0.4872
operator|<<
literal|0.4992
operator|<<
literal|0.5000
operator|<<
literal|0.5008
operator|<<
literal|0.5128
operator|<<
literal|0.5648
operator|<<
literal|0.7048
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"InQuint"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|InQuint
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.0000
operator|<<
literal|0.0003
operator|<<
literal|0.0024
operator|<<
literal|0.0102
operator|<<
literal|0.0313
operator|<<
literal|0.0778
operator|<<
literal|0.1681
operator|<<
literal|0.3277
operator|<<
literal|0.5905
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"OutQuint"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|OutQuint
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.4095
operator|<<
literal|0.6723
operator|<<
literal|0.8319
operator|<<
literal|0.9222
operator|<<
literal|0.9688
operator|<<
literal|0.9898
operator|<<
literal|0.9976
operator|<<
literal|0.9997
operator|<<
literal|1.0000
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"InOutQuint"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|InOutQuint
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.0002
operator|<<
literal|0.0051
operator|<<
literal|0.0389
operator|<<
literal|0.1638
operator|<<
literal|0.5000
operator|<<
literal|0.8362
operator|<<
literal|0.9611
operator|<<
literal|0.9949
operator|<<
literal|0.9998
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"OutInQuint"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|OutInQuint
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.3362
operator|<<
literal|0.4611
operator|<<
literal|0.4949
operator|<<
literal|0.4998
operator|<<
literal|0.5000
operator|<<
literal|0.5002
operator|<<
literal|0.5051
operator|<<
literal|0.5389
operator|<<
literal|0.6638
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"InSine"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|InSine
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.0123
operator|<<
literal|0.0489
operator|<<
literal|0.1090
operator|<<
literal|0.1910
operator|<<
literal|0.2929
operator|<<
literal|0.4122
operator|<<
literal|0.5460
operator|<<
literal|0.6910
operator|<<
literal|0.8436
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"OutSine"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|OutSine
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.1564
operator|<<
literal|0.3090
operator|<<
literal|0.4540
operator|<<
literal|0.5878
operator|<<
literal|0.7071
operator|<<
literal|0.8090
operator|<<
literal|0.8910
operator|<<
literal|0.9511
operator|<<
literal|0.9877
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"InOutSine"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|InOutSine
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.0245
operator|<<
literal|0.0955
operator|<<
literal|0.2061
operator|<<
literal|0.3455
operator|<<
literal|0.5000
operator|<<
literal|0.6545
operator|<<
literal|0.7939
operator|<<
literal|0.9045
operator|<<
literal|0.9755
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"OutInSine"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|OutInSine
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.1545
operator|<<
literal|0.2939
operator|<<
literal|0.4045
operator|<<
literal|0.4755
operator|<<
literal|0.5000
operator|<<
literal|0.5245
operator|<<
literal|0.5955
operator|<<
literal|0.7061
operator|<<
literal|0.8455
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"InExpo"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|InExpo
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.0010
operator|<<
literal|0.0029
operator|<<
literal|0.0068
operator|<<
literal|0.0146
operator|<<
literal|0.0303
operator|<<
literal|0.0615
operator|<<
literal|0.1240
operator|<<
literal|0.2490
operator|<<
literal|0.4990
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"OutExpo"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|OutExpo
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.5005
operator|<<
literal|0.7507
operator|<<
literal|0.8759
operator|<<
literal|0.9384
operator|<<
literal|0.9697
operator|<<
literal|0.9854
operator|<<
literal|0.9932
operator|<<
literal|0.9971
operator|<<
literal|0.9990
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"InOutExpo"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|InOutExpo
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.0015
operator|<<
literal|0.0073
operator|<<
literal|0.0308
operator|<<
literal|0.1245
operator|<<
literal|0.5003
operator|<<
literal|0.8754
operator|<<
literal|0.9692
operator|<<
literal|0.9927
operator|<<
literal|0.9985
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"OutInExpo"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|OutInExpo
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.3754
operator|<<
literal|0.4692
operator|<<
literal|0.4927
operator|<<
literal|0.4985
operator|<<
literal|0.5000
operator|<<
literal|0.5015
operator|<<
literal|0.5073
operator|<<
literal|0.5308
operator|<<
literal|0.6245
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"InCirc"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|InCirc
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.0050
operator|<<
literal|0.0202
operator|<<
literal|0.0461
operator|<<
literal|0.0835
operator|<<
literal|0.1340
operator|<<
literal|0.2000
operator|<<
literal|0.2859
operator|<<
literal|0.4000
operator|<<
literal|0.5641
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"OutCirc"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|OutCirc
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.4359
operator|<<
literal|0.6000
operator|<<
literal|0.7141
operator|<<
literal|0.8000
operator|<<
literal|0.8660
operator|<<
literal|0.9165
operator|<<
literal|0.9539
operator|<<
literal|0.9798
operator|<<
literal|0.9950
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"InOutCirc"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|InOutCirc
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.0101
operator|<<
literal|0.0417
operator|<<
literal|0.1000
operator|<<
literal|0.2000
operator|<<
literal|0.5000
operator|<<
literal|0.8000
operator|<<
literal|0.9000
operator|<<
literal|0.9583
operator|<<
literal|0.9899
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"OutInCirc"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|OutInCirc
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.3000
operator|<<
literal|0.4000
operator|<<
literal|0.4583
operator|<<
literal|0.4899
operator|<<
literal|0.5000
operator|<<
literal|0.5101
operator|<<
literal|0.5417
operator|<<
literal|0.6000
operator|<<
literal|0.7000
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"InElastic"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|InElastic
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.0020
operator|<<
operator|-
literal|0.0020
operator|<<
operator|-
literal|0.0039
operator|<<
literal|0.0156
operator|<<
operator|-
literal|0.0156
operator|<<
operator|-
literal|0.0313
operator|<<
literal|0.1250
operator|<<
operator|-
literal|0.1250
operator|<<
operator|-
literal|0.2500
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"OutElastic"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|OutElastic
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|1.2500
operator|<<
literal|1.1250
operator|<<
literal|0.8750
operator|<<
literal|1.0313
operator|<<
literal|1.0156
operator|<<
literal|0.9844
operator|<<
literal|1.0039
operator|<<
literal|1.0020
operator|<<
literal|0.9980
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"InOutElastic"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|InOutElastic
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
operator|-
literal|0.0010
operator|<<
literal|0.0078
operator|<<
operator|-
literal|0.0156
operator|<<
operator|-
literal|0.0625
operator|<<
literal|0.5000
operator|<<
literal|1.0625
operator|<<
literal|1.0156
operator|<<
literal|0.9922
operator|<<
literal|1.0010
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"OutInElastic"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|OutInElastic
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.3750
operator|<<
literal|0.5625
operator|<<
literal|0.4922
operator|<<
literal|0.4980
operator|<<
literal|0.5000
operator|<<
literal|0.4961
operator|<<
literal|0.5078
operator|<<
literal|0.5313
operator|<<
literal|0.2500
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"InBack"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|InBack
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
operator|-
literal|0.0143
operator|<<
operator|-
literal|0.0465
operator|<<
operator|-
literal|0.0802
operator|<<
operator|-
literal|0.0994
operator|<<
operator|-
literal|0.0877
operator|<<
operator|-
literal|0.0290
operator|<<
literal|0.0929
operator|<<
literal|0.2942
operator|<<
literal|0.5912
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"OutBack"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|OutBack
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.4088
operator|<<
literal|0.7058
operator|<<
literal|0.9071
operator|<<
literal|1.0290
operator|<<
literal|1.0877
operator|<<
literal|1.0994
operator|<<
literal|1.0802
operator|<<
literal|1.0465
operator|<<
literal|1.0143
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"InOutBack"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|InOutBack
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
operator|-
literal|0.0375
operator|<<
operator|-
literal|0.0926
operator|<<
operator|-
literal|0.0788
operator|<<
literal|0.0899
operator|<<
literal|0.5000
operator|<<
literal|0.9101
operator|<<
literal|1.0788
operator|<<
literal|1.0926
operator|<<
literal|1.0375
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"OutInBack"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|OutInBack
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.3529
operator|<<
literal|0.5145
operator|<<
literal|0.5497
operator|<<
literal|0.5232
operator|<<
literal|0.5000
operator|<<
literal|0.4768
operator|<<
literal|0.4503
operator|<<
literal|0.4855
operator|<<
literal|0.6471
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"InBounce"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|InBounce
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.0119
operator|<<
literal|0.0600
operator|<<
literal|0.0694
operator|<<
literal|0.2275
operator|<<
literal|0.2344
operator|<<
literal|0.0900
operator|<<
literal|0.3194
operator|<<
literal|0.6975
operator|<<
literal|0.9244
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"OutBounce"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|OutBounce
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.0756
operator|<<
literal|0.3025
operator|<<
literal|0.6806
operator|<<
literal|0.9100
operator|<<
literal|0.7656
operator|<<
literal|0.7725
operator|<<
literal|0.9306
operator|<<
literal|0.9400
operator|<<
literal|0.9881
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"InOutBounce"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|InOutBounce
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.0300
operator|<<
literal|0.1138
operator|<<
literal|0.0450
operator|<<
literal|0.3488
operator|<<
literal|0.5000
operator|<<
literal|0.6512
operator|<<
literal|0.9550
operator|<<
literal|0.8863
operator|<<
literal|0.9700
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"OutInBounce"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|OutInBounce
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.1513
operator|<<
literal|0.4100
operator|<<
literal|0.2725
operator|<<
literal|0.4400
operator|<<
literal|0.5000
operator|<<
literal|0.5600
operator|<<
literal|0.7275
operator|<<
literal|0.5900
operator|<<
literal|0.8488
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"InCurve"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|InCurve
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.0245
operator|<<
literal|0.1059
operator|<<
literal|0.2343
operator|<<
literal|0.3727
operator|<<
literal|0.5000
operator|<<
literal|0.6055
operator|<<
literal|0.7000
operator|<<
literal|0.8000
operator|<<
literal|0.9000
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"OutCurve"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|OutCurve
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.1000
operator|<<
literal|0.2000
operator|<<
literal|0.3000
operator|<<
literal|0.3945
operator|<<
literal|0.5000
operator|<<
literal|0.6273
operator|<<
literal|0.7657
operator|<<
literal|0.8941
operator|<<
literal|0.9755
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"SineCurve"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|SineCurve
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.0955
operator|<<
literal|0.3455
operator|<<
literal|0.6545
operator|<<
literal|0.9045
operator|<<
literal|1.0000
operator|<<
literal|0.9045
operator|<<
literal|0.6545
operator|<<
literal|0.3455
operator|<<
literal|0.0955
operator|<<
literal|0.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"CosineCurve"
argument_list|)
operator|<<
name|int
argument_list|(
name|QEasingCurve
operator|::
name|CosineCurve
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|10
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|50
operator|<<
literal|60
operator|<<
literal|70
operator|<<
literal|80
operator|<<
literal|90
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.5000
operator|<<
literal|0.7939
operator|<<
literal|0.9755
operator|<<
literal|0.9755
operator|<<
literal|0.7939
operator|<<
literal|0.5000
operator|<<
literal|0.2061
operator|<<
literal|0.0245
operator|<<
literal|0.0245
operator|<<
literal|0.2061
operator|<<
literal|0.5000
operator|)
expr_stmt|;
block|}
end_function
begin_comment
comment|/*   "fixedpoint" number that is scaled up by 10000.   This is to work around two bugs (precision and rounding error) in QString::setNum().   It does not trim off trailing zeros. This is good, just to emphasize the precision. */
end_comment
begin_function
DECL|function|fixedToString
name|QString
name|fixedToString
parameter_list|(
name|int
name|value
parameter_list|)
block|{
name|QString
name|str
decl_stmt|;
if|if
condition|(
name|value
operator|<
literal|0
condition|)
block|{
name|str
operator|+=
name|QLatin1Char
argument_list|(
literal|'-'
argument_list|)
expr_stmt|;
name|value
operator|=
operator|-
name|value
expr_stmt|;
block|}
name|QString
name|digitArg
argument_list|(
name|QLatin1String
argument_list|(
literal|"%1."
argument_list|)
argument_list|)
decl_stmt|;
for|for
control|(
name|int
name|i
init|=
literal|10000
init|;
name|i
operator|>=
literal|1
condition|;
name|i
operator|/=
literal|10
control|)
block|{
name|int
name|digit
init|=
name|value
operator|/
name|i
decl_stmt|;
name|value
operator|-=
name|digit
operator|*
name|i
expr_stmt|;
name|str
operator|.
name|append
argument_list|(
name|digitArg
operator|.
name|arg
argument_list|(
name|digit
argument_list|)
argument_list|)
expr_stmt|;
name|digitArg
operator|=
name|QLatin1String
argument_list|(
literal|"%1"
argument_list|)
expr_stmt|;
block|}
return|return
name|str
return|;
block|}
end_function
begin_function
DECL|function|valueForProgress
name|void
name|tst_QEasingCurve
operator|::
name|valueForProgress
parameter_list|()
block|{
if|#
directive|if
literal|0
comment|// used to generate data tables...
block|QFile out;     out.open(stdout, QIODevice::WriteOnly);     for (int c = QEasingCurve::Linear; c< QEasingCurve::NCurveTypes - 1; ++c) {         QEasingCurve curve((QEasingCurve::Type)c);         QMetaObject mo = QEasingCurve::staticMetaObject;         QString strCurve = QLatin1String(mo.enumerator(mo.indexOfEnumerator("Type")).key(c));         QString strInputs;         QString strOutputs;          for (int t = 0; t<= 100; t+= 10) {             qreal ease = curve.valueForProgress(t/qreal(100));             strInputs += QString::fromLatin1("<< %1").arg(t);             strOutputs += "<< " + fixedToString(qRound(ease*10000));         }         QString str = QString::fromLatin1("    QTest::newRow(\"%1\")<< int(QEasingCurve::%2)\n"                                                 "<< (IntList() %3)\n"                                                 "<< (RealList()%4);\n\n")                                       .arg(strCurve)                                       .arg(strCurve)                                       .arg(strInputs)                                       .arg(strOutputs);         out.write(str.toLatin1().constData());     }     out.close();     exit(1);
else|#
directive|else
name|QFETCH
argument_list|(
name|int
argument_list|,
name|type
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|IntList
argument_list|,
name|at
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|RealList
argument_list|,
name|expected
argument_list|)
expr_stmt|;
name|QEasingCurve
name|curve
argument_list|(
operator|(
name|QEasingCurve
operator|::
name|Type
operator|)
name|type
argument_list|)
decl_stmt|;
comment|// in theory the baseline should't have an error of more than 0.00005 due to how its rounded,
comment|// but due to FP imprecision, we have to adjust the error a bit more.
specifier|const
name|qreal
name|errorBound
init|=
literal|0.00006
decl_stmt|;
for|for
control|(
name|int
name|i
init|=
literal|0
init|;
name|i
operator|<
name|at
operator|.
name|count
argument_list|()
condition|;
operator|++
name|i
control|)
block|{
specifier|const
name|qreal
name|ex
init|=
name|expected
operator|.
name|at
argument_list|(
name|i
argument_list|)
decl_stmt|;
specifier|const
name|qreal
name|error
init|=
name|qAbs
argument_list|(
name|ex
operator|-
name|curve
operator|.
name|valueForProgress
argument_list|(
name|at
operator|.
name|at
argument_list|(
name|i
argument_list|)
operator|/
name|qreal
argument_list|(
literal|100
argument_list|)
argument_list|)
argument_list|)
decl_stmt|;
name|QVERIFY
argument_list|(
name|error
operator|<=
name|errorBound
argument_list|)
expr_stmt|;
block|}
endif|#
directive|endif
block|}
end_function
begin_function
DECL|function|discreteEase
specifier|static
name|qreal
name|discreteEase
parameter_list|(
name|qreal
name|progress
parameter_list|)
block|{
return|return
name|qFloor
argument_list|(
name|progress
operator|*
literal|10
argument_list|)
operator|/
name|qreal
argument_list|(
literal|10.0
argument_list|)
return|;
block|}
end_function
begin_function
DECL|function|setCustomType
name|void
name|tst_QEasingCurve
operator|::
name|setCustomType
parameter_list|()
block|{
name|QEasingCurve
name|curve
decl_stmt|;
name|curve
operator|.
name|setCustomType
argument_list|(
operator|&
name|discreteEase
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|type
argument_list|()
argument_list|,
name|QEasingCurve
operator|::
name|Custom
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|valueForProgress
argument_list|(
literal|0.0
argument_list|)
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|valueForProgress
argument_list|(
literal|0.05
argument_list|)
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|valueForProgress
argument_list|(
literal|0.10
argument_list|)
argument_list|,
literal|0.1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|valueForProgress
argument_list|(
literal|0.15
argument_list|)
argument_list|,
literal|0.1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|valueForProgress
argument_list|(
literal|0.20
argument_list|)
argument_list|,
literal|0.2
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|valueForProgress
argument_list|(
literal|0.25
argument_list|)
argument_list|,
literal|0.2
argument_list|)
expr_stmt|;
if|#
directive|if
name|defined
argument_list|(
name|UBUNTU_ONEIRIC
argument_list|)
operator|&&
name|defined
argument_list|(
name|__i386__
argument_list|)
name|QEXPECT_FAIL
argument_list|(
literal|""
argument_list|,
literal|"QTBUG-32432: Fails on Ubuntu 11.10 32 bit configurations"
argument_list|,
name|Abort
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|valueForProgress
argument_list|(
literal|0.30
argument_list|)
argument_list|,
literal|0.3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|valueForProgress
argument_list|(
literal|0.35
argument_list|)
argument_list|,
literal|0.3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|valueForProgress
argument_list|(
literal|0.999999
argument_list|)
argument_list|,
literal|0.9
argument_list|)
expr_stmt|;
name|curve
operator|.
name|setType
argument_list|(
name|QEasingCurve
operator|::
name|Linear
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|type
argument_list|()
argument_list|,
name|QEasingCurve
operator|::
name|Linear
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|valueForProgress
argument_list|(
literal|0.0
argument_list|)
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|valueForProgress
argument_list|(
literal|0.1
argument_list|)
argument_list|,
literal|0.1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|valueForProgress
argument_list|(
literal|0.5
argument_list|)
argument_list|,
literal|0.5
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|valueForProgress
argument_list|(
literal|0.99
argument_list|)
argument_list|,
literal|0.99
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|operators
name|void
name|tst_QEasingCurve
operator|::
name|operators
parameter_list|()
block|{
block|{
comment|// member-swap()
name|QEasingCurve
name|ec1
decl_stmt|,
name|ec2
decl_stmt|;
name|ec2
operator|.
name|setCustomType
argument_list|(
operator|&
name|discreteEase
argument_list|)
expr_stmt|;
name|ec1
operator|.
name|swap
argument_list|(
name|ec2
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|ec1
operator|.
name|type
argument_list|()
argument_list|,
name|QEasingCurve
operator|::
name|Custom
argument_list|)
expr_stmt|;
block|}
comment|// operator=
name|QEasingCurve
name|curve
decl_stmt|;
name|QEasingCurve
name|curve2
decl_stmt|;
name|curve
operator|.
name|setCustomType
argument_list|(
operator|&
name|discreteEase
argument_list|)
expr_stmt|;
name|curve2
operator|=
name|curve
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve2
operator|.
name|type
argument_list|()
argument_list|,
name|QEasingCurve
operator|::
name|Custom
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve2
operator|.
name|valueForProgress
argument_list|(
literal|0.0
argument_list|)
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve2
operator|.
name|valueForProgress
argument_list|(
literal|0.05
argument_list|)
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve2
operator|.
name|valueForProgress
argument_list|(
literal|0.15
argument_list|)
argument_list|,
literal|0.1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve2
operator|.
name|valueForProgress
argument_list|(
literal|0.25
argument_list|)
argument_list|,
literal|0.2
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve2
operator|.
name|valueForProgress
argument_list|(
literal|0.35
argument_list|)
argument_list|,
literal|0.3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve2
operator|.
name|valueForProgress
argument_list|(
literal|0.999999
argument_list|)
argument_list|,
literal|0.9
argument_list|)
expr_stmt|;
comment|// operator==
name|curve
operator|.
name|setType
argument_list|(
name|QEasingCurve
operator|::
name|InBack
argument_list|)
expr_stmt|;
name|curve2
operator|=
name|curve
expr_stmt|;
name|curve2
operator|.
name|setOvershoot
argument_list|(
name|qreal
argument_list|(
literal|1.70158
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|overshoot
argument_list|()
argument_list|,
name|curve2
operator|.
name|overshoot
argument_list|()
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|curve2
operator|==
name|curve
argument_list|)
expr_stmt|;
name|curve
operator|.
name|setOvershoot
argument_list|(
literal|3.0
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|curve2
operator|!=
name|curve
argument_list|)
expr_stmt|;
name|curve2
operator|.
name|setOvershoot
argument_list|(
literal|3.0
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|curve2
operator|==
name|curve
argument_list|)
expr_stmt|;
name|curve2
operator|.
name|setType
argument_list|(
name|QEasingCurve
operator|::
name|Linear
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|overshoot
argument_list|()
argument_list|,
name|curve2
operator|.
name|overshoot
argument_list|()
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|curve2
operator|!=
name|curve
argument_list|)
expr_stmt|;
name|curve2
operator|.
name|setType
argument_list|(
name|QEasingCurve
operator|::
name|InBack
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|curve
operator|.
name|overshoot
argument_list|()
argument_list|,
name|curve2
operator|.
name|overshoot
argument_list|()
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|curve2
operator|==
name|curve
argument_list|)
expr_stmt|;
name|QEasingCurve
name|curve3
decl_stmt|;
name|QEasingCurve
name|curve4
decl_stmt|;
name|curve4
operator|.
name|setAmplitude
argument_list|(
name|curve4
operator|.
name|amplitude
argument_list|()
argument_list|)
expr_stmt|;
name|QEasingCurve
name|curve5
decl_stmt|;
name|curve5
operator|.
name|setAmplitude
argument_list|(
literal|0.12345
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|curve3
operator|==
name|curve4
argument_list|)
expr_stmt|;
comment|// default value and not assigned
name|QVERIFY
argument_list|(
name|curve3
operator|!=
name|curve5
argument_list|)
expr_stmt|;
comment|// unassinged and other value
name|QVERIFY
argument_list|(
name|curve4
operator|!=
name|curve5
argument_list|)
expr_stmt|;
block|}
end_function
begin_class
DECL|class|tst_QEasingProperties
class|class
name|tst_QEasingProperties
super|:
specifier|public
name|QObject
block|{
name|Q_OBJECT
name|Q_PROPERTY
parameter_list|(
name|QEasingCurve
name|easing
name|READ
name|easing
name|WRITE
name|setEasing
parameter_list|)
specifier|public
private|:
DECL|function|tst_QEasingProperties
name|tst_QEasingProperties
parameter_list|(
name|QObject
modifier|*
name|parent
init|=
literal|0
parameter_list|)
member_init_list|:
name|QObject
argument_list|(
name|parent
argument_list|)
block|{}
DECL|function|easing
name|QEasingCurve
name|easing
parameter_list|()
specifier|const
block|{
return|return
name|e
return|;
block|}
DECL|function|setEasing
name|void
name|setEasing
parameter_list|(
specifier|const
name|QEasingCurve
modifier|&
name|value
parameter_list|)
block|{
name|e
operator|=
name|value
expr_stmt|;
block|}
private|private:
DECL|member|e
name|QEasingCurve
name|e
decl_stmt|;
block|}
class|;
end_class
begin_comment
comment|// Test getting and setting easing properties via the metaobject system.
end_comment
begin_function
DECL|function|properties
name|void
name|tst_QEasingCurve
operator|::
name|properties
parameter_list|()
block|{
name|tst_QEasingProperties
name|obj
decl_stmt|;
name|QEasingCurve
name|inOutBack
argument_list|(
name|QEasingCurve
operator|::
name|InOutBack
argument_list|)
decl_stmt|;
name|qreal
name|overshoot
init|=
literal|1.5
decl_stmt|;
name|inOutBack
operator|.
name|setOvershoot
argument_list|(
name|overshoot
argument_list|)
expr_stmt|;
name|qreal
name|amplitude
init|=
name|inOutBack
operator|.
name|amplitude
argument_list|()
decl_stmt|;
name|qreal
name|period
init|=
name|inOutBack
operator|.
name|period
argument_list|()
decl_stmt|;
name|obj
operator|.
name|setEasing
argument_list|(
name|inOutBack
argument_list|)
expr_stmt|;
name|QEasingCurve
name|easing
init|=
name|qvariant_cast
argument_list|<
name|QEasingCurve
argument_list|>
argument_list|(
name|obj
operator|.
name|property
argument_list|(
literal|"easing"
argument_list|)
argument_list|)
decl_stmt|;
name|QCOMPARE
argument_list|(
name|easing
operator|.
name|type
argument_list|()
argument_list|,
name|QEasingCurve
operator|::
name|InOutBack
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|easing
operator|.
name|overshoot
argument_list|()
argument_list|,
name|overshoot
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|easing
operator|.
name|amplitude
argument_list|()
argument_list|,
name|amplitude
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|easing
operator|.
name|period
argument_list|()
argument_list|,
name|period
argument_list|)
expr_stmt|;
name|QEasingCurve
name|linear
argument_list|(
name|QEasingCurve
operator|::
name|Linear
argument_list|)
decl_stmt|;
name|overshoot
operator|=
name|linear
operator|.
name|overshoot
argument_list|()
expr_stmt|;
name|amplitude
operator|=
name|linear
operator|.
name|amplitude
argument_list|()
expr_stmt|;
name|period
operator|=
name|linear
operator|.
name|period
argument_list|()
expr_stmt|;
name|obj
operator|.
name|setProperty
argument_list|(
literal|"easing"
argument_list|,
name|QVariant
operator|::
name|fromValue
argument_list|(
name|QEasingCurve
argument_list|(
name|QEasingCurve
operator|::
name|Linear
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|easing
operator|=
name|qvariant_cast
argument_list|<
name|QEasingCurve
argument_list|>
argument_list|(
name|obj
operator|.
name|property
argument_list|(
literal|"easing"
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|easing
operator|.
name|type
argument_list|()
argument_list|,
name|QEasingCurve
operator|::
name|Linear
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|easing
operator|.
name|overshoot
argument_list|()
argument_list|,
name|overshoot
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|easing
operator|.
name|amplitude
argument_list|()
argument_list|,
name|amplitude
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|easing
operator|.
name|period
argument_list|()
argument_list|,
name|period
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|metaTypes
name|void
name|tst_QEasingCurve
operator|::
name|metaTypes
parameter_list|()
block|{
name|QVERIFY
argument_list|(
name|QMetaType
operator|::
name|type
argument_list|(
literal|"QEasingCurve"
argument_list|)
operator|==
name|QMetaType
operator|::
name|QEasingCurve
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|QByteArray
argument_list|(
name|QMetaType
operator|::
name|typeName
argument_list|(
name|QMetaType
operator|::
name|QEasingCurve
argument_list|)
argument_list|)
argument_list|,
name|QByteArray
argument_list|(
literal|"QEasingCurve"
argument_list|)
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|QMetaType
operator|::
name|isRegistered
argument_list|(
name|QMetaType
operator|::
name|QEasingCurve
argument_list|)
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|qMetaTypeId
argument_list|<
name|QEasingCurve
argument_list|>
argument_list|()
operator|==
name|QMetaType
operator|::
name|QEasingCurve
argument_list|)
expr_stmt|;
block|}
end_function
begin_comment
comment|/*   Test to ensure that regardless of what order properties are set, they should produce the same   behavior.  */
end_comment
begin_function
DECL|function|propertyOrderIsNotImportant
name|void
name|tst_QEasingCurve
operator|::
name|propertyOrderIsNotImportant
parameter_list|()
block|{
name|QEasingCurve
name|c1
decl_stmt|;
name|c1
operator|.
name|setPeriod
argument_list|(
literal|1
argument_list|)
expr_stmt|;
name|c1
operator|.
name|setType
argument_list|(
name|QEasingCurve
operator|::
name|OutSine
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|c1
operator|.
name|valueForProgress
argument_list|(
literal|0.75
argument_list|)
operator|>
literal|0.9
argument_list|)
expr_stmt|;
name|QEasingCurve
name|c2
decl_stmt|;
name|c2
operator|.
name|setType
argument_list|(
name|QEasingCurve
operator|::
name|OutSine
argument_list|)
expr_stmt|;
name|c2
operator|.
name|setPeriod
argument_list|(
literal|1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|c1
operator|.
name|valueForProgress
argument_list|(
literal|0.75
argument_list|)
argument_list|,
name|c2
operator|.
name|valueForProgress
argument_list|(
literal|0.75
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|bezierSpline_data
name|void
name|tst_QEasingCurve
operator|::
name|bezierSpline_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|QString
argument_list|>
argument_list|(
literal|"definition"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|IntList
argument_list|>
argument_list|(
literal|"at"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|RealList
argument_list|>
argument_list|(
literal|"expected"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"EasingCurve"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"0.2,0 0.6,0.09 0.7,1.0 0.7,0.97 0.74,0.96 0.74,0.95 0.81,0.97 0.9,0.97 1,1"
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|70
operator|<<
literal|74
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|1.0000
operator|<<
literal|0.9500
operator|<<
literal|1.0000
operator|)
expr_stmt|;
comment|//This curve is likely to be numerical instable
name|QTest
operator|::
name|newRow
argument_list|(
literal|"NastyCurve"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"0.2,0.2 0.126667,0.646667 0.2,0.8 0.624,0.984 0.930667,0.946667 1,1"
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|50
operator|<<
literal|75
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.8000
operator|<<
literal|0.8402
operator|<<
literal|0.9029
operator|<<
literal|0.9515
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ComplexCurve"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"0,0.47174849 0.17393079,0.35634291 0.18950309,0.47179766 0.2487779,0.91126755 "
literal|"0.27029205,-0.11275513 0.33421971,0.12062718 0.41170105,-0.10157488 0.4140625,0.16796875 "
literal|"0.4140625,0.16796875 0.4140625,0.16796875 0.59658877,0.36978503 0.67931151,0.89255893 0.711253,0.44658283 "
literal|"0.88203125,0.43671875 0.88203125,0.43671875 0.86087213,0.78786873 0.99609375,0.4921875 1,1"
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|15
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|70
operator|<<
literal|50
operator|<<
literal|80
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.4134
operator|<<
literal|0.5367
operator|<<
literal|0.1107
operator|<<
literal|0.0505
operator|<<
literal|0.7299
operator|<<
literal|0.3030
operator|<<
literal|0.4886
operator|<<
literal|1.0000
operator|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|setupBezierSpline
specifier|static
specifier|inline
name|void
name|setupBezierSpline
parameter_list|(
name|QEasingCurve
modifier|*
name|easingCurve
parameter_list|,
specifier|const
name|QString
modifier|&
name|string
parameter_list|)
block|{
name|QStringList
name|pointStr
init|=
name|string
operator|.
name|split
argument_list|(
name|QLatin1Char
argument_list|(
literal|' '
argument_list|)
argument_list|)
decl_stmt|;
name|QVector
argument_list|<
name|QPointF
argument_list|>
name|points
decl_stmt|;
foreach|foreach
control|(
specifier|const
name|QString
modifier|&
name|str
decl|,
name|pointStr
control|)
block|{
name|QStringList
name|coordStr
init|=
name|str
operator|.
name|split
argument_list|(
name|QLatin1Char
argument_list|(
literal|','
argument_list|)
argument_list|)
decl_stmt|;
name|QPointF
name|point
argument_list|(
name|coordStr
operator|.
name|first
argument_list|()
operator|.
name|toDouble
argument_list|()
argument_list|,
name|coordStr
operator|.
name|last
argument_list|()
operator|.
name|toDouble
argument_list|()
argument_list|)
decl_stmt|;
name|points
operator|.
name|append
argument_list|(
name|point
argument_list|)
expr_stmt|;
block|}
name|QVERIFY
argument_list|(
name|points
operator|.
name|count
argument_list|()
operator|%
literal|3
operator|==
literal|0
argument_list|)
expr_stmt|;
for|for
control|(
name|int
name|i
init|=
literal|0
init|;
name|i
operator|<
name|points
operator|.
name|count
argument_list|()
operator|/
literal|3
condition|;
name|i
operator|++
control|)
block|{
name|QPointF
name|c1
init|=
name|points
operator|.
name|at
argument_list|(
name|i
operator|*
literal|3
argument_list|)
decl_stmt|;
name|QPointF
name|c2
init|=
name|points
operator|.
name|at
argument_list|(
name|i
operator|*
literal|3
operator|+
literal|1
argument_list|)
decl_stmt|;
name|QPointF
name|p1
init|=
name|points
operator|.
name|at
argument_list|(
name|i
operator|*
literal|3
operator|+
literal|2
argument_list|)
decl_stmt|;
name|easingCurve
operator|->
name|addCubicBezierSegment
argument_list|(
name|c1
argument_list|,
name|c2
argument_list|,
name|p1
argument_list|)
expr_stmt|;
block|}
block|}
end_function
begin_function
DECL|function|bezierSpline
name|void
name|tst_QEasingCurve
operator|::
name|bezierSpline
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|QString
argument_list|,
name|definition
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|IntList
argument_list|,
name|at
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|RealList
argument_list|,
name|expected
argument_list|)
expr_stmt|;
name|QEasingCurve
name|bezierEasingCurve
argument_list|(
name|QEasingCurve
operator|::
name|BezierSpline
argument_list|)
decl_stmt|;
name|setupBezierSpline
argument_list|(
operator|&
name|bezierEasingCurve
argument_list|,
name|definition
argument_list|)
expr_stmt|;
specifier|const
name|qreal
name|errorBound
init|=
literal|0.002
decl_stmt|;
for|for
control|(
name|int
name|i
init|=
literal|0
init|;
name|i
operator|<
name|at
operator|.
name|count
argument_list|()
condition|;
operator|++
name|i
control|)
block|{
specifier|const
name|qreal
name|ex
init|=
name|expected
operator|.
name|at
argument_list|(
name|i
argument_list|)
decl_stmt|;
specifier|const
name|qreal
name|value
init|=
name|bezierEasingCurve
operator|.
name|valueForProgress
argument_list|(
name|at
operator|.
name|at
argument_list|(
name|i
argument_list|)
operator|/
name|qreal
argument_list|(
literal|100
argument_list|)
argument_list|)
decl_stmt|;
specifier|const
name|qreal
name|error
init|=
name|qAbs
argument_list|(
name|ex
operator|-
name|value
argument_list|)
decl_stmt|;
if|if
condition|(
name|error
operator|>
name|errorBound
condition|)
name|QCOMPARE
argument_list|(
name|value
argument_list|,
name|ex
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|error
operator|<=
name|errorBound
argument_list|)
expr_stmt|;
block|}
block|}
end_function
begin_function
DECL|function|tcbSpline_data
name|void
name|tst_QEasingCurve
operator|::
name|tcbSpline_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|QString
argument_list|>
argument_list|(
literal|"definition"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|IntList
argument_list|>
argument_list|(
literal|"at"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|RealList
argument_list|>
argument_list|(
literal|"expected"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"NegativeCurved"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"0.0,0.0,0,0,0 0.4,0.8,0.0,1,0.0 1.0,1.0,0.0,0.0,0"
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|66
operator|<<
literal|73
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.9736
operator|<<
literal|0.9774
operator|<<
literal|1.0000
operator|)
expr_stmt|;
comment|//This curve is likely to be numerical instable
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Corner"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"0.0,0.0,0,0,0 0.4,0.8,0.0,-1,0.0 1.0,1.0,0.0,0.0,0"
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|50
operator|<<
literal|75
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.3999
operator|<<
literal|0.5996
operator|<<
literal|0.8334
operator|<<
literal|0.9166
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RoundCurve"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"0.0,0.0,0,0,0 0.4,0.8,0.0,0,0.0 1.0,1.0,0.0,0.0,0"
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|15
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|70
operator|<<
literal|50
operator|<<
literal|80
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.3478
operator|<<
literal|0.4663
operator|<<
literal|0.6664
operator|<<
literal|0.8000
operator|<<
literal|0.9399
operator|<<
literal|0.8746
operator|<<
literal|0.9567
operator|<<
literal|1.0000
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Bias"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"0.0,0.0,0,0,0 0.4,0.8,0.1,0,1.0 1.0,1.0,0.0,0.0,0"
argument_list|)
operator|<<
operator|(
name|IntList
argument_list|()
operator|<<
literal|0
operator|<<
literal|15
operator|<<
literal|20
operator|<<
literal|30
operator|<<
literal|40
operator|<<
literal|70
operator|<<
literal|50
operator|<<
literal|80
operator|<<
literal|100
operator|)
operator|<<
operator|(
name|RealList
argument_list|()
operator|<<
literal|0.0000
operator|<<
literal|0.2999
operator|<<
literal|0.3998
operator|<<
literal|0.5997
operator|<<
literal|0.8000
operator|<<
literal|0.9676
operator|<<
literal|0.9136
operator|<<
literal|0.9725
operator|<<
literal|1.0000
operator|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|setupTCBSpline
specifier|static
specifier|inline
name|void
name|setupTCBSpline
parameter_list|(
name|QEasingCurve
modifier|*
name|easingCurve
parameter_list|,
specifier|const
name|QString
modifier|&
name|string
parameter_list|)
block|{
name|QStringList
name|pointStr
init|=
name|string
operator|.
name|split
argument_list|(
name|QLatin1Char
argument_list|(
literal|' '
argument_list|)
argument_list|)
decl_stmt|;
foreach|foreach
control|(
specifier|const
name|QString
modifier|&
name|str
decl|,
name|pointStr
control|)
block|{
name|QStringList
name|coordStr
init|=
name|str
operator|.
name|split
argument_list|(
name|QLatin1Char
argument_list|(
literal|','
argument_list|)
argument_list|)
decl_stmt|;
name|Q_ASSERT
argument_list|(
name|coordStr
operator|.
name|count
argument_list|()
operator|==
literal|5
argument_list|)
expr_stmt|;
name|QPointF
name|point
argument_list|(
name|coordStr
operator|.
name|first
argument_list|()
operator|.
name|toDouble
argument_list|()
argument_list|,
name|coordStr
operator|.
name|at
argument_list|(
literal|1
argument_list|)
operator|.
name|toDouble
argument_list|()
argument_list|)
decl_stmt|;
name|qreal
name|t
init|=
name|coordStr
operator|.
name|at
argument_list|(
literal|2
argument_list|)
operator|.
name|toDouble
argument_list|()
decl_stmt|;
name|qreal
name|c
init|=
name|coordStr
operator|.
name|at
argument_list|(
literal|3
argument_list|)
operator|.
name|toDouble
argument_list|()
decl_stmt|;
name|qreal
name|b
init|=
name|coordStr
operator|.
name|at
argument_list|(
literal|4
argument_list|)
operator|.
name|toDouble
argument_list|()
decl_stmt|;
name|easingCurve
operator|->
name|addTCBSegment
argument_list|(
name|point
argument_list|,
name|t
argument_list|,
name|c
argument_list|,
name|b
argument_list|)
expr_stmt|;
block|}
block|}
end_function
begin_function
DECL|function|tcbSpline
name|void
name|tst_QEasingCurve
operator|::
name|tcbSpline
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|QString
argument_list|,
name|definition
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|IntList
argument_list|,
name|at
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|RealList
argument_list|,
name|expected
argument_list|)
expr_stmt|;
name|QEasingCurve
name|tcbEasingCurve
argument_list|(
name|QEasingCurve
operator|::
name|TCBSpline
argument_list|)
decl_stmt|;
name|setupTCBSpline
argument_list|(
operator|&
name|tcbEasingCurve
argument_list|,
name|definition
argument_list|)
expr_stmt|;
specifier|const
name|qreal
name|errorBound
init|=
literal|0.002
decl_stmt|;
for|for
control|(
name|int
name|i
init|=
literal|0
init|;
name|i
operator|<
name|at
operator|.
name|count
argument_list|()
condition|;
operator|++
name|i
control|)
block|{
specifier|const
name|qreal
name|ex
init|=
name|expected
operator|.
name|at
argument_list|(
name|i
argument_list|)
decl_stmt|;
specifier|const
name|qreal
name|value
init|=
name|tcbEasingCurve
operator|.
name|valueForProgress
argument_list|(
name|at
operator|.
name|at
argument_list|(
name|i
argument_list|)
operator|/
name|qreal
argument_list|(
literal|100
argument_list|)
argument_list|)
decl_stmt|;
specifier|const
name|qreal
name|error
init|=
name|qAbs
argument_list|(
name|ex
operator|-
name|value
argument_list|)
decl_stmt|;
if|if
condition|(
name|error
operator|>
name|errorBound
condition|)
name|QCOMPARE
argument_list|(
name|value
argument_list|,
name|ex
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|error
operator|<=
name|errorBound
argument_list|)
expr_stmt|;
block|}
block|}
end_function
begin_comment
comment|/*This is single precision code for a cubic root used inside the spline easing curve.   This code is tested here explicitly. See: qeasingcurve.cpp */
end_comment
begin_function
DECL|function|_fast_cbrt
name|float
specifier|static
specifier|inline
name|_fast_cbrt
parameter_list|(
name|float
name|x
parameter_list|)
block|{
union|union
block|{
name|float
name|f
decl_stmt|;
name|quint32
name|i
decl_stmt|;
block|}
name|ux
union|;
specifier|const
name|unsigned
name|int
name|B1
init|=
literal|709921077
decl_stmt|;
name|ux
operator|.
name|f
operator|=
name|x
expr_stmt|;
name|ux
operator|.
name|i
operator|=
operator|(
name|ux
operator|.
name|i
operator|/
literal|3
operator|+
name|B1
operator|)
expr_stmt|;
return|return
name|ux
operator|.
name|f
return|;
block|}
end_function
begin_comment
comment|/*This is double precision code for a cubic root used inside the spline easing curve.   This code is tested here explicitly. See: qeasingcurve.cpp */
end_comment
begin_function
DECL|function|_fast_cbrt
name|double
specifier|static
specifier|inline
name|_fast_cbrt
parameter_list|(
name|double
name|d
parameter_list|)
block|{
union|union
block|{
name|double
name|d
decl_stmt|;
name|quint32
name|pt
index|[
literal|2
index|]
decl_stmt|;
block|}
name|ut
union|,
name|ux
union|;
specifier|const
name|unsigned
name|int
name|B1
init|=
literal|715094163
decl_stmt|;
if|#
directive|if
name|Q_BYTE_ORDER
operator|==
name|Q_LITTLE_ENDIAN
specifier|const
name|int
name|h0
init|=
literal|1
decl_stmt|;
else|#
directive|else
specifier|const
name|int
name|h0
init|=
literal|0
decl_stmt|;
endif|#
directive|endif
name|ut
operator|.
name|d
operator|=
literal|0.0
expr_stmt|;
name|ux
operator|.
name|d
operator|=
name|d
expr_stmt|;
name|quint32
name|hx
init|=
name|ux
operator|.
name|pt
index|[
name|h0
index|]
decl_stmt|;
comment|//high word of d
name|ut
operator|.
name|pt
index|[
name|h0
index|]
operator|=
name|hx
operator|/
literal|3
operator|+
name|B1
expr_stmt|;
return|return
name|ut
operator|.
name|d
return|;
block|}
end_function
begin_function
DECL|function|testCbrtDouble
name|void
name|tst_QEasingCurve
operator|::
name|testCbrtDouble
parameter_list|()
block|{
specifier|const
name|double
name|errorBound
init|=
literal|0.0001
decl_stmt|;
for|for
control|(
name|int
name|i
init|=
literal|0
init|;
name|i
operator|<
literal|100000
condition|;
name|i
operator|++
control|)
block|{
name|double
name|d
init|=
name|double
argument_list|(
name|i
argument_list|)
operator|/
literal|1000.0
decl_stmt|;
name|double
name|t
init|=
name|_fast_cbrt
argument_list|(
name|d
argument_list|)
decl_stmt|;
specifier|const
name|double
name|t_cubic
init|=
name|t
operator|*
name|t
operator|*
name|t
decl_stmt|;
specifier|const
name|double
name|f
init|=
name|t_cubic
operator|+
name|t_cubic
operator|+
name|d
decl_stmt|;
if|if
condition|(
name|f
operator|!=
literal|0.0
condition|)
name|t
operator|=
name|t
operator|*
operator|(
name|t_cubic
operator|+
name|d
operator|+
name|d
operator|)
operator|/
name|f
expr_stmt|;
name|double
name|expected
init|=
name|pow
argument_list|(
name|d
argument_list|,
literal|1.0
operator|/
literal|3.0
argument_list|)
decl_stmt|;
specifier|const
name|qreal
name|error
init|=
name|qAbs
argument_list|(
name|expected
operator|-
name|t
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
operator|(
name|error
operator|<
name|errorBound
operator|)
condition|)
block|{
name|qWarning
argument_list|()
operator|<<
name|d
expr_stmt|;
name|qWarning
argument_list|()
operator|<<
name|error
expr_stmt|;
block|}
name|QVERIFY
argument_list|(
name|error
operator|<
name|errorBound
argument_list|)
expr_stmt|;
block|}
block|}
end_function
begin_function
DECL|function|testCbrtFloat
name|void
name|tst_QEasingCurve
operator|::
name|testCbrtFloat
parameter_list|()
block|{
specifier|const
name|float
name|errorBound
init|=
literal|0.0005f
decl_stmt|;
for|for
control|(
name|int
name|i
init|=
literal|0
init|;
name|i
operator|<
literal|100000
condition|;
name|i
operator|++
control|)
block|{
name|float
name|f
init|=
name|float
argument_list|(
name|i
argument_list|)
operator|/
literal|1000.0f
decl_stmt|;
name|float
name|t
init|=
name|_fast_cbrt
argument_list|(
name|f
argument_list|)
decl_stmt|;
specifier|const
name|float
name|t_cubic
init|=
name|t
operator|*
name|t
operator|*
name|t
decl_stmt|;
specifier|const
name|float
name|fac
init|=
name|t_cubic
operator|+
name|t_cubic
operator|+
name|f
decl_stmt|;
if|if
condition|(
name|fac
operator|!=
literal|0.0f
condition|)
name|t
operator|=
name|t
operator|*
operator|(
name|t_cubic
operator|+
name|f
operator|+
name|f
operator|)
operator|/
name|fac
expr_stmt|;
name|float
name|expected
init|=
name|pow
argument_list|(
name|f
argument_list|,
name|float
argument_list|(
literal|1.0
operator|/
literal|3.0
argument_list|)
argument_list|)
decl_stmt|;
specifier|const
name|qreal
name|error
init|=
name|qAbs
argument_list|(
name|expected
operator|-
name|t
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
operator|(
name|error
operator|<
name|errorBound
operator|)
condition|)
block|{
name|qWarning
argument_list|()
operator|<<
name|f
expr_stmt|;
name|qWarning
argument_list|()
operator|<<
name|error
expr_stmt|;
block|}
name|QVERIFY
argument_list|(
name|error
operator|<
name|errorBound
argument_list|)
expr_stmt|;
block|}
block|}
end_function
begin_function
DECL|function|cpp11
name|void
name|tst_QEasingCurve
operator|::
name|cpp11
parameter_list|()
block|{
ifdef|#
directive|ifdef
name|Q_COMPILER_RVALUE_REFS
block|{
name|QEasingCurve
name|ec
argument_list|(
name|QEasingCurve
operator|::
name|InOutBack
argument_list|)
decl_stmt|;
name|QEasingCurve
name|copy
init|=
name|std
operator|::
name|move
argument_list|(
name|ec
argument_list|)
decl_stmt|;
comment|// move ctor
name|QCOMPARE
argument_list|(
name|copy
operator|.
name|type
argument_list|()
argument_list|,
name|QEasingCurve
operator|::
name|InOutBack
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
operator|*
cast|reinterpret_cast
argument_list|<
name|void
operator|*
operator|*
argument_list|>
argument_list|(
operator|&
name|ec
argument_list|)
operator|==
literal|0
argument_list|)
expr_stmt|;
block|}
block|{
name|QEasingCurve
name|ec
argument_list|(
name|QEasingCurve
operator|::
name|InOutBack
argument_list|)
decl_stmt|;
name|QEasingCurve
name|copy
decl_stmt|;
specifier|const
name|QEasingCurve
operator|::
name|Type
name|type
init|=
name|copy
operator|.
name|type
argument_list|()
decl_stmt|;
name|copy
operator|=
name|std
operator|::
name|move
argument_list|(
name|ec
argument_list|)
expr_stmt|;
comment|// move assignment op
name|QCOMPARE
argument_list|(
name|copy
operator|.
name|type
argument_list|()
argument_list|,
name|QEasingCurve
operator|::
name|InOutBack
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|ec
operator|.
name|type
argument_list|()
argument_list|,
name|type
argument_list|)
expr_stmt|;
block|}
endif|#
directive|endif
block|}
end_function
begin_macro
name|QTEST_MAIN
argument_list|(
argument|tst_QEasingCurve
argument_list|)
end_macro
begin_include
include|#
directive|include
file|"tst_qeasingcurve.moc"
end_include
end_unit
