begin_unit
begin_comment
comment|/**************************************************************************** ** ** Copyright (C) 2013 Digia Plc and/or its subsidiary(-ies). ** Contact: http://www.qt-project.org/legal ** ** This file is part of the test suite of the Qt Toolkit. ** ** $QT_BEGIN_LICENSE:LGPL$ ** Commercial License Usage ** Licensees holding valid commercial Qt licenses may use this file in ** accordance with the commercial license agreement provided with the ** Software or, alternatively, in accordance with the terms contained in ** a written agreement between you and Digia.  For licensing terms and ** conditions see http://qt.digia.com/licensing.  For further information ** use the contact form at http://qt.digia.com/contact-us. ** ** GNU Lesser General Public License Usage ** Alternatively, this file may be used under the terms of the GNU Lesser ** General Public License version 2.1 as published by the Free Software ** Foundation and appearing in the file LICENSE.LGPL included in the ** packaging of this file.  Please review the following information to ** ensure the GNU Lesser General Public License version 2.1 requirements ** will be met: http://www.gnu.org/licenses/old-licenses/lgpl-2.1.html. ** ** In addition, as a special exception, Digia gives you certain additional ** rights.  These rights are described in the Digia Qt LGPL Exception ** version 1.1, included in the file LGPL_EXCEPTION.txt in this package. ** ** GNU General Public License Usage ** Alternatively, this file may be used under the terms of the GNU ** General Public License version 3.0 as published by the Free Software ** Foundation and appearing in the file LICENSE.GPL included in the ** packaging of this file.  Please review the following information to ** ensure the GNU General Public License version 3.0 requirements will be ** met: http://www.gnu.org/copyleft/gpl.html. ** ** ** $QT_END_LICENSE$ ** ****************************************************************************/
end_comment
begin_include
include|#
directive|include
file|<QtTest/QtTest>
end_include
begin_include
include|#
directive|include
file|"qdatetime.h"
end_include
begin_class
DECL|class|tst_QTime
class|class
name|tst_QTime
super|:
specifier|public
name|QObject
block|{
name|Q_OBJECT
private|private
name|slots
private|:
name|void
name|msecsTo_data
parameter_list|()
function_decl|;
name|void
name|msecsTo
parameter_list|()
function_decl|;
name|void
name|secsTo_data
parameter_list|()
function_decl|;
name|void
name|secsTo
parameter_list|()
function_decl|;
name|void
name|setHMS_data
parameter_list|()
function_decl|;
name|void
name|setHMS
parameter_list|()
function_decl|;
name|void
name|hour_data
parameter_list|()
function_decl|;
name|void
name|hour
parameter_list|()
function_decl|;
name|void
name|isValid
parameter_list|()
function_decl|;
name|void
name|isNull
parameter_list|()
function_decl|;
name|void
name|addMSecs_data
parameter_list|()
function_decl|;
name|void
name|addMSecs
parameter_list|()
function_decl|;
name|void
name|addSecs_data
parameter_list|()
function_decl|;
name|void
name|addSecs
parameter_list|()
function_decl|;
name|void
name|operator_eq_eq_data
parameter_list|()
function_decl|;
name|void
name|operator_eq_eq
parameter_list|()
function_decl|;
name|void
name|operator_lt
parameter_list|()
function_decl|;
name|void
name|operator_gt
parameter_list|()
function_decl|;
name|void
name|operator_lt_eq
parameter_list|()
function_decl|;
name|void
name|operator_gt_eq
parameter_list|()
function_decl|;
name|void
name|fromStringFormat_data
parameter_list|()
function_decl|;
name|void
name|fromStringFormat
parameter_list|()
function_decl|;
name|void
name|fromStringDateFormat_data
parameter_list|()
function_decl|;
name|void
name|fromStringDateFormat
parameter_list|()
function_decl|;
name|void
name|toStringDateFormat_data
parameter_list|()
function_decl|;
name|void
name|toStringDateFormat
parameter_list|()
function_decl|;
name|void
name|toStringFormat_data
parameter_list|()
function_decl|;
name|void
name|toStringFormat
parameter_list|()
function_decl|;
name|void
name|toStringLocale
parameter_list|()
function_decl|;
name|void
name|msecsSinceStartOfDay_data
parameter_list|()
function_decl|;
name|void
name|msecsSinceStartOfDay
parameter_list|()
function_decl|;
private|private:
DECL|function|invalidTime
name|QTime
name|invalidTime
parameter_list|()
block|{
return|return
name|QTime
argument_list|(
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
return|;
block|}
block|}
class|;
end_class
begin_macro
name|Q_DECLARE_METATYPE
argument_list|(
argument|Qt::DateFormat
argument_list|)
end_macro
begin_function
DECL|function|addSecs_data
name|void
name|tst_QTime
operator|::
name|addSecs_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|QTime
argument_list|>
argument_list|(
literal|"t1"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"i"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QTime
argument_list|>
argument_list|(
literal|"exp"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data0"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
literal|200
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|3
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data1"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
literal|20
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|20
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|addSecs
name|void
name|tst_QTime
operator|::
name|addSecs
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|QTime
argument_list|,
name|t1
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|int
argument_list|,
name|i
argument_list|)
expr_stmt|;
name|QTime
name|t2
decl_stmt|;
name|t2
operator|=
name|t1
operator|.
name|addSecs
argument_list|(
name|i
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QTime
argument_list|,
name|exp
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|t2
argument_list|,
name|exp
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|addMSecs_data
name|void
name|tst_QTime
operator|::
name|addMSecs_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|QTime
argument_list|>
argument_list|(
literal|"t1"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"i"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QTime
argument_list|>
argument_list|(
literal|"exp"
argument_list|)
expr_stmt|;
comment|// start with testing positive values
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data1_0"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
literal|2000
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data1_1"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
literal|200
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|200
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data1_2"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
literal|20
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data1_3"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
operator|<<
literal|1
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data1_4"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
literal|0
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data2_0"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|98
argument_list|)
operator|<<
literal|0
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|98
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data2_1"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|98
argument_list|)
operator|<<
literal|1
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|99
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data2_2"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|98
argument_list|)
operator|<<
literal|2
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|100
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data2_3"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|98
argument_list|)
operator|<<
literal|3
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|101
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data3_0"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|998
argument_list|)
operator|<<
literal|0
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|998
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data3_1"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|998
argument_list|)
operator|<<
literal|1
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|999
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data3_2"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|998
argument_list|)
operator|<<
literal|2
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data3_3"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|998
argument_list|)
operator|<<
literal|3
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data4_0"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|995
argument_list|)
operator|<<
literal|4
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|999
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data4_1"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|995
argument_list|)
operator|<<
literal|5
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data4_2"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|995
argument_list|)
operator|<<
literal|6
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data4_3"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|995
argument_list|)
operator|<<
literal|100
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
literal|95
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data4_4"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|995
argument_list|)
operator|<<
literal|105
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
literal|100
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data5_0"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
operator|<<
literal|4
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|59
argument_list|,
literal|999
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data5_1"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
operator|<<
literal|5
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data5_2"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
operator|<<
literal|6
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data5_3"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
operator|<<
literal|1006
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data6_0"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
operator|<<
literal|4
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|999
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data6_1"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
operator|<<
literal|5
operator|<<
name|QTime
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data6_2"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
operator|<<
literal|6
operator|<<
name|QTime
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data6_3"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
operator|<<
literal|106
operator|<<
name|QTime
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|101
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data6_4"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
operator|<<
literal|1004
operator|<<
name|QTime
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|999
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data6_5"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
operator|<<
literal|1005
operator|<<
name|QTime
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data6_6"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
operator|<<
literal|61006
operator|<<
name|QTime
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data7_0"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|23
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
operator|<<
literal|0
operator|<<
name|QTime
argument_list|(
literal|23
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data7_1"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|23
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
operator|<<
literal|4
operator|<<
name|QTime
argument_list|(
literal|23
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|999
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data7_2"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|23
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
operator|<<
literal|5
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data7_3"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|23
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
operator|<<
literal|6
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data7_4"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|23
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
operator|<<
literal|7
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
comment|// must test negative values too...
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data11_0"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
literal|0
argument_list|)
operator|<<
operator|-
literal|2000
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data11_1"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|200
argument_list|)
operator|<<
operator|-
literal|200
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data11_2"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|20
argument_list|)
operator|<<
operator|-
literal|20
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data11_3"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
operator|<<
operator|-
literal|1
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data11_4"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
operator|-
literal|0
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data12_0"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|98
argument_list|)
operator|<<
operator|-
literal|0
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|98
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data12_1"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|99
argument_list|)
operator|<<
operator|-
literal|1
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|98
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data12_2"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|100
argument_list|)
operator|<<
operator|-
literal|2
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|98
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data12_3"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|101
argument_list|)
operator|<<
operator|-
literal|3
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|98
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data13_0"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|998
argument_list|)
operator|<<
operator|-
literal|0
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|998
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data13_1"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|999
argument_list|)
operator|<<
operator|-
literal|1
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|998
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data13_2"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
operator|<<
operator|-
literal|2
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|998
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data13_3"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
operator|<<
operator|-
literal|3
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|998
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data14_0"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|999
argument_list|)
operator|<<
operator|-
literal|4
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|995
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data14_1"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
literal|0
argument_list|)
operator|<<
operator|-
literal|5
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|995
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data14_2"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
literal|1
argument_list|)
operator|<<
operator|-
literal|6
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|995
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data14_3"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
literal|95
argument_list|)
operator|<<
operator|-
literal|100
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|995
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data14_4"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
literal|100
argument_list|)
operator|<<
operator|-
literal|105
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|995
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data15_0"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|59
argument_list|,
literal|999
argument_list|)
operator|<<
operator|-
literal|4
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data15_1"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
operator|-
literal|5
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data15_2"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
operator|<<
operator|-
literal|6
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data15_3"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
operator|<<
operator|-
literal|1006
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data16_0"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|999
argument_list|)
operator|<<
operator|-
literal|4
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data16_1"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
operator|-
literal|5
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data16_2"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
operator|<<
operator|-
literal|6
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data16_3"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|101
argument_list|)
operator|<<
operator|-
literal|106
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data16_4"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|999
argument_list|)
operator|<<
operator|-
literal|1004
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data16_5"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
operator|<<
operator|-
literal|1005
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data16_6"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
operator|<<
operator|-
literal|61006
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data17_0"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|23
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
operator|<<
operator|-
literal|0
operator|<<
name|QTime
argument_list|(
literal|23
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data17_1"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|23
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|999
argument_list|)
operator|<<
operator|-
literal|4
operator|<<
name|QTime
argument_list|(
literal|23
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data17_2"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
operator|-
literal|5
operator|<<
name|QTime
argument_list|(
literal|23
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data17_3"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
operator|<<
operator|-
literal|6
operator|<<
name|QTime
argument_list|(
literal|23
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data17_4"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
operator|<<
operator|-
literal|7
operator|<<
name|QTime
argument_list|(
literal|23
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|995
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Data18_0"
argument_list|)
operator|<<
name|invalidTime
argument_list|()
operator|<<
literal|1
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
block|}
end_function
begin_function
DECL|function|addMSecs
name|void
name|tst_QTime
operator|::
name|addMSecs
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|QTime
argument_list|,
name|t1
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|int
argument_list|,
name|i
argument_list|)
expr_stmt|;
name|QTime
name|t2
decl_stmt|;
name|t2
operator|=
name|t1
operator|.
name|addMSecs
argument_list|(
name|i
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QTime
argument_list|,
name|exp
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|t2
argument_list|,
name|exp
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|isNull
name|void
name|tst_QTime
operator|::
name|isNull
parameter_list|()
block|{
name|QTime
name|t1
decl_stmt|;
name|QVERIFY
argument_list|(
name|t1
operator|.
name|isNull
argument_list|()
argument_list|)
expr_stmt|;
name|QTime
name|t2
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
decl_stmt|;
name|QVERIFY
argument_list|(
operator|!
name|t2
operator|.
name|isNull
argument_list|()
argument_list|)
expr_stmt|;
name|QTime
name|t3
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
decl_stmt|;
name|QVERIFY
argument_list|(
operator|!
name|t3
operator|.
name|isNull
argument_list|()
argument_list|)
expr_stmt|;
name|QTime
name|t4
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
decl_stmt|;
name|QVERIFY
argument_list|(
operator|!
name|t4
operator|.
name|isNull
argument_list|()
argument_list|)
expr_stmt|;
name|QTime
name|t5
argument_list|(
literal|23
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|)
decl_stmt|;
name|QVERIFY
argument_list|(
operator|!
name|t5
operator|.
name|isNull
argument_list|()
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|isValid
name|void
name|tst_QTime
operator|::
name|isValid
parameter_list|()
block|{
name|QTime
name|t1
decl_stmt|;
name|QVERIFY
argument_list|(
operator|!
name|t1
operator|.
name|isValid
argument_list|()
argument_list|)
expr_stmt|;
name|QTime
name|t2
argument_list|(
literal|24
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
decl_stmt|;
name|QVERIFY
argument_list|(
operator|!
name|t2
operator|.
name|isValid
argument_list|()
argument_list|)
expr_stmt|;
name|QTime
name|t3
argument_list|(
literal|23
argument_list|,
literal|60
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
decl_stmt|;
name|QVERIFY
argument_list|(
operator|!
name|t3
operator|.
name|isValid
argument_list|()
argument_list|)
expr_stmt|;
name|QTime
name|t4
argument_list|(
literal|23
argument_list|,
literal|0
argument_list|,
operator|-
literal|1
argument_list|,
literal|0
argument_list|)
decl_stmt|;
name|QVERIFY
argument_list|(
operator|!
name|t4
operator|.
name|isValid
argument_list|()
argument_list|)
expr_stmt|;
name|QTime
name|t5
argument_list|(
literal|23
argument_list|,
literal|0
argument_list|,
literal|60
argument_list|,
literal|0
argument_list|)
decl_stmt|;
name|QVERIFY
argument_list|(
operator|!
name|t5
operator|.
name|isValid
argument_list|()
argument_list|)
expr_stmt|;
name|QTime
name|t6
argument_list|(
literal|23
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|1000
argument_list|)
decl_stmt|;
name|QVERIFY
argument_list|(
operator|!
name|t6
operator|.
name|isValid
argument_list|()
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|hour_data
name|void
name|tst_QTime
operator|::
name|hour_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"hour"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"minute"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"sec"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"msec"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data0"
argument_list|)
operator|<<
literal|0
operator|<<
literal|0
operator|<<
literal|0
operator|<<
literal|0
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data1"
argument_list|)
operator|<<
literal|0
operator|<<
literal|0
operator|<<
literal|0
operator|<<
literal|1
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data2"
argument_list|)
operator|<<
literal|1
operator|<<
literal|2
operator|<<
literal|3
operator|<<
literal|4
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data3"
argument_list|)
operator|<<
literal|2
operator|<<
literal|12
operator|<<
literal|13
operator|<<
literal|65
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data4"
argument_list|)
operator|<<
literal|23
operator|<<
literal|59
operator|<<
literal|59
operator|<<
literal|999
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data5"
argument_list|)
operator|<<
operator|-
literal|1
operator|<<
operator|-
literal|1
operator|<<
operator|-
literal|1
operator|<<
operator|-
literal|1
expr_stmt|;
block|}
end_function
begin_function
DECL|function|hour
name|void
name|tst_QTime
operator|::
name|hour
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|int
argument_list|,
name|hour
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|int
argument_list|,
name|minute
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|int
argument_list|,
name|sec
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|int
argument_list|,
name|msec
argument_list|)
expr_stmt|;
name|QTime
name|t1
argument_list|(
name|hour
argument_list|,
name|minute
argument_list|,
name|sec
argument_list|,
name|msec
argument_list|)
decl_stmt|;
name|QCOMPARE
argument_list|(
name|t1
operator|.
name|hour
argument_list|()
argument_list|,
name|hour
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|t1
operator|.
name|minute
argument_list|()
argument_list|,
name|minute
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|t1
operator|.
name|second
argument_list|()
argument_list|,
name|sec
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|t1
operator|.
name|msec
argument_list|()
argument_list|,
name|msec
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|setHMS_data
name|void
name|tst_QTime
operator|::
name|setHMS_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"hour"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"minute"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"sec"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data0"
argument_list|)
operator|<<
literal|0
operator|<<
literal|0
operator|<<
literal|0
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data1"
argument_list|)
operator|<<
literal|1
operator|<<
literal|2
operator|<<
literal|3
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data2"
argument_list|)
operator|<<
literal|0
operator|<<
literal|59
operator|<<
literal|0
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data3"
argument_list|)
operator|<<
literal|0
operator|<<
literal|59
operator|<<
literal|59
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data4"
argument_list|)
operator|<<
literal|23
operator|<<
literal|0
operator|<<
literal|0
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data5"
argument_list|)
operator|<<
literal|23
operator|<<
literal|59
operator|<<
literal|0
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data6"
argument_list|)
operator|<<
literal|23
operator|<<
literal|59
operator|<<
literal|59
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data7"
argument_list|)
operator|<<
operator|-
literal|1
operator|<<
operator|-
literal|1
operator|<<
operator|-
literal|1
expr_stmt|;
block|}
end_function
begin_function
DECL|function|setHMS
name|void
name|tst_QTime
operator|::
name|setHMS
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|int
argument_list|,
name|hour
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|int
argument_list|,
name|minute
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|int
argument_list|,
name|sec
argument_list|)
expr_stmt|;
name|QTime
name|t
argument_list|(
literal|3
argument_list|,
literal|4
argument_list|,
literal|5
argument_list|)
decl_stmt|;
name|t
operator|.
name|setHMS
argument_list|(
name|hour
argument_list|,
name|minute
argument_list|,
name|sec
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|t
operator|.
name|hour
argument_list|()
argument_list|,
name|hour
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|t
operator|.
name|minute
argument_list|()
argument_list|,
name|minute
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|t
operator|.
name|second
argument_list|()
argument_list|,
name|sec
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|secsTo_data
name|void
name|tst_QTime
operator|::
name|secsTo_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|QTime
argument_list|>
argument_list|(
literal|"t1"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QTime
argument_list|>
argument_list|(
literal|"t2"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"delta"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data0"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|59
argument_list|)
operator|<<
literal|59
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data1"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
operator|<<
literal|60
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data2"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|10
argument_list|,
literal|0
argument_list|)
operator|<<
literal|600
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data3"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|23
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|)
operator|<<
literal|86399
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data4"
argument_list|)
operator|<<
name|QTime
argument_list|(
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
literal|0
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data5"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
name|QTime
argument_list|(
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
operator|<<
literal|0
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data6"
argument_list|)
operator|<<
name|QTime
argument_list|(
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
operator|<<
name|QTime
argument_list|(
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
operator|<<
literal|0
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"disregard msec (1s)"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|12
argument_list|,
literal|30
argument_list|,
literal|1
argument_list|,
literal|500
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|12
argument_list|,
literal|30
argument_list|,
literal|2
argument_list|,
literal|400
argument_list|)
operator|<<
literal|1
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"disregard msec (0s)"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|12
argument_list|,
literal|30
argument_list|,
literal|1
argument_list|,
literal|500
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|12
argument_list|,
literal|30
argument_list|,
literal|1
argument_list|,
literal|900
argument_list|)
operator|<<
literal|0
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"disregard msec (-1s)"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|12
argument_list|,
literal|30
argument_list|,
literal|2
argument_list|,
literal|400
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|12
argument_list|,
literal|30
argument_list|,
literal|1
argument_list|,
literal|500
argument_list|)
operator|<<
operator|-
literal|1
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"disregard msec (0s)"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|12
argument_list|,
literal|30
argument_list|,
literal|1
argument_list|,
literal|900
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|12
argument_list|,
literal|30
argument_list|,
literal|1
argument_list|,
literal|500
argument_list|)
operator|<<
literal|0
expr_stmt|;
block|}
end_function
begin_function
DECL|function|secsTo
name|void
name|tst_QTime
operator|::
name|secsTo
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|QTime
argument_list|,
name|t1
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QTime
argument_list|,
name|t2
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|int
argument_list|,
name|delta
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|t1
operator|.
name|secsTo
argument_list|(
name|t2
argument_list|)
argument_list|,
name|delta
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|msecsTo_data
name|void
name|tst_QTime
operator|::
name|msecsTo_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|QTime
argument_list|>
argument_list|(
literal|"t1"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QTime
argument_list|>
argument_list|(
literal|"t2"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"delta"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data0"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
literal|0
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data1"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
operator|<<
literal|1000
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data2"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|10
argument_list|,
literal|0
argument_list|)
operator|<<
literal|10000
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data3"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|23
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|0
argument_list|)
operator|<<
literal|86399000
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data4"
argument_list|)
operator|<<
name|QTime
argument_list|(
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
literal|0
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data5"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
name|QTime
argument_list|(
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
operator|<<
literal|0
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data6"
argument_list|)
operator|<<
name|QTime
argument_list|(
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
operator|<<
name|QTime
argument_list|(
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
operator|<<
literal|0
expr_stmt|;
block|}
end_function
begin_function
DECL|function|msecsTo
name|void
name|tst_QTime
operator|::
name|msecsTo
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|QTime
argument_list|,
name|t1
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QTime
argument_list|,
name|t2
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|int
argument_list|,
name|delta
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|t1
operator|.
name|msecsTo
argument_list|(
name|t2
argument_list|)
argument_list|,
name|delta
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|operator_eq_eq_data
name|void
name|tst_QTime
operator|::
name|operator_eq_eq_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|QTime
argument_list|>
argument_list|(
literal|"t1"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QTime
argument_list|>
argument_list|(
literal|"t2"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"expectEqual"
argument_list|)
expr_stmt|;
name|QTime
name|time1
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
decl_stmt|;
name|QTime
name|time2
init|=
name|time1
operator|.
name|addMSecs
argument_list|(
literal|1
argument_list|)
decl_stmt|;
name|QTime
name|time3
init|=
name|time1
operator|.
name|addMSecs
argument_list|(
operator|-
literal|1
argument_list|)
decl_stmt|;
name|QTime
name|time4
argument_list|(
literal|23
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|,
literal|999
argument_list|)
decl_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data0"
argument_list|)
operator|<<
name|time1
operator|<<
name|time2
operator|<<
literal|false
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data1"
argument_list|)
operator|<<
name|time2
operator|<<
name|time3
operator|<<
literal|false
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data2"
argument_list|)
operator|<<
name|time4
operator|<<
name|time1
operator|<<
literal|false
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data3"
argument_list|)
operator|<<
name|time1
operator|<<
name|time1
operator|<<
literal|true
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data4"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|12
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|12
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
operator|<<
literal|true
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data5"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|01
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
operator|<<
literal|false
expr_stmt|;
block|}
end_function
begin_function
DECL|function|operator_eq_eq
name|void
name|tst_QTime
operator|::
name|operator_eq_eq
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|QTime
argument_list|,
name|t1
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QTime
argument_list|,
name|t2
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|expectEqual
argument_list|)
expr_stmt|;
name|bool
name|equal
init|=
name|t1
operator|==
name|t2
decl_stmt|;
name|QCOMPARE
argument_list|(
name|equal
argument_list|,
name|expectEqual
argument_list|)
expr_stmt|;
name|bool
name|notEqual
init|=
name|t1
operator|!=
name|t2
decl_stmt|;
name|QCOMPARE
argument_list|(
name|notEqual
argument_list|,
operator|!
name|expectEqual
argument_list|)
expr_stmt|;
if|if
condition|(
name|equal
condition|)
name|QVERIFY
argument_list|(
name|qHash
argument_list|(
name|t1
argument_list|)
operator|==
name|qHash
argument_list|(
name|t2
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|operator_lt
name|void
name|tst_QTime
operator|::
name|operator_lt
parameter_list|()
block|{
name|QTime
name|t1
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
decl_stmt|;
name|QTime
name|t2
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
decl_stmt|;
name|QVERIFY
argument_list|(
operator|!
operator|(
name|t1
operator|<
name|t2
operator|)
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|12
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|12
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|30
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|t1
operator|<
name|t2
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|46
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|t1
operator|<
name|t2
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|24
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|t1
operator|<
name|t2
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|12
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|t1
operator|<
name|t2
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|14
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
operator|!
operator|(
name|t1
operator|<
name|t2
operator|)
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|44
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
operator|!
operator|(
name|t1
operator|<
name|t2
operator|)
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|46
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
operator|!
operator|(
name|t1
operator|<
name|t2
operator|)
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|44
argument_list|,
literal|56
argument_list|,
literal|30
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|44
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
operator|!
operator|(
name|t1
operator|<
name|t2
operator|)
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|operator_gt
name|void
name|tst_QTime
operator|::
name|operator_gt
parameter_list|()
block|{
name|QTime
name|t1
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
decl_stmt|;
name|QTime
name|t2
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
decl_stmt|;
name|QVERIFY
argument_list|(
operator|!
operator|(
name|t1
operator|>
name|t2
operator|)
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|12
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|12
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|30
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
operator|!
operator|(
name|t1
operator|>
name|t2
operator|)
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|46
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
operator|!
operator|(
name|t1
operator|>
name|t2
operator|)
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|24
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
operator|!
operator|(
name|t1
operator|>
name|t2
operator|)
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|12
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
operator|!
operator|(
name|t1
operator|>
name|t2
operator|)
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|14
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|t1
operator|>
name|t2
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|44
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|t1
operator|>
name|t2
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|46
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|t1
operator|>
name|t2
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|44
argument_list|,
literal|56
argument_list|,
literal|30
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|44
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|t1
operator|>
name|t2
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|operator_lt_eq
name|void
name|tst_QTime
operator|::
name|operator_lt_eq
parameter_list|()
block|{
name|QTime
name|t1
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
decl_stmt|;
name|QTime
name|t2
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
decl_stmt|;
name|QVERIFY
argument_list|(
name|t1
operator|<=
name|t2
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|12
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|12
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|30
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|t1
operator|<=
name|t2
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|46
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|t1
operator|<=
name|t2
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|24
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|t1
operator|<=
name|t2
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|12
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|t1
operator|<=
name|t2
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|14
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
operator|!
operator|(
name|t1
operator|<=
name|t2
operator|)
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|44
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
operator|!
operator|(
name|t1
operator|<=
name|t2
operator|)
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|46
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
operator|!
operator|(
name|t1
operator|<=
name|t2
operator|)
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|44
argument_list|,
literal|56
argument_list|,
literal|30
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|44
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
operator|!
operator|(
name|t1
operator|<=
name|t2
operator|)
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|operator_gt_eq
name|void
name|tst_QTime
operator|::
name|operator_gt_eq
parameter_list|()
block|{
name|QTime
name|t1
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
decl_stmt|;
name|QTime
name|t2
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
decl_stmt|;
name|QVERIFY
argument_list|(
name|t1
operator|>=
name|t2
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|12
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|12
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|30
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
operator|!
operator|(
name|t1
operator|>=
name|t2
operator|)
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|46
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
operator|!
operator|(
name|t1
operator|>=
name|t2
operator|)
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|24
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
operator|!
operator|(
name|t1
operator|>=
name|t2
operator|)
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|12
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
operator|!
operator|(
name|t1
operator|>=
name|t2
operator|)
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|14
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|t1
operator|>=
name|t2
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|44
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|t1
operator|>=
name|t2
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|34
argument_list|,
literal|46
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|t1
operator|>=
name|t2
argument_list|)
expr_stmt|;
name|t1
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|44
argument_list|,
literal|56
argument_list|,
literal|30
argument_list|)
expr_stmt|;
name|t2
operator|=
name|QTime
argument_list|(
literal|13
argument_list|,
literal|44
argument_list|,
literal|56
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|t1
operator|>=
name|t2
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|fromStringFormat_data
name|void
name|tst_QTime
operator|::
name|fromStringFormat_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|QString
argument_list|>
argument_list|(
literal|"string"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QString
argument_list|>
argument_list|(
literal|"format"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QTime
argument_list|>
argument_list|(
literal|"expected"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data0"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"1010"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"mmm"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|10
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data1"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"00"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"hm"
argument_list|)
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data2"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"10am"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"hap"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|10
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data3"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"10pm"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"hap"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|22
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data4"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"10pmam"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"hapap"
argument_list|)
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data5"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"1070"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"hhm"
argument_list|)
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data6"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"1011"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"hh"
argument_list|)
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data7"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"25"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"hh"
argument_list|)
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data8"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"22pm"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"Hap"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|22
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data9"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"2221"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"hhhh"
argument_list|)
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data10"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"02:23PM"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"hh:mmAP"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|14
argument_list|,
literal|23
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data11"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"02:23pm"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"hh:mmap"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|14
argument_list|,
literal|23
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|fromStringFormat
name|void
name|tst_QTime
operator|::
name|fromStringFormat
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|QString
argument_list|,
name|string
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QString
argument_list|,
name|format
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QTime
argument_list|,
name|expected
argument_list|)
expr_stmt|;
name|QTime
name|dt
init|=
name|QTime
operator|::
name|fromString
argument_list|(
name|string
argument_list|,
name|format
argument_list|)
decl_stmt|;
name|QCOMPARE
argument_list|(
name|dt
argument_list|,
name|expected
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|fromStringDateFormat_data
name|void
name|tst_QTime
operator|::
name|fromStringDateFormat_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|QString
argument_list|>
argument_list|(
literal|"string"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|Qt
operator|::
name|DateFormat
argument_list|>
argument_list|(
literal|"format"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QTime
argument_list|>
argument_list|(
literal|"expected"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"TextDate - data0"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"00:00:00"
argument_list|)
operator|<<
name|Qt
operator|::
name|TextDate
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"TextDate - data1"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"10:12:34"
argument_list|)
operator|<<
name|Qt
operator|::
name|TextDate
operator|<<
name|QTime
argument_list|(
literal|10
argument_list|,
literal|12
argument_list|,
literal|34
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"TextDate - data2"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"19:03:54.998601"
argument_list|)
operator|<<
name|Qt
operator|::
name|TextDate
operator|<<
name|QTime
argument_list|(
literal|19
argument_list|,
literal|3
argument_list|,
literal|54
argument_list|,
literal|999
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"TextDate - data3"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"19:03:54.999601"
argument_list|)
operator|<<
name|Qt
operator|::
name|TextDate
operator|<<
name|QTime
argument_list|(
literal|19
argument_list|,
literal|3
argument_list|,
literal|54
argument_list|,
literal|999
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"TextDate - data4"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"10:12"
argument_list|)
operator|<<
name|Qt
operator|::
name|TextDate
operator|<<
name|QTime
argument_list|(
literal|10
argument_list|,
literal|12
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"TextDate - invalid, minutes"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"23:XX:00"
argument_list|)
operator|<<
name|Qt
operator|::
name|TextDate
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"TextDate - invalid, minute fraction"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"23:00.123456"
argument_list|)
operator|<<
name|Qt
operator|::
name|TextDate
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"TextDate - invalid, seconds"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"23:00:XX"
argument_list|)
operator|<<
name|Qt
operator|::
name|TextDate
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"TextDate - invalid, milliseconds"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"23:01:01:XXXX"
argument_list|)
operator|<<
name|Qt
operator|::
name|TextDate
operator|<<
name|QTime
argument_list|(
literal|23
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"TextDate - midnight 24"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"24:00:00"
argument_list|)
operator|<<
name|Qt
operator|::
name|TextDate
operator|<<
name|QTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"IsoDate - valid, start of day, omit seconds"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"00:00"
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"IsoDate - valid, omit seconds"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"22:21"
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|QTime
argument_list|(
literal|22
argument_list|,
literal|21
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"IsoDate - valid, omit seconds (2)"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"23:59"
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|QTime
argument_list|(
literal|23
argument_list|,
literal|59
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"IsoDate - valid, end of day"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"23:59:59"
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|QTime
argument_list|(
literal|23
argument_list|,
literal|59
argument_list|,
literal|59
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"IsoDate - invalid, empty string"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|""
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"IsoDate - invalid, too many hours"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"25:00"
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"IsoDate - invalid, too many minutes"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"10:70"
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
comment|// This is a valid time if it happens on June 30 or December 31 (leap seconds).
name|QTest
operator|::
name|newRow
argument_list|(
literal|"IsoDate - invalid, too many seconds"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"23:59:60"
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"IsoDate - invalid, minutes"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"23:XX:00"
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"IsoDate - invalid, not enough minutes"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"23:0"
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"IsoDate - invalid, minute fraction"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"23:00,XX"
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"IsoDate - invalid, seconds"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"23:00:XX"
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"IsoDate - invalid, milliseconds"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"23:01:01:XXXX"
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|QTime
argument_list|(
literal|23
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"IsoDate - data0"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"00:00:00"
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"IsoDate - data1"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"10:12:34"
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|QTime
argument_list|(
literal|10
argument_list|,
literal|12
argument_list|,
literal|34
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"IsoDate - data2"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"19:03:54.998601"
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|QTime
argument_list|(
literal|19
argument_list|,
literal|3
argument_list|,
literal|54
argument_list|,
literal|999
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"IsoDate - data3"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"19:03:54.999601"
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|QTime
argument_list|(
literal|19
argument_list|,
literal|3
argument_list|,
literal|54
argument_list|,
literal|999
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"IsoDate - midnight 24"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"24:00:00"
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"IsoDate - minute fraction midnight"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"24:00,0"
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
comment|// Test Qt::RFC2822Date format (RFC 2822).
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RFC 2822"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"13 Feb 1987 13:24:51 +0100"
argument_list|)
operator|<<
name|Qt
operator|::
name|RFC2822Date
operator|<<
name|QTime
argument_list|(
literal|13
argument_list|,
literal|24
argument_list|,
literal|51
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RFC 2822 with day"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"Thu, 01 Jan 1970 00:12:34 +0000"
argument_list|)
operator|<<
name|Qt
operator|::
name|RFC2822Date
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|12
argument_list|,
literal|34
argument_list|)
expr_stmt|;
comment|// No timezone
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RFC 2822 no timezone"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"01 Jan 1970 00:12:34"
argument_list|)
operator|<<
name|Qt
operator|::
name|RFC2822Date
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|12
argument_list|,
literal|34
argument_list|)
expr_stmt|;
comment|// No time specified
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RFC 2822 date only"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"01 Nov 2002"
argument_list|)
operator|<<
name|Qt
operator|::
name|RFC2822Date
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RFC 2822 with day date only"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"Fri, 01 Nov 2002"
argument_list|)
operator|<<
name|Qt
operator|::
name|RFC2822Date
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
comment|// Test invalid month, day, year
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RFC 2822 invalid month name"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"13 Fev 1987 13:24:51 +0100"
argument_list|)
operator|<<
name|Qt
operator|::
name|RFC2822Date
operator|<<
name|QTime
argument_list|(
literal|13
argument_list|,
literal|24
argument_list|,
literal|51
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RFC 2822 invalid day"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"36 Fev 1987 13:24:51 +0100"
argument_list|)
operator|<<
name|Qt
operator|::
name|RFC2822Date
operator|<<
name|QTime
argument_list|(
literal|13
argument_list|,
literal|24
argument_list|,
literal|51
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RFC 2822 invalid year"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"13 Fev 0000 13:24:51 +0100"
argument_list|)
operator|<<
name|Qt
operator|::
name|RFC2822Date
operator|<<
name|QTime
argument_list|(
literal|13
argument_list|,
literal|24
argument_list|,
literal|51
argument_list|)
expr_stmt|;
comment|// Test invalid characters (should ignore invalid characters at end of string).
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RFC 2822 invalid character at end"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"01 Jan 2012 08:00:00 +0100!"
argument_list|)
operator|<<
name|Qt
operator|::
name|RFC2822Date
operator|<<
name|QTime
argument_list|(
literal|8
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RFC 2822 invalid character at front"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"!01 Jan 2012 08:00:00 +0000"
argument_list|)
operator|<<
name|Qt
operator|::
name|RFC2822Date
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RFC 2822 invalid character both ends"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"!01 Jan 2012 08:00:00 +0000!"
argument_list|)
operator|<<
name|Qt
operator|::
name|RFC2822Date
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RFC 2822 invalid character at front, 2 at back"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"!01 Jan 2012 08:00:00 +0000.."
argument_list|)
operator|<<
name|Qt
operator|::
name|RFC2822Date
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RFC 2822 invalid character 2 at front"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"!!01 Jan 2012 08:00:00 +0000"
argument_list|)
operator|<<
name|Qt
operator|::
name|RFC2822Date
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
comment|// Test Qt::RFC2822Date format (RFC 850 and 1036).
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RFC 850 and 1036"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"Fri Feb 13 13:24:51 1987 +0100"
argument_list|)
operator|<<
name|Qt
operator|::
name|RFC2822Date
operator|<<
name|QTime
argument_list|(
literal|13
argument_list|,
literal|24
argument_list|,
literal|51
argument_list|)
expr_stmt|;
comment|// No timezone
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RFC 850 and 1036 no timezone"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"Thu Jan 01 00:12:34 1970"
argument_list|)
operator|<<
name|Qt
operator|::
name|RFC2822Date
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|12
argument_list|,
literal|34
argument_list|)
expr_stmt|;
comment|// No time specified
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RFC 850 and 1036 date only"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"Fri Nov 01 2002"
argument_list|)
operator|<<
name|Qt
operator|::
name|RFC2822Date
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
comment|// Test invalid characters (should ignore invalid characters at end of string).
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RFC 850 and 1036 invalid character at end"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"Sun Jan 01 08:00:00 2012 +0100!"
argument_list|)
operator|<<
name|Qt
operator|::
name|RFC2822Date
operator|<<
name|QTime
argument_list|(
literal|8
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RFC 850 and 1036 invalid character at front"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"!Sun Jan 01 08:00:00 2012 +0000"
argument_list|)
operator|<<
name|Qt
operator|::
name|RFC2822Date
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RFC 850 and 1036 invalid character both ends"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"!Sun Jan 01 08:00:00 2012 +0000!"
argument_list|)
operator|<<
name|Qt
operator|::
name|RFC2822Date
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RFC 850 and 1036 invalid character at front, 2 at back"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"!Sun Jan 01 08:00:00 2012 +0000.."
argument_list|)
operator|<<
name|Qt
operator|::
name|RFC2822Date
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RFC empty"
argument_list|)
operator|<<
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|""
argument_list|)
operator|<<
name|Qt
operator|::
name|RFC2822Date
operator|<<
name|invalidTime
argument_list|()
expr_stmt|;
block|}
end_function
begin_function
DECL|function|fromStringDateFormat
name|void
name|tst_QTime
operator|::
name|fromStringDateFormat
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|QString
argument_list|,
name|string
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|Qt
operator|::
name|DateFormat
argument_list|,
name|format
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QTime
argument_list|,
name|expected
argument_list|)
expr_stmt|;
name|QTime
name|dt
init|=
name|QTime
operator|::
name|fromString
argument_list|(
name|string
argument_list|,
name|format
argument_list|)
decl_stmt|;
name|QCOMPARE
argument_list|(
name|dt
argument_list|,
name|expected
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|toStringDateFormat_data
name|void
name|tst_QTime
operator|::
name|toStringDateFormat_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|QTime
argument_list|>
argument_list|(
literal|"time"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|Qt
operator|::
name|DateFormat
argument_list|>
argument_list|(
literal|"format"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QString
argument_list|>
argument_list|(
literal|"expected"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"00:00:00.000"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
name|Qt
operator|::
name|TextDate
operator|<<
name|QString
argument_list|(
literal|"00:00:00.000"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ISO 00:00:00.000"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|QString
argument_list|(
literal|"00:00:00.000"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Text 10:12:34.000"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|10
argument_list|,
literal|12
argument_list|,
literal|34
argument_list|,
literal|0
argument_list|)
operator|<<
name|Qt
operator|::
name|TextDate
operator|<<
name|QString
argument_list|(
literal|"10:12:34.000"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ISO 10:12:34.000"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|10
argument_list|,
literal|12
argument_list|,
literal|34
argument_list|,
literal|0
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|QString
argument_list|(
literal|"10:12:34.000"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Text 10:12:34.001"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|10
argument_list|,
literal|12
argument_list|,
literal|34
argument_list|,
literal|001
argument_list|)
operator|<<
name|Qt
operator|::
name|TextDate
operator|<<
name|QString
argument_list|(
literal|"10:12:34.001"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ISO 10:12:34.001"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|10
argument_list|,
literal|12
argument_list|,
literal|34
argument_list|,
literal|001
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|QString
argument_list|(
literal|"10:12:34.001"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"Text 10:12:34.999"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|10
argument_list|,
literal|12
argument_list|,
literal|34
argument_list|,
literal|999
argument_list|)
operator|<<
name|Qt
operator|::
name|TextDate
operator|<<
name|QString
argument_list|(
literal|"10:12:34.999"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ISO 10:12:34.999"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|10
argument_list|,
literal|12
argument_list|,
literal|34
argument_list|,
literal|999
argument_list|)
operator|<<
name|Qt
operator|::
name|ISODate
operator|<<
name|QString
argument_list|(
literal|"10:12:34.999"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"RFC2822Date"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|10
argument_list|,
literal|12
argument_list|,
literal|34
argument_list|,
literal|999
argument_list|)
operator|<<
name|Qt
operator|::
name|RFC2822Date
operator|<<
name|QString
argument_list|(
literal|"10:12:34"
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|toStringDateFormat
name|void
name|tst_QTime
operator|::
name|toStringDateFormat
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|QTime
argument_list|,
name|time
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|Qt
operator|::
name|DateFormat
argument_list|,
name|format
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QString
argument_list|,
name|expected
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|time
operator|.
name|toString
argument_list|(
name|format
argument_list|)
argument_list|,
name|expected
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|toStringFormat_data
name|void
name|tst_QTime
operator|::
name|toStringFormat_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|QTime
argument_list|>
argument_list|(
literal|"t"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QString
argument_list|>
argument_list|(
literal|"format"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QString
argument_list|>
argument_list|(
literal|"str"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data0"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"h:m:s:z"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"0:0:0:0"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data1"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|10
argument_list|,
literal|12
argument_list|,
literal|34
argument_list|,
literal|53
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"hh:mm:ss:zzz"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"10:12:34:053"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data2"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|10
argument_list|,
literal|12
argument_list|,
literal|34
argument_list|,
literal|45
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"hh:m:ss:z"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"10:12:34:45"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data3"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|10
argument_list|,
literal|12
argument_list|,
literal|34
argument_list|,
literal|45
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"hh:ss ap"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"10:34 am"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data4"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|22
argument_list|,
literal|12
argument_list|,
literal|34
argument_list|,
literal|45
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"hh:zzz AP"
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"10:045 PM"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data5"
argument_list|)
operator|<<
name|QTime
argument_list|(
literal|230
argument_list|,
literal|230
argument_list|,
literal|230
argument_list|,
literal|230
argument_list|)
operator|<<
name|QString
argument_list|(
literal|"hh:mm:ss"
argument_list|)
operator|<<
name|QString
argument_list|()
expr_stmt|;
block|}
end_function
begin_function
DECL|function|toStringFormat
name|void
name|tst_QTime
operator|::
name|toStringFormat
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|QTime
argument_list|,
name|t
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QString
argument_list|,
name|format
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QString
argument_list|,
name|str
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|t
operator|.
name|toString
argument_list|(
name|format
argument_list|)
argument_list|,
name|str
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|toStringLocale
name|void
name|tst_QTime
operator|::
name|toStringLocale
parameter_list|()
block|{
name|QTime
name|time
argument_list|(
literal|18
argument_list|,
literal|30
argument_list|)
decl_stmt|;
name|QCOMPARE
argument_list|(
name|time
operator|.
name|toString
argument_list|(
name|Qt
operator|::
name|SystemLocaleDate
argument_list|)
argument_list|,
name|QLocale
operator|::
name|system
argument_list|()
operator|.
name|toString
argument_list|(
name|time
argument_list|,
name|QLocale
operator|::
name|ShortFormat
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|time
operator|.
name|toString
argument_list|(
name|Qt
operator|::
name|LocaleDate
argument_list|)
argument_list|,
name|QLocale
argument_list|()
operator|.
name|toString
argument_list|(
name|time
argument_list|,
name|QLocale
operator|::
name|ShortFormat
argument_list|)
argument_list|)
expr_stmt|;
name|QLocale
operator|::
name|setDefault
argument_list|(
name|QLocale
operator|::
name|German
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|time
operator|.
name|toString
argument_list|(
name|Qt
operator|::
name|SystemLocaleDate
argument_list|)
argument_list|,
name|QLocale
operator|::
name|system
argument_list|()
operator|.
name|toString
argument_list|(
name|time
argument_list|,
name|QLocale
operator|::
name|ShortFormat
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|time
operator|.
name|toString
argument_list|(
name|Qt
operator|::
name|LocaleDate
argument_list|)
argument_list|,
name|QLocale
argument_list|()
operator|.
name|toString
argument_list|(
name|time
argument_list|,
name|QLocale
operator|::
name|ShortFormat
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|msecsSinceStartOfDay_data
name|void
name|tst_QTime
operator|::
name|msecsSinceStartOfDay_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"msecs"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"isValid"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"hour"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"minute"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"second"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"msec"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"00:00:00.000"
argument_list|)
operator|<<
literal|0
operator|<<
literal|true
operator|<<
literal|0
operator|<<
literal|0
operator|<<
literal|0
operator|<<
literal|0
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"01:00:00.001"
argument_list|)
operator|<<
operator|(
operator|(
literal|1
operator|*
literal|3600
operator|*
literal|1000
operator|)
operator|+
literal|1
operator|)
operator|<<
literal|true
operator|<<
literal|1
operator|<<
literal|0
operator|<<
literal|0
operator|<<
literal|1
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"03:04:05.678"
argument_list|)
operator|<<
operator|(
operator|(
literal|3
operator|*
literal|3600
operator|+
literal|4
operator|*
literal|60
operator|+
literal|5
operator|)
operator|*
literal|1000
operator|+
literal|678
operator|)
operator|<<
literal|true
operator|<<
literal|3
operator|<<
literal|4
operator|<<
literal|5
operator|<<
literal|678
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"23:59:59.999"
argument_list|)
operator|<<
operator|(
operator|(
literal|23
operator|*
literal|3600
operator|+
literal|59
operator|*
literal|60
operator|+
literal|59
operator|)
operator|*
literal|1000
operator|+
literal|999
operator|)
operator|<<
literal|true
operator|<<
literal|23
operator|<<
literal|59
operator|<<
literal|59
operator|<<
literal|999
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"24:00:00.000"
argument_list|)
operator|<<
operator|(
operator|(
literal|24
operator|*
literal|3600
operator|)
operator|*
literal|1000
operator|)
operator|<<
literal|false
operator|<<
operator|-
literal|1
operator|<<
operator|-
literal|1
operator|<<
operator|-
literal|1
operator|<<
operator|-
literal|1
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"-1 invalid"
argument_list|)
operator|<<
operator|-
literal|1
operator|<<
literal|false
operator|<<
operator|-
literal|1
operator|<<
operator|-
literal|1
operator|<<
operator|-
literal|1
operator|<<
operator|-
literal|1
expr_stmt|;
block|}
end_function
begin_function
DECL|function|msecsSinceStartOfDay
name|void
name|tst_QTime
operator|::
name|msecsSinceStartOfDay
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|int
argument_list|,
name|msecs
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|isValid
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|int
argument_list|,
name|hour
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|int
argument_list|,
name|minute
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|int
argument_list|,
name|second
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|int
argument_list|,
name|msec
argument_list|)
expr_stmt|;
name|QTime
name|time
init|=
name|QTime
operator|::
name|fromMSecsSinceStartOfDay
argument_list|(
name|msecs
argument_list|)
decl_stmt|;
name|QCOMPARE
argument_list|(
name|time
operator|.
name|isValid
argument_list|()
argument_list|,
name|isValid
argument_list|)
expr_stmt|;
if|if
condition|(
name|msecs
operator|>=
literal|0
condition|)
name|QCOMPARE
argument_list|(
name|time
operator|.
name|msecsSinceStartOfDay
argument_list|()
argument_list|,
name|msecs
argument_list|)
expr_stmt|;
else|else
name|QCOMPARE
argument_list|(
name|time
operator|.
name|msecsSinceStartOfDay
argument_list|()
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|time
operator|.
name|hour
argument_list|()
argument_list|,
name|hour
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|time
operator|.
name|minute
argument_list|()
argument_list|,
name|minute
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|time
operator|.
name|second
argument_list|()
argument_list|,
name|second
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|time
operator|.
name|msec
argument_list|()
argument_list|,
name|msec
argument_list|)
expr_stmt|;
block|}
end_function
begin_macro
name|QTEST_APPLESS_MAIN
argument_list|(
argument|tst_QTime
argument_list|)
end_macro
begin_include
include|#
directive|include
file|"tst_qtime.moc"
end_include
end_unit
