begin_unit
begin_comment
comment|/**************************************************************************** ** ** Copyright (C) 2013 Digia Plc and/or its subsidiary(-ies). ** Contact: http://www.qt-project.org/legal ** ** This file is part of the test suite of the Qt Toolkit. ** ** $QT_BEGIN_LICENSE:LGPL$ ** Commercial License Usage ** Licensees holding valid commercial Qt licenses may use this file in ** accordance with the commercial license agreement provided with the ** Software or, alternatively, in accordance with the terms contained in ** a written agreement between you and Digia.  For licensing terms and ** conditions see http://qt.digia.com/licensing.  For further information ** use the contact form at http://qt.digia.com/contact-us. ** ** GNU Lesser General Public License Usage ** Alternatively, this file may be used under the terms of the GNU Lesser ** General Public License version 2.1 as published by the Free Software ** Foundation and appearing in the file LICENSE.LGPL included in the ** packaging of this file.  Please review the following information to ** ensure the GNU Lesser General Public License version 2.1 requirements ** will be met: http://www.gnu.org/licenses/old-licenses/lgpl-2.1.html. ** ** In addition, as a special exception, Digia gives you certain additional ** rights.  These rights are described in the Digia Qt LGPL Exception ** version 1.1, included in the file LGPL_EXCEPTION.txt in this package. ** ** GNU General Public License Usage ** Alternatively, this file may be used under the terms of the GNU ** General Public License version 3.0 as published by the Free Software ** Foundation and appearing in the file LICENSE.GPL included in the ** packaging of this file.  Please review the following information to ** ensure the GNU General Public License version 3.0 requirements will be ** met: http://www.gnu.org/copyleft/gpl.html. ** ** ** $QT_END_LICENSE$ ** ****************************************************************************/
end_comment
begin_include
include|#
directive|include
file|<QtTest/QtTest>
end_include
begin_include
include|#
directive|include
file|<qvalidator.h>
end_include
begin_class
DECL|class|tst_QDoubleValidator
class|class
name|tst_QDoubleValidator
super|:
specifier|public
name|QObject
block|{
name|Q_OBJECT
private|private
name|slots
private|:
name|void
name|validate_data
parameter_list|()
function_decl|;
name|void
name|validate
parameter_list|()
function_decl|;
name|void
name|validateThouSep_data
parameter_list|()
function_decl|;
name|void
name|validateThouSep
parameter_list|()
function_decl|;
name|void
name|validateIntEquiv_data
parameter_list|()
function_decl|;
name|void
name|validateIntEquiv
parameter_list|()
function_decl|;
name|void
name|notifySignals
parameter_list|()
function_decl|;
block|}
class|;
end_class
begin_expr_stmt
DECL|variable|State
name|Q_DECLARE_METATYPE
argument_list|(
name|QValidator
operator|::
name|State
argument_list|)
expr_stmt|;
end_expr_stmt
begin_define
DECL|macro|INV
define|#
directive|define
name|INV
value|QValidator::Invalid
end_define
begin_define
DECL|macro|ITM
define|#
directive|define
name|ITM
value|QValidator::Intermediate
end_define
begin_define
DECL|macro|ACC
define|#
directive|define
name|ACC
value|QValidator::Acceptable
end_define
begin_function
DECL|function|validateThouSep_data
name|void
name|tst_QDoubleValidator
operator|::
name|validateThouSep_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|QString
argument_list|>
argument_list|(
literal|"localeName"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QString
argument_list|>
argument_list|(
literal|"value"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QValidator
operator|::
name|State
argument_list|>
argument_list|(
literal|"result"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"1,000C"
argument_list|)
operator|<<
literal|"C"
operator|<<
name|QString
argument_list|(
literal|"1,000"
argument_list|)
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"1.000C"
argument_list|)
operator|<<
literal|"C"
operator|<<
name|QString
argument_list|(
literal|"1.000"
argument_list|)
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"1,000de"
argument_list|)
operator|<<
literal|"de"
operator|<<
name|QString
argument_list|(
literal|"1,000"
argument_list|)
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"1.000de"
argument_list|)
operator|<<
literal|"de"
operator|<<
name|QString
argument_list|(
literal|"1.000"
argument_list|)
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|".C"
argument_list|)
operator|<<
literal|"C"
operator|<<
name|QString
argument_list|(
literal|"."
argument_list|)
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|".de"
argument_list|)
operator|<<
literal|"de"
operator|<<
name|QString
argument_list|(
literal|"."
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|",C"
argument_list|)
operator|<<
literal|"C"
operator|<<
name|QString
argument_list|(
literal|","
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|",de"
argument_list|)
operator|<<
literal|"de"
operator|<<
name|QString
argument_list|(
literal|","
argument_list|)
operator|<<
name|ITM
expr_stmt|;
block|}
end_function
begin_function
DECL|function|validateThouSep
name|void
name|tst_QDoubleValidator
operator|::
name|validateThouSep
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|QString
argument_list|,
name|localeName
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QString
argument_list|,
name|value
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QValidator
operator|::
name|State
argument_list|,
name|result
argument_list|)
expr_stmt|;
name|int
name|dummy
init|=
literal|0
decl_stmt|;
name|QDoubleValidator
name|iv
argument_list|(
operator|-
literal|10000
argument_list|,
literal|10000
argument_list|,
literal|3
argument_list|,
literal|0
argument_list|)
decl_stmt|;
name|iv
operator|.
name|setNotation
argument_list|(
name|QDoubleValidator
operator|::
name|ScientificNotation
argument_list|)
expr_stmt|;
name|iv
operator|.
name|setLocale
argument_list|(
name|QLocale
argument_list|(
name|localeName
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|iv
operator|.
name|validate
argument_list|(
name|value
argument_list|,
name|dummy
argument_list|)
argument_list|,
name|result
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|validate_data
name|void
name|tst_QDoubleValidator
operator|::
name|validate_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|QString
argument_list|>
argument_list|(
literal|"localeName"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|double
argument_list|>
argument_list|(
literal|"minimum"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|double
argument_list|>
argument_list|(
literal|"maximum"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"decimals"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QString
argument_list|>
argument_list|(
literal|"value"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QValidator
operator|::
name|State
argument_list|>
argument_list|(
literal|"scientific_state"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QValidator
operator|::
name|State
argument_list|>
argument_list|(
literal|"standard_state"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data0"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|0.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"50.0"
argument_list|)
operator|<<
name|ACC
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data1"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|00.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"500.0"
argument_list|)
operator|<<
name|ITM
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data1a"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|00.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"5001.0"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data2"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|00.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"-35.0"
argument_list|)
operator|<<
name|INV
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data3"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|00.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"a"
argument_list|)
operator|<<
name|INV
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data4"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|0.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"-"
argument_list|)
operator|<<
name|INV
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data5"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|0.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"100.0"
argument_list|)
operator|<<
name|ACC
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data6"
argument_list|)
operator|<<
literal|"C"
operator|<<
operator|-
literal|100.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"-"
argument_list|)
operator|<<
name|ITM
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data7"
argument_list|)
operator|<<
literal|"C"
operator|<<
operator|-
literal|100.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"-500.0"
argument_list|)
operator|<<
name|ITM
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data8"
argument_list|)
operator|<<
literal|"C"
operator|<<
operator|-
literal|100.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"-100"
argument_list|)
operator|<<
name|ACC
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data9"
argument_list|)
operator|<<
literal|"C"
operator|<<
operator|-
literal|100.0
operator|<<
operator|-
literal|10.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"10"
argument_list|)
operator|<<
name|ITM
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data10"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|0.3
operator|<<
literal|0.5
operator|<<
literal|5
operator|<<
name|QString
argument_list|(
literal|"0.34567"
argument_list|)
operator|<<
name|ACC
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data11"
argument_list|)
operator|<<
literal|"C"
operator|<<
operator|-
literal|0.3
operator|<<
operator|-
literal|0.5
operator|<<
literal|5
operator|<<
name|QString
argument_list|(
literal|"-0.345678"
argument_list|)
operator|<<
name|INV
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data12"
argument_list|)
operator|<<
literal|"C"
operator|<<
operator|-
literal|0.32
operator|<<
literal|0.32
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"0"
argument_list|)
operator|<<
name|ACC
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data13"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|0.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"3456a"
argument_list|)
operator|<<
name|INV
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data14"
argument_list|)
operator|<<
literal|"C"
operator|<<
operator|-
literal|100.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"-3456a"
argument_list|)
operator|<<
name|INV
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data15"
argument_list|)
operator|<<
literal|"C"
operator|<<
operator|-
literal|100.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"a-3456"
argument_list|)
operator|<<
name|INV
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data16"
argument_list|)
operator|<<
literal|"C"
operator|<<
operator|-
literal|100.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"a-3456a"
argument_list|)
operator|<<
name|INV
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data17"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|1229.0
operator|<<
literal|1231.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"123e"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data18"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|1229.0
operator|<<
literal|1231.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"123e+"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data19"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|1229.0
operator|<<
literal|1231.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"123e+1"
argument_list|)
operator|<<
name|ACC
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data20"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|12290.0
operator|<<
literal|12310.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"123e+2"
argument_list|)
operator|<<
name|ACC
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data21"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|12.290
operator|<<
literal|12.310
operator|<<
literal|2
operator|<<
name|QString
argument_list|(
literal|"123e-"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data22"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|12.290
operator|<<
literal|12.310
operator|<<
literal|2
operator|<<
name|QString
argument_list|(
literal|"123e-1"
argument_list|)
operator|<<
name|ACC
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data23"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"123e-2"
argument_list|)
operator|<<
name|ACC
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data24"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|1229.0
operator|<<
literal|1231.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"123E"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data25"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|1229.0
operator|<<
literal|1231.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"123E+"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data26"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|1229.0
operator|<<
literal|1231.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"123E+1"
argument_list|)
operator|<<
name|ACC
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data27"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|12290.0
operator|<<
literal|12310.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"123E+2"
argument_list|)
operator|<<
name|ACC
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data28"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|12.290
operator|<<
literal|12.310
operator|<<
literal|2
operator|<<
name|QString
argument_list|(
literal|"123E-"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data29"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|12.290
operator|<<
literal|12.310
operator|<<
literal|2
operator|<<
name|QString
argument_list|(
literal|"123E-1"
argument_list|)
operator|<<
name|ACC
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data30"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"123E-2"
argument_list|)
operator|<<
name|ACC
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data31"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"e"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data32"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"e+"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data33"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"e+1"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data34"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"e-"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data35"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"e-1"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data36"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"E"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data37"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"E+"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data38"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"E+1"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data39"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"E-"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data40"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"E-1"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data41"
argument_list|)
operator|<<
literal|"C"
operator|<<
operator|-
literal|100.0
operator|<<
literal|100.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"10e"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data42"
argument_list|)
operator|<<
literal|"C"
operator|<<
operator|-
literal|100.0
operator|<<
literal|100.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"10e+"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data43"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|0.01
operator|<<
literal|0.09
operator|<<
literal|2
operator|<<
name|QString
argument_list|(
literal|"0"
argument_list|)
operator|<<
name|ITM
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data44"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|0.0
operator|<<
literal|10.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"11"
argument_list|)
operator|<<
name|ITM
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data45"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|0.0
operator|<<
literal|10.0
operator|<<
literal|2
operator|<<
name|QString
argument_list|(
literal|"11"
argument_list|)
operator|<<
name|ITM
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data46"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|0.0
operator|<<
literal|100.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"0."
argument_list|)
operator|<<
name|ACC
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data47"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|0.0
operator|<<
literal|100.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"0.0"
argument_list|)
operator|<<
name|INV
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data48"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|0.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"0.0"
argument_list|)
operator|<<
name|ACC
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data49"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|0.0
operator|<<
literal|100.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"."
argument_list|)
operator|<<
name|ITM
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data50"
argument_list|)
operator|<<
literal|"C"
operator|<<
literal|0.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"."
argument_list|)
operator|<<
name|ITM
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de0"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|0.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"50,0"
argument_list|)
operator|<<
name|ACC
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de1"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|00.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"500,0"
argument_list|)
operator|<<
name|ITM
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de1a"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|00.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"5001,0"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de0C"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|0.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"50,0"
argument_list|)
operator|<<
name|ACC
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de1C"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|00.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"500,0"
argument_list|)
operator|<<
name|ITM
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de1aC"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|00.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"5001,0"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de2"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|00.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"-35,0"
argument_list|)
operator|<<
name|INV
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de3"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|00.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"a"
argument_list|)
operator|<<
name|INV
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de4"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|0.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"-"
argument_list|)
operator|<<
name|INV
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de5"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|0.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"100,0"
argument_list|)
operator|<<
name|ACC
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de6"
argument_list|)
operator|<<
literal|"de"
operator|<<
operator|-
literal|100.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"-"
argument_list|)
operator|<<
name|ITM
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de7"
argument_list|)
operator|<<
literal|"de"
operator|<<
operator|-
literal|100.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"-500,0"
argument_list|)
operator|<<
name|ITM
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de8"
argument_list|)
operator|<<
literal|"de"
operator|<<
operator|-
literal|100.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"-100"
argument_list|)
operator|<<
name|ACC
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de9"
argument_list|)
operator|<<
literal|"de"
operator|<<
operator|-
literal|100.0
operator|<<
operator|-
literal|10.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"10"
argument_list|)
operator|<<
name|ITM
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de10"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|0.3
operator|<<
literal|0.5
operator|<<
literal|5
operator|<<
name|QString
argument_list|(
literal|"0,34567"
argument_list|)
operator|<<
name|ACC
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de11"
argument_list|)
operator|<<
literal|"de"
operator|<<
operator|-
literal|0.3
operator|<<
operator|-
literal|0.5
operator|<<
literal|5
operator|<<
name|QString
argument_list|(
literal|"-0,345678"
argument_list|)
operator|<<
name|INV
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de12"
argument_list|)
operator|<<
literal|"de"
operator|<<
operator|-
literal|0.32
operator|<<
literal|0.32
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"0"
argument_list|)
operator|<<
name|ACC
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de13"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|0.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"3456a"
argument_list|)
operator|<<
name|INV
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de14"
argument_list|)
operator|<<
literal|"de"
operator|<<
operator|-
literal|100.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"-3456a"
argument_list|)
operator|<<
name|INV
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de15"
argument_list|)
operator|<<
literal|"de"
operator|<<
operator|-
literal|100.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"a-3456"
argument_list|)
operator|<<
name|INV
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de16"
argument_list|)
operator|<<
literal|"de"
operator|<<
operator|-
literal|100.0
operator|<<
literal|100.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"a-3456a"
argument_list|)
operator|<<
name|INV
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de17"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|1229.0
operator|<<
literal|1231.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"123e"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de18"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|1229.0
operator|<<
literal|1231.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"123e+"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de19"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|1229.0
operator|<<
literal|1231.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"123e+1"
argument_list|)
operator|<<
name|ACC
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de20"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|12290.0
operator|<<
literal|12310.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"123e+2"
argument_list|)
operator|<<
name|ACC
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de21"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|12.290
operator|<<
literal|12.310
operator|<<
literal|2
operator|<<
name|QString
argument_list|(
literal|"123e-"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de22"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|12.290
operator|<<
literal|12.310
operator|<<
literal|2
operator|<<
name|QString
argument_list|(
literal|"123e-1"
argument_list|)
operator|<<
name|ACC
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de23"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"123e-2"
argument_list|)
operator|<<
name|ACC
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de24"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|1229.0
operator|<<
literal|1231.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"123E"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de25"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|1229.0
operator|<<
literal|1231.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"123E+"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de26"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|1229.0
operator|<<
literal|1231.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"123E+1"
argument_list|)
operator|<<
name|ACC
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de27"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|12290.0
operator|<<
literal|12310.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"123E+2"
argument_list|)
operator|<<
name|ACC
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de28"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|12.290
operator|<<
literal|12.310
operator|<<
literal|2
operator|<<
name|QString
argument_list|(
literal|"123E-"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de29"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|12.290
operator|<<
literal|12.310
operator|<<
literal|2
operator|<<
name|QString
argument_list|(
literal|"123E-1"
argument_list|)
operator|<<
name|ACC
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de30"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"123E-2"
argument_list|)
operator|<<
name|ACC
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de31"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"e"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de32"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"e+"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de33"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"e+1"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de34"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"e-"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de35"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"e-1"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de36"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"E"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de37"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"E+"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de38"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"E+1"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de39"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"E-"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de40"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|1.2290
operator|<<
literal|1.2310
operator|<<
literal|3
operator|<<
name|QString
argument_list|(
literal|"E-1"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de41"
argument_list|)
operator|<<
literal|"de"
operator|<<
operator|-
literal|100.0
operator|<<
literal|100.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"10e"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de42"
argument_list|)
operator|<<
literal|"de"
operator|<<
operator|-
literal|100.0
operator|<<
literal|100.0
operator|<<
literal|0
operator|<<
name|QString
argument_list|(
literal|"10e+"
argument_list|)
operator|<<
name|ITM
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de43"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|0.01
operator|<<
literal|0.09
operator|<<
literal|2
operator|<<
name|QString
argument_list|(
literal|"0"
argument_list|)
operator|<<
name|ITM
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de44"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|0.0
operator|<<
literal|10.0
operator|<<
literal|1
operator|<<
name|QString
argument_list|(
literal|"11"
argument_list|)
operator|<<
name|ITM
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_de45"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|0.0
operator|<<
literal|10.0
operator|<<
literal|2
operator|<<
name|QString
argument_list|(
literal|"11"
argument_list|)
operator|<<
name|ITM
operator|<<
name|ITM
expr_stmt|;
name|QString
name|arabicNum
decl_stmt|;
name|arabicNum
operator|+=
name|QChar
argument_list|(
literal|1633
argument_list|)
expr_stmt|;
comment|// "18.4" in arabic
name|arabicNum
operator|+=
name|QChar
argument_list|(
literal|1640
argument_list|)
expr_stmt|;
name|arabicNum
operator|+=
name|QChar
argument_list|(
literal|1643
argument_list|)
expr_stmt|;
name|arabicNum
operator|+=
name|QChar
argument_list|(
literal|1636
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"arabic"
argument_list|)
operator|<<
literal|"ar"
operator|<<
literal|0.0
operator|<<
literal|20.0
operator|<<
literal|2
operator|<<
name|arabicNum
operator|<<
name|ACC
operator|<<
name|ACC
expr_stmt|;
comment|// Confim no fallback to C locale
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_C1"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|0.0
operator|<<
literal|1000.0
operator|<<
literal|2
operator|<<
name|QString
argument_list|(
literal|"1.000,00"
argument_list|)
operator|<<
name|ACC
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"data_C2"
argument_list|)
operator|<<
literal|"de"
operator|<<
literal|0.0
operator|<<
literal|1000.0
operator|<<
literal|2
operator|<<
name|QString
argument_list|(
literal|"1,000.00"
argument_list|)
operator|<<
name|INV
operator|<<
name|INV
expr_stmt|;
block|}
end_function
begin_function
DECL|function|validate
name|void
name|tst_QDoubleValidator
operator|::
name|validate
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|QString
argument_list|,
name|localeName
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|double
argument_list|,
name|minimum
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|double
argument_list|,
name|maximum
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|int
argument_list|,
name|decimals
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QString
argument_list|,
name|value
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QValidator
operator|::
name|State
argument_list|,
name|scientific_state
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QValidator
operator|::
name|State
argument_list|,
name|standard_state
argument_list|)
expr_stmt|;
name|QLocale
operator|::
name|setDefault
argument_list|(
name|QLocale
argument_list|(
name|localeName
argument_list|)
argument_list|)
expr_stmt|;
name|QDoubleValidator
name|dv
argument_list|(
name|minimum
argument_list|,
name|maximum
argument_list|,
name|decimals
argument_list|,
literal|0
argument_list|)
decl_stmt|;
name|int
name|dummy
decl_stmt|;
name|QCOMPARE
argument_list|(
operator|(
name|int
operator|)
name|dv
operator|.
name|validate
argument_list|(
name|value
argument_list|,
name|dummy
argument_list|)
argument_list|,
operator|(
name|int
operator|)
name|scientific_state
argument_list|)
expr_stmt|;
name|dv
operator|.
name|setNotation
argument_list|(
name|QDoubleValidator
operator|::
name|StandardNotation
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
operator|(
name|int
operator|)
name|dv
operator|.
name|validate
argument_list|(
name|value
argument_list|,
name|dummy
argument_list|)
argument_list|,
operator|(
name|int
operator|)
name|standard_state
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|notifySignals
name|void
name|tst_QDoubleValidator
operator|::
name|notifySignals
parameter_list|()
block|{
name|QLocale
operator|::
name|setDefault
argument_list|(
name|QLocale
argument_list|(
literal|"C"
argument_list|)
argument_list|)
expr_stmt|;
name|QDoubleValidator
name|dv
argument_list|(
literal|0.1
argument_list|,
literal|0.9
argument_list|,
literal|10
argument_list|,
literal|0
argument_list|)
decl_stmt|;
name|QSignalSpy
name|topSpy
argument_list|(
operator|&
name|dv
argument_list|,
name|SIGNAL
argument_list|(
name|topChanged
argument_list|(
name|double
argument_list|)
argument_list|)
argument_list|)
decl_stmt|;
name|QSignalSpy
name|bottomSpy
argument_list|(
operator|&
name|dv
argument_list|,
name|SIGNAL
argument_list|(
name|bottomChanged
argument_list|(
name|double
argument_list|)
argument_list|)
argument_list|)
decl_stmt|;
name|QSignalSpy
name|decSpy
argument_list|(
operator|&
name|dv
argument_list|,
name|SIGNAL
argument_list|(
name|decimalsChanged
argument_list|(
name|int
argument_list|)
argument_list|)
argument_list|)
decl_stmt|;
name|QSignalSpy
name|changedSpy
argument_list|(
operator|&
name|dv
argument_list|,
name|SIGNAL
argument_list|(
name|changed
argument_list|()
argument_list|)
argument_list|)
decl_stmt|;
name|qRegisterMetaType
argument_list|<
name|QDoubleValidator
operator|::
name|Notation
argument_list|>
argument_list|(
literal|"QDoubleValidator::Notation"
argument_list|)
expr_stmt|;
name|QSignalSpy
name|notSpy
argument_list|(
operator|&
name|dv
argument_list|,
name|SIGNAL
argument_list|(
name|notationChanged
argument_list|(
name|QDoubleValidator
operator|::
name|Notation
argument_list|)
argument_list|)
argument_list|)
decl_stmt|;
name|dv
operator|.
name|setTop
argument_list|(
literal|0.8
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|topSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|changedSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|dv
operator|.
name|top
argument_list|()
operator|==
literal|0.8
argument_list|)
expr_stmt|;
name|dv
operator|.
name|setBottom
argument_list|(
literal|0.2
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|bottomSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|changedSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|dv
operator|.
name|bottom
argument_list|()
operator|==
literal|0.2
argument_list|)
expr_stmt|;
name|dv
operator|.
name|setRange
argument_list|(
literal|0.2
argument_list|,
literal|0.7
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|topSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|bottomSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|decSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|changedSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|dv
operator|.
name|bottom
argument_list|()
operator|==
literal|0.2
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|dv
operator|.
name|top
argument_list|()
operator|==
literal|0.7
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|dv
operator|.
name|decimals
argument_list|()
operator|==
literal|0.
argument_list|)
expr_stmt|;
name|dv
operator|.
name|setRange
argument_list|(
literal|0.3
argument_list|,
literal|0.7
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|topSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|bottomSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|changedSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|4
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|dv
operator|.
name|bottom
argument_list|()
operator|==
literal|0.3
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|dv
operator|.
name|top
argument_list|()
operator|==
literal|0.7
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|dv
operator|.
name|decimals
argument_list|()
operator|==
literal|0.
argument_list|)
expr_stmt|;
name|dv
operator|.
name|setRange
argument_list|(
literal|0.4
argument_list|,
literal|0.6
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|topSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|bottomSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|changedSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|5
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|dv
operator|.
name|bottom
argument_list|()
operator|==
literal|0.4
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|dv
operator|.
name|top
argument_list|()
operator|==
literal|0.6
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|dv
operator|.
name|decimals
argument_list|()
operator|==
literal|0.
argument_list|)
expr_stmt|;
name|dv
operator|.
name|setDecimals
argument_list|(
literal|10
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|decSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|changedSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|6
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|dv
operator|.
name|decimals
argument_list|()
operator|==
literal|10.
argument_list|)
expr_stmt|;
name|dv
operator|.
name|setRange
argument_list|(
literal|0.4
argument_list|,
literal|0.6
argument_list|,
literal|100
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|topSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|bottomSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|decSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|changedSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|7
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|dv
operator|.
name|bottom
argument_list|()
operator|==
literal|0.4
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|dv
operator|.
name|top
argument_list|()
operator|==
literal|0.6
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|dv
operator|.
name|decimals
argument_list|()
operator|==
literal|100.
argument_list|)
expr_stmt|;
name|dv
operator|.
name|setNotation
argument_list|(
name|QDoubleValidator
operator|::
name|StandardNotation
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|notSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|changedSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|8
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|dv
operator|.
name|notation
argument_list|()
operator|==
name|QDoubleValidator
operator|::
name|StandardNotation
argument_list|)
expr_stmt|;
name|dv
operator|.
name|setRange
argument_list|(
name|dv
operator|.
name|bottom
argument_list|()
argument_list|,
name|dv
operator|.
name|top
argument_list|()
argument_list|,
name|dv
operator|.
name|decimals
argument_list|()
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|topSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|bottomSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|decSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|changedSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|8
argument_list|)
expr_stmt|;
name|dv
operator|.
name|setNotation
argument_list|(
name|dv
operator|.
name|notation
argument_list|()
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|notSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|changedSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|8
argument_list|)
expr_stmt|;
name|dv
operator|.
name|setLocale
argument_list|(
name|QLocale
argument_list|(
literal|"C"
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|changedSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|8
argument_list|)
expr_stmt|;
name|dv
operator|.
name|setLocale
argument_list|(
name|QLocale
argument_list|(
literal|"en"
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|changedSpy
operator|.
name|count
argument_list|()
argument_list|,
literal|9
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|validateIntEquiv_data
name|void
name|tst_QDoubleValidator
operator|::
name|validateIntEquiv_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|double
argument_list|>
argument_list|(
literal|"minimum"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|double
argument_list|>
argument_list|(
literal|"maximum"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QString
argument_list|>
argument_list|(
literal|"input"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QValidator
operator|::
name|State
argument_list|>
argument_list|(
literal|"state"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"1.1"
argument_list|)
operator|<<
literal|0.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|""
argument_list|)
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"1.2"
argument_list|)
operator|<<
literal|10.0
operator|<<
literal|0.0
operator|<<
name|QString
argument_list|(
literal|""
argument_list|)
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"2.1"
argument_list|)
operator|<<
literal|0.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|"-"
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"2.2"
argument_list|)
operator|<<
literal|0.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|"-0"
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"2.3"
argument_list|)
operator|<<
operator|-
literal|10.0
operator|<<
operator|-
literal|1.0
operator|<<
name|QString
argument_list|(
literal|"+"
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"2.4"
argument_list|)
operator|<<
operator|-
literal|10.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|"-"
argument_list|)
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"2.5"
argument_list|)
operator|<<
operator|-
literal|10.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|"+"
argument_list|)
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"2.5a"
argument_list|)
operator|<<
operator|-
literal|10.0
operator|<<
operator|-
literal|9.0
operator|<<
name|QString
argument_list|(
literal|"+"
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"2.6"
argument_list|)
operator|<<
operator|-
literal|10.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|"+0"
argument_list|)
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"2.7"
argument_list|)
operator|<<
operator|-
literal|10.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|"+1"
argument_list|)
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"2.8"
argument_list|)
operator|<<
operator|-
literal|10.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|"+-"
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"2.9"
argument_list|)
operator|<<
operator|-
literal|10.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|"-+"
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"3.1"
argument_list|)
operator|<<
literal|0.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|"12345678901234567890"
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"3.2"
argument_list|)
operator|<<
literal|0.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|"-12345678901234567890"
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"3.3"
argument_list|)
operator|<<
literal|0.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|"000000000000000000000"
argument_list|)
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"3.4"
argument_list|)
operator|<<
literal|1.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|"000000000000000000000"
argument_list|)
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"3.5"
argument_list|)
operator|<<
literal|0.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|"-000000000000000000000"
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"3.6"
argument_list|)
operator|<<
operator|-
literal|10.0
operator|<<
operator|-
literal|1.0
operator|<<
name|QString
argument_list|(
literal|"-000000000000000000000"
argument_list|)
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"3.7"
argument_list|)
operator|<<
operator|-
literal|10.0
operator|<<
operator|-
literal|1.0
operator|<<
name|QString
argument_list|(
literal|"-0000000000000000000001"
argument_list|)
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"4.1"
argument_list|)
operator|<<
literal|0.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|" "
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"4.2"
argument_list|)
operator|<<
literal|0.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|" 1"
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"4.3"
argument_list|)
operator|<<
literal|0.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|"1 "
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"4.4"
argument_list|)
operator|<<
literal|0.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|"1.0"
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"4.5"
argument_list|)
operator|<<
literal|0.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|"0.1"
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"4.6"
argument_list|)
operator|<<
literal|0.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|".1"
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"4.7"
argument_list|)
operator|<<
literal|0.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|"-1.0"
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"5.1a"
argument_list|)
operator|<<
literal|6.0
operator|<<
literal|8.0
operator|<<
name|QString
argument_list|(
literal|"5"
argument_list|)
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"5.1b"
argument_list|)
operator|<<
literal|6.0
operator|<<
literal|8.0
operator|<<
name|QString
argument_list|(
literal|"56"
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"5.2"
argument_list|)
operator|<<
literal|6.0
operator|<<
literal|8.0
operator|<<
name|QString
argument_list|(
literal|"7"
argument_list|)
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"5.3a"
argument_list|)
operator|<<
literal|6.0
operator|<<
literal|8.0
operator|<<
name|QString
argument_list|(
literal|"9"
argument_list|)
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"5.3b"
argument_list|)
operator|<<
literal|6.0
operator|<<
literal|8.0
operator|<<
name|QString
argument_list|(
literal|"-"
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"5.4a"
argument_list|)
operator|<<
operator|-
literal|8.0
operator|<<
operator|-
literal|6.0
operator|<<
name|QString
argument_list|(
literal|"+"
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"5.4b"
argument_list|)
operator|<<
operator|-
literal|8.0
operator|<<
operator|-
literal|6.0
operator|<<
name|QString
argument_list|(
literal|"+5"
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"5.4c"
argument_list|)
operator|<<
operator|-
literal|8.0
operator|<<
operator|-
literal|6.0
operator|<<
name|QString
argument_list|(
literal|"-5"
argument_list|)
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"5.5"
argument_list|)
operator|<<
operator|-
literal|8.0
operator|<<
operator|-
literal|6.0
operator|<<
name|QString
argument_list|(
literal|"-7"
argument_list|)
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"5.6"
argument_list|)
operator|<<
operator|-
literal|8.0
operator|<<
operator|-
literal|6.0
operator|<<
name|QString
argument_list|(
literal|"-9"
argument_list|)
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"5.7"
argument_list|)
operator|<<
operator|-
literal|8.0
operator|<<
operator|-
literal|6.0
operator|<<
name|QString
argument_list|(
literal|"5"
argument_list|)
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"5.8"
argument_list|)
operator|<<
operator|-
literal|8.0
operator|<<
operator|-
literal|6.0
operator|<<
name|QString
argument_list|(
literal|"7"
argument_list|)
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"5.9"
argument_list|)
operator|<<
operator|-
literal|8.0
operator|<<
operator|-
literal|6.0
operator|<<
name|QString
argument_list|(
literal|"9"
argument_list|)
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"5.10"
argument_list|)
operator|<<
operator|-
literal|6.0
operator|<<
literal|8.0
operator|<<
name|QString
argument_list|(
literal|"-5"
argument_list|)
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"5.11"
argument_list|)
operator|<<
operator|-
literal|6.0
operator|<<
literal|8.0
operator|<<
name|QString
argument_list|(
literal|"5"
argument_list|)
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"5.12"
argument_list|)
operator|<<
operator|-
literal|6.0
operator|<<
literal|8.0
operator|<<
name|QString
argument_list|(
literal|"-7"
argument_list|)
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"5.13"
argument_list|)
operator|<<
operator|-
literal|6.0
operator|<<
literal|8.0
operator|<<
name|QString
argument_list|(
literal|"7"
argument_list|)
operator|<<
name|ACC
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"5.14"
argument_list|)
operator|<<
operator|-
literal|6.0
operator|<<
literal|8.0
operator|<<
name|QString
argument_list|(
literal|"-9"
argument_list|)
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"5.15"
argument_list|)
operator|<<
operator|-
literal|6.0
operator|<<
literal|8.0
operator|<<
name|QString
argument_list|(
literal|"9"
argument_list|)
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"6.1"
argument_list|)
operator|<<
literal|100.0
operator|<<
literal|102.0
operator|<<
name|QString
argument_list|(
literal|"11"
argument_list|)
operator|<<
name|ITM
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"6.2"
argument_list|)
operator|<<
literal|100.0
operator|<<
literal|102.0
operator|<<
name|QString
argument_list|(
literal|"-11"
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"7.1"
argument_list|)
operator|<<
literal|0.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|"100"
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"7.2"
argument_list|)
operator|<<
literal|0.0
operator|<<
operator|-
literal|10.0
operator|<<
name|QString
argument_list|(
literal|"100"
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"7.3"
argument_list|)
operator|<<
literal|0.0
operator|<<
operator|-
literal|10.0
operator|<<
name|QString
argument_list|(
literal|"-100"
argument_list|)
operator|<<
name|INV
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"7.4"
argument_list|)
operator|<<
operator|-
literal|100.0
operator|<<
literal|10.0
operator|<<
name|QString
argument_list|(
literal|"100"
argument_list|)
operator|<<
name|ITM
expr_stmt|;
block|}
end_function
begin_function
DECL|function|validateIntEquiv
name|void
name|tst_QDoubleValidator
operator|::
name|validateIntEquiv
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|double
argument_list|,
name|minimum
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|double
argument_list|,
name|maximum
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QString
argument_list|,
name|input
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QValidator
operator|::
name|State
argument_list|,
name|state
argument_list|)
expr_stmt|;
name|QLocale
operator|::
name|setDefault
argument_list|(
name|QLocale
argument_list|(
literal|"C"
argument_list|)
argument_list|)
expr_stmt|;
name|QDoubleValidator
name|dv
argument_list|(
name|minimum
argument_list|,
name|maximum
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
decl_stmt|;
name|dv
operator|.
name|setNotation
argument_list|(
name|QDoubleValidator
operator|::
name|StandardNotation
argument_list|)
expr_stmt|;
name|int
name|dummy
decl_stmt|;
name|QCOMPARE
argument_list|(
name|dv
operator|.
name|validate
argument_list|(
name|input
argument_list|,
name|dummy
argument_list|)
argument_list|,
name|state
argument_list|)
expr_stmt|;
block|}
end_function
begin_macro
name|QTEST_APPLESS_MAIN
argument_list|(
argument|tst_QDoubleValidator
argument_list|)
end_macro
begin_include
include|#
directive|include
file|"tst_qdoublevalidator.moc"
end_include
end_unit
