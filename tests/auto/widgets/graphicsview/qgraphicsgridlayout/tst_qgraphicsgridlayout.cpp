begin_unit
begin_comment
comment|/**************************************************************************** ** ** Copyright (C) 2014 Digia Plc and/or its subsidiary(-ies). ** Contact: http://www.qt-project.org/legal ** ** This file is part of the test suite of the Qt Toolkit. ** ** $QT_BEGIN_LICENSE:LGPL21$ ** Commercial License Usage ** Licensees holding valid commercial Qt licenses may use this file in ** accordance with the commercial license agreement provided with the ** Software or, alternatively, in accordance with the terms contained in ** a written agreement between you and Digia. For licensing terms and ** conditions see http://qt.digia.com/licensing. For further information ** use the contact form at http://qt.digia.com/contact-us. ** ** GNU Lesser General Public License Usage ** Alternatively, this file may be used under the terms of the GNU Lesser ** General Public License version 2.1 or version 3 as published by the Free ** Software Foundation and appearing in the file LICENSE.LGPLv21 and ** LICENSE.LGPLv3 included in the packaging of this file. Please review the ** following information to ensure the GNU Lesser General Public License ** requirements will be met: https://www.gnu.org/licenses/lgpl.html and ** http://www.gnu.org/licenses/old-licenses/lgpl-2.1.html. ** ** In addition, as a special exception, Digia gives you certain additional ** rights. These rights are described in the Digia Qt LGPL Exception ** version 1.1, included in the file LGPL_EXCEPTION.txt in this package. ** ** $QT_END_LICENSE$ ** ****************************************************************************/
end_comment
begin_include
include|#
directive|include
file|<QtTest/QtTest>
end_include
begin_include
include|#
directive|include
file|<qgraphicsgridlayout.h>
end_include
begin_include
include|#
directive|include
file|<qgraphicswidget.h>
end_include
begin_include
include|#
directive|include
file|<qgraphicsscene.h>
end_include
begin_include
include|#
directive|include
file|<qgraphicsview.h>
end_include
begin_class
DECL|class|tst_QGraphicsGridLayout
class|class
name|tst_QGraphicsGridLayout
super|:
specifier|public
name|QObject
block|{
name|Q_OBJECT
public|public
name|slots
public|:
name|void
name|initTestCase
parameter_list|()
function_decl|;
name|void
name|cleanupTestCase
parameter_list|()
function_decl|;
name|void
name|init
parameter_list|()
function_decl|;
name|void
name|cleanup
parameter_list|()
function_decl|;
private|private
name|slots
private|:
name|void
name|qgraphicsgridlayout_data
parameter_list|()
function_decl|;
name|void
name|qgraphicsgridlayout
parameter_list|()
function_decl|;
name|void
name|addItem_data
parameter_list|()
function_decl|;
name|void
name|addItem
parameter_list|()
function_decl|;
name|void
name|alignment_data
parameter_list|()
function_decl|;
name|void
name|alignment
parameter_list|()
function_decl|;
name|void
name|alignment2
parameter_list|()
function_decl|;
name|void
name|alignment2_data
parameter_list|()
function_decl|;
name|void
name|columnAlignment_data
parameter_list|()
function_decl|;
name|void
name|columnAlignment
parameter_list|()
function_decl|;
name|void
name|columnCount_data
parameter_list|()
function_decl|;
name|void
name|columnCount
parameter_list|()
function_decl|;
name|void
name|columnMaximumWidth_data
parameter_list|()
function_decl|;
name|void
name|columnMaximumWidth
parameter_list|()
function_decl|;
name|void
name|columnMinimumWidth_data
parameter_list|()
function_decl|;
name|void
name|columnMinimumWidth
parameter_list|()
function_decl|;
name|void
name|columnPreferredWidth_data
parameter_list|()
function_decl|;
name|void
name|columnPreferredWidth
parameter_list|()
function_decl|;
name|void
name|setColumnFixedWidth
parameter_list|()
function_decl|;
name|void
name|columnSpacing
parameter_list|()
function_decl|;
name|void
name|columnStretchFactor
parameter_list|()
function_decl|;
name|void
name|count
parameter_list|()
function_decl|;
name|void
name|contentsMargins
parameter_list|()
function_decl|;
name|void
name|horizontalSpacing_data
parameter_list|()
function_decl|;
name|void
name|horizontalSpacing
parameter_list|()
function_decl|;
name|void
name|itemAt
parameter_list|()
function_decl|;
name|void
name|removeAt
parameter_list|()
function_decl|;
name|void
name|removeItem
parameter_list|()
function_decl|;
name|void
name|rowAlignment_data
parameter_list|()
function_decl|;
name|void
name|rowAlignment
parameter_list|()
function_decl|;
name|void
name|rowCount_data
parameter_list|()
function_decl|;
name|void
name|rowCount
parameter_list|()
function_decl|;
name|void
name|rowMaximumHeight_data
parameter_list|()
function_decl|;
name|void
name|rowMaximumHeight
parameter_list|()
function_decl|;
name|void
name|rowMinimumHeight_data
parameter_list|()
function_decl|;
name|void
name|rowMinimumHeight
parameter_list|()
function_decl|;
name|void
name|rowPreferredHeight_data
parameter_list|()
function_decl|;
name|void
name|rowPreferredHeight
parameter_list|()
function_decl|;
name|void
name|rowSpacing
parameter_list|()
function_decl|;
name|void
name|rowStretchFactor_data
parameter_list|()
function_decl|;
name|void
name|rowStretchFactor
parameter_list|()
function_decl|;
name|void
name|setColumnSpacing_data
parameter_list|()
function_decl|;
name|void
name|setColumnSpacing
parameter_list|()
function_decl|;
name|void
name|setGeometry_data
parameter_list|()
function_decl|;
name|void
name|setGeometry
parameter_list|()
function_decl|;
name|void
name|setRowFixedHeight
parameter_list|()
function_decl|;
name|void
name|setRowSpacing_data
parameter_list|()
function_decl|;
name|void
name|setRowSpacing
parameter_list|()
function_decl|;
name|void
name|setSpacing_data
parameter_list|()
function_decl|;
name|void
name|setSpacing
parameter_list|()
function_decl|;
name|void
name|sizeHint_data
parameter_list|()
function_decl|;
name|void
name|sizeHint
parameter_list|()
function_decl|;
name|void
name|verticalSpacing_data
parameter_list|()
function_decl|;
name|void
name|verticalSpacing
parameter_list|()
function_decl|;
name|void
name|layoutDirection_data
parameter_list|()
function_decl|;
name|void
name|layoutDirection
parameter_list|()
function_decl|;
name|void
name|removeLayout
parameter_list|()
function_decl|;
name|void
name|defaultStretchFactors_data
parameter_list|()
function_decl|;
name|void
name|defaultStretchFactors
parameter_list|()
function_decl|;
name|void
name|geometries_data
parameter_list|()
function_decl|;
name|void
name|geometries
parameter_list|()
function_decl|;
name|void
name|avoidRecursionInInsertItem
parameter_list|()
function_decl|;
name|void
name|styleInfoLeak
parameter_list|()
function_decl|;
name|void
name|task236367_maxSizeHint
parameter_list|()
function_decl|;
name|void
name|spanningItem2x2_data
parameter_list|()
function_decl|;
name|void
name|spanningItem2x2
parameter_list|()
function_decl|;
name|void
name|spanningItem2x3_data
parameter_list|()
function_decl|;
name|void
name|spanningItem2x3
parameter_list|()
function_decl|;
name|void
name|spanningItem
parameter_list|()
function_decl|;
name|void
name|spanAcrossEmptyRow
parameter_list|()
function_decl|;
name|void
name|heightForWidth
parameter_list|()
function_decl|;
name|void
name|widthForHeight
parameter_list|()
function_decl|;
name|void
name|heightForWidthWithSpanning
parameter_list|()
function_decl|;
name|void
name|stretchAndHeightForWidth
parameter_list|()
function_decl|;
name|void
name|testDefaultAlignment
parameter_list|()
function_decl|;
name|void
name|hiddenItems
parameter_list|()
function_decl|;
block|}
class|;
end_class
begin_class
DECL|class|RectWidget
class|class
name|RectWidget
super|:
specifier|public
name|QGraphicsWidget
block|{
public|public:
DECL|function|RectWidget
name|RectWidget
parameter_list|(
name|QGraphicsItem
modifier|*
name|parent
init|=
literal|0
parameter_list|)
member_init_list|:
name|QGraphicsWidget
argument_list|(
name|parent
argument_list|)
member_init_list|,
name|m_fnConstraint
argument_list|(
literal|0
argument_list|)
block|{}
DECL|function|paint
name|void
name|paint
parameter_list|(
name|QPainter
modifier|*
name|painter
parameter_list|,
specifier|const
name|QStyleOptionGraphicsItem
modifier|*
name|option
parameter_list|,
name|QWidget
modifier|*
name|widget
parameter_list|)
block|{
name|Q_UNUSED
argument_list|(
name|option
argument_list|)
expr_stmt|;
name|Q_UNUSED
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|painter
operator|->
name|drawRoundRect
argument_list|(
name|rect
argument_list|()
argument_list|)
expr_stmt|;
name|painter
operator|->
name|drawLine
argument_list|(
name|rect
argument_list|()
operator|.
name|topLeft
argument_list|()
argument_list|,
name|rect
argument_list|()
operator|.
name|bottomRight
argument_list|()
argument_list|)
expr_stmt|;
name|painter
operator|->
name|drawLine
argument_list|(
name|rect
argument_list|()
operator|.
name|bottomLeft
argument_list|()
argument_list|,
name|rect
argument_list|()
operator|.
name|topRight
argument_list|()
argument_list|)
expr_stmt|;
block|}
DECL|function|sizeHint
name|QSizeF
name|sizeHint
parameter_list|(
name|Qt
operator|::
name|SizeHint
name|which
parameter_list|,
specifier|const
name|QSizeF
modifier|&
name|constraint
init|=
name|QSizeF
argument_list|()
parameter_list|)
specifier|const
block|{
if|if
condition|(
name|constraint
operator|.
name|width
argument_list|()
operator|<
literal|0
operator|&&
name|constraint
operator|.
name|height
argument_list|()
operator|<
literal|0
operator|&&
name|m_sizeHints
index|[
name|which
index|]
operator|.
name|isValid
argument_list|()
condition|)
block|{
return|return
name|m_sizeHints
index|[
name|which
index|]
return|;
block|}
if|if
condition|(
name|m_fnConstraint
condition|)
block|{
return|return
name|m_fnConstraint
argument_list|(
name|which
argument_list|,
name|constraint
argument_list|)
return|;
block|}
return|return
name|QGraphicsWidget
operator|::
name|sizeHint
argument_list|(
name|which
argument_list|,
name|constraint
argument_list|)
return|;
block|}
DECL|function|setSizeHint
name|void
name|setSizeHint
parameter_list|(
name|Qt
operator|::
name|SizeHint
name|which
parameter_list|,
specifier|const
name|QSizeF
modifier|&
name|size
parameter_list|)
block|{
name|m_sizeHints
index|[
name|which
index|]
operator|=
name|size
expr_stmt|;
name|updateGeometry
argument_list|()
expr_stmt|;
block|}
DECL|function|setConstraintFunction
name|void
name|setConstraintFunction
parameter_list|(
name|QSizeF
function_decl|(
modifier|*
name|fnConstraint
function_decl|)
parameter_list|(
name|Qt
operator|::
name|SizeHint
parameter_list|,
specifier|const
name|QSizeF
modifier|&
parameter_list|)
parameter_list|)
block|{
name|m_fnConstraint
operator|=
name|fnConstraint
expr_stmt|;
block|}
DECL|member|m_sizeHints
name|QSizeF
name|m_sizeHints
index|[
name|Qt
operator|::
name|NSizeHints
index|]
decl_stmt|;
DECL|member|m_fnConstraint
name|QSizeF
function_decl|(
modifier|*
name|m_fnConstraint
function_decl|)
parameter_list|(
name|Qt
operator|::
name|SizeHint
parameter_list|,
specifier|const
name|QSizeF
modifier|&
parameter_list|)
function_decl|;
block|}
class|;
end_class
begin_struct
DECL|struct|ItemDesc
struct|struct
name|ItemDesc
block|{
DECL|function|ItemDesc
name|ItemDesc
parameter_list|(
name|int
name|row
parameter_list|,
name|int
name|col
parameter_list|)
member_init_list|:
name|m_pos
argument_list|(
name|qMakePair
argument_list|(
name|row
argument_list|,
name|col
argument_list|)
argument_list|)
member_init_list|,
name|m_rowSpan
argument_list|(
literal|1
argument_list|)
member_init_list|,
name|m_colSpan
argument_list|(
literal|1
argument_list|)
member_init_list|,
name|m_sizePolicy
argument_list|(
name|QSizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Preferred
argument_list|,
name|QSizePolicy
operator|::
name|Preferred
argument_list|)
argument_list|)
member_init_list|,
name|m_align
argument_list|(
literal|0
argument_list|)
member_init_list|,
name|m_fnConstraint
argument_list|(
literal|0
argument_list|)
block|{     }
DECL|function|rowSpan
name|ItemDesc
modifier|&
name|rowSpan
parameter_list|(
name|int
name|span
parameter_list|)
block|{
name|m_rowSpan
operator|=
name|span
expr_stmt|;
return|return
operator|(
operator|*
name|this
operator|)
return|;
block|}
DECL|function|colSpan
name|ItemDesc
modifier|&
name|colSpan
parameter_list|(
name|int
name|span
parameter_list|)
block|{
name|m_colSpan
operator|=
name|span
expr_stmt|;
return|return
operator|(
operator|*
name|this
operator|)
return|;
block|}
DECL|function|sizePolicy
name|ItemDesc
modifier|&
name|sizePolicy
parameter_list|(
specifier|const
name|QSizePolicy
modifier|&
name|sp
parameter_list|)
block|{
name|m_sizePolicy
operator|=
name|sp
expr_stmt|;
return|return
operator|(
operator|*
name|this
operator|)
return|;
block|}
DECL|function|sizePolicy
name|ItemDesc
modifier|&
name|sizePolicy
parameter_list|(
name|QSizePolicy
operator|::
name|Policy
name|horAndVer
parameter_list|)
block|{
name|m_sizePolicy
operator|=
name|QSizePolicy
argument_list|(
name|horAndVer
argument_list|,
name|horAndVer
argument_list|)
expr_stmt|;
return|return
operator|(
operator|*
name|this
operator|)
return|;
block|}
DECL|function|sizePolicyH
name|ItemDesc
modifier|&
name|sizePolicyH
parameter_list|(
name|QSizePolicy
operator|::
name|Policy
name|hor
parameter_list|)
block|{
name|m_sizePolicy
operator|.
name|setHorizontalPolicy
argument_list|(
name|hor
argument_list|)
expr_stmt|;
return|return
operator|(
operator|*
name|this
operator|)
return|;
block|}
DECL|function|sizePolicyV
name|ItemDesc
modifier|&
name|sizePolicyV
parameter_list|(
name|QSizePolicy
operator|::
name|Policy
name|ver
parameter_list|)
block|{
name|m_sizePolicy
operator|.
name|setVerticalPolicy
argument_list|(
name|ver
argument_list|)
expr_stmt|;
return|return
operator|(
operator|*
name|this
operator|)
return|;
block|}
DECL|function|sizePolicy
name|ItemDesc
modifier|&
name|sizePolicy
parameter_list|(
name|QSizePolicy
operator|::
name|Policy
name|hor
parameter_list|,
name|QSizePolicy
operator|::
name|Policy
name|ver
parameter_list|)
block|{
name|m_sizePolicy
operator|=
name|QSizePolicy
argument_list|(
name|hor
argument_list|,
name|ver
argument_list|)
expr_stmt|;
return|return
operator|(
operator|*
name|this
operator|)
return|;
block|}
DECL|function|sizeHint
name|ItemDesc
modifier|&
name|sizeHint
parameter_list|(
name|Qt
operator|::
name|SizeHint
name|which
parameter_list|,
specifier|const
name|QSizeF
modifier|&
name|sh
parameter_list|)
block|{
name|m_sizeHints
index|[
name|which
index|]
operator|=
name|sh
expr_stmt|;
return|return
operator|(
operator|*
name|this
operator|)
return|;
block|}
DECL|function|preferredSizeHint
name|ItemDesc
modifier|&
name|preferredSizeHint
parameter_list|(
specifier|const
name|QSizeF
modifier|&
name|sh
parameter_list|)
block|{
name|m_sizeHints
index|[
name|Qt
operator|::
name|PreferredSize
index|]
operator|=
name|sh
expr_stmt|;
return|return
operator|(
operator|*
name|this
operator|)
return|;
block|}
DECL|function|minSize
name|ItemDesc
modifier|&
name|minSize
parameter_list|(
specifier|const
name|QSizeF
modifier|&
name|sz
parameter_list|)
block|{
name|m_sizes
index|[
name|Qt
operator|::
name|MinimumSize
index|]
operator|=
name|sz
expr_stmt|;
return|return
operator|(
operator|*
name|this
operator|)
return|;
block|}
DECL|function|preferredSize
name|ItemDesc
modifier|&
name|preferredSize
parameter_list|(
specifier|const
name|QSizeF
modifier|&
name|sz
parameter_list|)
block|{
name|m_sizes
index|[
name|Qt
operator|::
name|PreferredSize
index|]
operator|=
name|sz
expr_stmt|;
return|return
operator|(
operator|*
name|this
operator|)
return|;
block|}
DECL|function|maxSize
name|ItemDesc
modifier|&
name|maxSize
parameter_list|(
specifier|const
name|QSizeF
modifier|&
name|sz
parameter_list|)
block|{
name|m_sizes
index|[
name|Qt
operator|::
name|MaximumSize
index|]
operator|=
name|sz
expr_stmt|;
return|return
operator|(
operator|*
name|this
operator|)
return|;
block|}
DECL|function|alignment
name|ItemDesc
modifier|&
name|alignment
parameter_list|(
name|Qt
operator|::
name|Alignment
name|alignment
parameter_list|)
block|{
name|m_align
operator|=
name|alignment
expr_stmt|;
return|return
operator|(
operator|*
name|this
operator|)
return|;
block|}
DECL|function|dynamicConstraint
name|ItemDesc
modifier|&
name|dynamicConstraint
parameter_list|(
name|QSizeF
function_decl|(
modifier|*
name|fnConstraint
function_decl|)
parameter_list|(
name|Qt
operator|::
name|SizeHint
parameter_list|,
specifier|const
name|QSizeF
modifier|&
parameter_list|)
parameter_list|,
name|Qt
operator|::
name|Orientation
name|orientation
parameter_list|)
block|{
name|m_fnConstraint
operator|=
name|fnConstraint
expr_stmt|;
name|m_constraintOrientation
operator|=
name|orientation
expr_stmt|;
return|return
operator|(
operator|*
name|this
operator|)
return|;
block|}
DECL|function|apply
name|void
name|apply
parameter_list|(
name|QGraphicsGridLayout
modifier|*
name|layout
parameter_list|,
name|QGraphicsWidget
modifier|*
name|item
parameter_list|)
block|{
name|QSizePolicy
name|sp
init|=
name|m_sizePolicy
decl_stmt|;
if|if
condition|(
name|m_fnConstraint
condition|)
block|{
name|sp
operator|.
name|setHeightForWidth
argument_list|(
name|m_constraintOrientation
operator|==
name|Qt
operator|::
name|Vertical
argument_list|)
expr_stmt|;
name|sp
operator|.
name|setWidthForHeight
argument_list|(
name|m_constraintOrientation
operator|==
name|Qt
operator|::
name|Horizontal
argument_list|)
expr_stmt|;
block|}
name|item
operator|->
name|setSizePolicy
argument_list|(
name|sp
argument_list|)
expr_stmt|;
for|for
control|(
name|int
name|i
init|=
literal|0
init|;
name|i
operator|<
name|Qt
operator|::
name|NSizeHints
condition|;
operator|++
name|i
control|)
block|{
if|if
condition|(
operator|!
name|m_sizes
index|[
name|i
index|]
operator|.
name|isValid
argument_list|()
condition|)
continue|continue;
switch|switch
condition|(
operator|(
name|Qt
operator|::
name|SizeHint
operator|)
name|i
condition|)
block|{
case|case
name|Qt
operator|::
name|MinimumSize
case|:
name|item
operator|->
name|setMinimumSize
argument_list|(
name|m_sizes
index|[
name|i
index|]
argument_list|)
expr_stmt|;
break|break;
case|case
name|Qt
operator|::
name|PreferredSize
case|:
name|item
operator|->
name|setPreferredSize
argument_list|(
name|m_sizes
index|[
name|i
index|]
argument_list|)
expr_stmt|;
break|break;
case|case
name|Qt
operator|::
name|MaximumSize
case|:
name|item
operator|->
name|setMaximumSize
argument_list|(
name|m_sizes
index|[
name|i
index|]
argument_list|)
expr_stmt|;
break|break;
default|default:
name|qWarning
argument_list|(
literal|"not implemented"
argument_list|)
expr_stmt|;
break|break;
block|}
block|}
name|layout
operator|->
name|addItem
argument_list|(
name|item
argument_list|,
name|m_pos
operator|.
name|first
argument_list|,
name|m_pos
operator|.
name|second
argument_list|,
name|m_rowSpan
argument_list|,
name|m_colSpan
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setAlignment
argument_list|(
name|item
argument_list|,
name|m_align
argument_list|)
expr_stmt|;
block|}
DECL|function|apply
name|void
name|apply
parameter_list|(
name|QGraphicsGridLayout
modifier|*
name|layout
parameter_list|,
name|RectWidget
modifier|*
name|item
parameter_list|)
block|{
for|for
control|(
name|int
name|i
init|=
literal|0
init|;
name|i
operator|<
name|Qt
operator|::
name|NSizeHints
condition|;
operator|++
name|i
control|)
name|item
operator|->
name|setSizeHint
argument_list|(
operator|(
name|Qt
operator|::
name|SizeHint
operator|)
name|i
argument_list|,
name|m_sizeHints
index|[
name|i
index|]
argument_list|)
expr_stmt|;
name|item
operator|->
name|setConstraintFunction
argument_list|(
name|m_fnConstraint
argument_list|)
expr_stmt|;
name|apply
argument_list|(
name|layout
argument_list|,
cast|static_cast
argument_list|<
name|QGraphicsWidget
operator|*
argument_list|>
argument_list|(
name|item
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|//private:
DECL|member|m_pos
name|QPair
argument_list|<
name|int
argument_list|,
name|int
argument_list|>
name|m_pos
decl_stmt|;
comment|// row,col
DECL|member|m_rowSpan
name|int
name|m_rowSpan
decl_stmt|;
DECL|member|m_colSpan
name|int
name|m_colSpan
decl_stmt|;
DECL|member|m_sizePolicy
name|QSizePolicy
name|m_sizePolicy
decl_stmt|;
DECL|member|m_sizeHints
name|QSizeF
name|m_sizeHints
index|[
name|Qt
operator|::
name|NSizeHints
index|]
decl_stmt|;
DECL|member|m_sizes
name|QSizeF
name|m_sizes
index|[
name|Qt
operator|::
name|NSizeHints
index|]
decl_stmt|;
DECL|member|m_align
name|Qt
operator|::
name|Alignment
name|m_align
decl_stmt|;
DECL|member|m_constraintOrientation
name|Qt
operator|::
name|Orientation
name|m_constraintOrientation
decl_stmt|;
DECL|member|m_fnConstraint
name|QSizeF
function_decl|(
modifier|*
name|m_fnConstraint
function_decl|)
parameter_list|(
name|Qt
operator|::
name|SizeHint
parameter_list|,
specifier|const
name|QSizeF
modifier|&
parameter_list|)
function_decl|;
block|}
struct|;
end_struct
begin_typedef
DECL|typedef|ItemList
typedef|typedef
name|QList
argument_list|<
name|ItemDesc
argument_list|>
name|ItemList
typedef|;
end_typedef
begin_expr_stmt
DECL|variable|ItemList
name|Q_DECLARE_METATYPE
argument_list|(
name|ItemList
argument_list|)
expr_stmt|;
end_expr_stmt
begin_typedef
DECL|typedef|SizeList
typedef|typedef
name|QList
argument_list|<
name|QSizeF
argument_list|>
name|SizeList
typedef|;
end_typedef
begin_comment
comment|// This will be called before the first test function is executed.
end_comment
begin_comment
comment|// It is only called once.
end_comment
begin_function
DECL|function|initTestCase
name|void
name|tst_QGraphicsGridLayout
operator|::
name|initTestCase
parameter_list|()
block|{ }
end_function
begin_comment
comment|// This will be called after the last test function is executed.
end_comment
begin_comment
comment|// It is only called once.
end_comment
begin_function
DECL|function|cleanupTestCase
name|void
name|tst_QGraphicsGridLayout
operator|::
name|cleanupTestCase
parameter_list|()
block|{ }
end_function
begin_comment
comment|// This will be called before each test function is executed.
end_comment
begin_function
DECL|function|init
name|void
name|tst_QGraphicsGridLayout
operator|::
name|init
parameter_list|()
block|{
ifdef|#
directive|ifdef
name|Q_OS_WINCE
comment|//disable magic for WindowsCE
name|qApp
operator|->
name|setAutoMaximizeThreshold
argument_list|(
operator|-
literal|1
argument_list|)
expr_stmt|;
endif|#
directive|endif
block|}
end_function
begin_comment
comment|// This will be called after every test function.
end_comment
begin_function
DECL|function|cleanup
name|void
name|tst_QGraphicsGridLayout
operator|::
name|cleanup
parameter_list|()
block|{ }
end_function
begin_function
DECL|function|qgraphicsgridlayout_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|qgraphicsgridlayout_data
parameter_list|()
block|{ }
end_function
begin_function
DECL|function|qgraphicsgridlayout
name|void
name|tst_QGraphicsGridLayout
operator|::
name|qgraphicsgridlayout
parameter_list|()
block|{
name|QGraphicsGridLayout
name|layout
decl_stmt|;
name|QTest
operator|::
name|ignoreMessage
argument_list|(
name|QtWarningMsg
argument_list|,
literal|"QGraphicsGridLayout::addItem: invalid row span/column span: 0"
argument_list|)
expr_stmt|;
name|layout
operator|.
name|addItem
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|ignoreMessage
argument_list|(
name|QtWarningMsg
argument_list|,
literal|"QGraphicsGridLayout::addItem: cannot add null item"
argument_list|)
expr_stmt|;
name|layout
operator|.
name|addItem
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|alignment
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|columnAlignment
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|columnCount
argument_list|()
expr_stmt|;
name|layout
operator|.
name|columnMaximumWidth
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|columnMinimumWidth
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|columnPreferredWidth
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|columnSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|columnStretchFactor
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|count
argument_list|()
expr_stmt|;
name|layout
operator|.
name|horizontalSpacing
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|ignoreMessage
argument_list|(
name|QtWarningMsg
argument_list|,
literal|"QGraphicsGridLayout::itemAt: invalid row, column 0, 0"
argument_list|)
expr_stmt|;
name|layout
operator|.
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|ignoreMessage
argument_list|(
name|QtWarningMsg
argument_list|,
literal|"QGraphicsGridLayout::itemAt: invalid index 0"
argument_list|)
expr_stmt|;
name|layout
operator|.
name|itemAt
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|ignoreMessage
argument_list|(
name|QtWarningMsg
argument_list|,
literal|"QGraphicsGridLayout::removeAt: invalid index 0"
argument_list|)
expr_stmt|;
name|layout
operator|.
name|removeAt
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|rowAlignment
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|rowCount
argument_list|()
expr_stmt|;
name|layout
operator|.
name|rowMaximumHeight
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|rowMinimumHeight
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|rowPreferredHeight
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|rowSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|rowStretchFactor
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|setAlignment
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|AlignRight
argument_list|)
expr_stmt|;
name|layout
operator|.
name|setColumnAlignment
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|AlignRight
argument_list|)
expr_stmt|;
name|layout
operator|.
name|setColumnFixedWidth
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|setColumnMaximumWidth
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|setColumnMinimumWidth
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|setColumnPreferredWidth
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|setColumnSpacing
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|setColumnStretchFactor
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|setGeometry
argument_list|(
name|QRectF
argument_list|()
argument_list|)
expr_stmt|;
name|layout
operator|.
name|setHorizontalSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|setRowAlignment
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|setRowFixedHeight
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|setRowMaximumHeight
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|setRowMinimumHeight
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|setRowPreferredHeight
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|setRowSpacing
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|setRowStretchFactor
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|setVerticalSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|)
expr_stmt|;
name|layout
operator|.
name|verticalSpacing
argument_list|()
expr_stmt|;
block|}
end_function
begin_function
DECL|function|populateLayout
specifier|static
name|void
name|populateLayout
parameter_list|(
name|QGraphicsGridLayout
modifier|*
name|gridLayout
parameter_list|,
name|int
name|width
parameter_list|,
name|int
name|height
parameter_list|,
name|bool
name|hasHeightForWidth
init|=
literal|false
parameter_list|)
block|{
for|for
control|(
name|int
name|y
init|=
literal|0
init|;
name|y
operator|<
name|height
condition|;
operator|++
name|y
control|)
block|{
for|for
control|(
name|int
name|x
init|=
literal|0
init|;
name|x
operator|<
name|width
condition|;
operator|++
name|x
control|)
block|{
name|QGraphicsWidget
modifier|*
name|item
init|=
operator|new
name|RectWidget
argument_list|()
decl_stmt|;
name|item
operator|->
name|setMinimumSize
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
expr_stmt|;
name|item
operator|->
name|setPreferredSize
argument_list|(
literal|25
argument_list|,
literal|25
argument_list|)
expr_stmt|;
name|item
operator|->
name|setMaximumSize
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
expr_stmt|;
name|gridLayout
operator|->
name|addItem
argument_list|(
name|item
argument_list|,
name|y
argument_list|,
name|x
argument_list|)
expr_stmt|;
name|QSizePolicy
name|policy
init|=
name|item
operator|->
name|sizePolicy
argument_list|()
decl_stmt|;
name|policy
operator|.
name|setHeightForWidth
argument_list|(
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|item
operator|->
name|setSizePolicy
argument_list|(
name|policy
argument_list|)
expr_stmt|;
block|}
block|}
block|}
end_function
begin_comment
comment|/** populates \a gridLayout with a 3x2 layout:  * +----+----+----+  * |+---|---+|xxxx|  * ||span=2 ||hole|  * |+---|---+|xxxx|  * +----+----+----+  * |xxxx|+---|---+|  * |hole||span=2 ||  * |xxxx|+---|---+|  * +----+----+----+  */
end_comment
begin_function
DECL|function|populateLayoutWithSpansAndHoles
specifier|static
name|void
name|populateLayoutWithSpansAndHoles
parameter_list|(
name|QGraphicsGridLayout
modifier|*
name|gridLayout
parameter_list|,
name|bool
name|hasHeightForWidth
init|=
literal|false
parameter_list|)
block|{
name|QGraphicsWidget
modifier|*
name|item
init|=
operator|new
name|RectWidget
argument_list|()
decl_stmt|;
name|item
operator|->
name|setMinimumSize
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
expr_stmt|;
name|item
operator|->
name|setPreferredSize
argument_list|(
literal|25
argument_list|,
literal|25
argument_list|)
expr_stmt|;
name|item
operator|->
name|setMaximumSize
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
expr_stmt|;
name|QSizePolicy
name|sizepolicy
init|=
name|item
operator|->
name|sizePolicy
argument_list|()
decl_stmt|;
name|sizepolicy
operator|.
name|setHeightForWidth
argument_list|(
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|item
operator|->
name|setSizePolicy
argument_list|(
name|sizepolicy
argument_list|)
expr_stmt|;
name|gridLayout
operator|->
name|addItem
argument_list|(
name|item
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|item
operator|=
operator|new
name|RectWidget
argument_list|()
expr_stmt|;
name|item
operator|->
name|setMinimumSize
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
expr_stmt|;
name|item
operator|->
name|setPreferredSize
argument_list|(
literal|25
argument_list|,
literal|25
argument_list|)
expr_stmt|;
name|item
operator|->
name|setMaximumSize
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
expr_stmt|;
name|item
operator|->
name|setSizePolicy
argument_list|(
name|sizepolicy
argument_list|)
expr_stmt|;
name|gridLayout
operator|->
name|addItem
argument_list|(
name|item
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|)
expr_stmt|;
block|}
end_function
begin_macro
name|Q_DECLARE_METATYPE
argument_list|(
argument|Qt::Alignment
argument_list|)
end_macro
begin_function
DECL|function|addItem_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|addItem_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"row"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"column"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"rowSpan"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"columnSpan"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|Qt
operator|::
name|Alignment
argument_list|>
argument_list|(
literal|"alignment"
argument_list|)
expr_stmt|;
for|for
control|(
name|int
name|a
init|=
operator|-
literal|1
init|;
name|a
operator|<
literal|3
condition|;
operator|++
name|a
control|)
block|{
for|for
control|(
name|int
name|b
init|=
operator|-
literal|1
init|;
name|b
operator|<
literal|2
condition|;
operator|++
name|b
control|)
block|{
for|for
control|(
name|int
name|c
init|=
operator|-
literal|1
init|;
name|c
operator|<
literal|2
condition|;
operator|++
name|c
control|)
block|{
for|for
control|(
name|int
name|d
init|=
operator|-
literal|1
init|;
name|d
operator|<
literal|2
condition|;
operator|++
name|d
control|)
block|{
name|int
name|row
init|=
name|a
decl_stmt|;
name|int
name|column
init|=
name|b
decl_stmt|;
name|int
name|rowSpan
init|=
name|c
decl_stmt|;
name|int
name|columnSpan
init|=
name|d
decl_stmt|;
name|QString
name|name
init|=
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"(%1,%2,%3,%4"
argument_list|)
operator|.
name|arg
argument_list|(
name|a
argument_list|)
operator|.
name|arg
argument_list|(
name|b
argument_list|)
operator|.
name|arg
argument_list|(
name|c
argument_list|)
operator|.
name|arg
argument_list|(
name|d
argument_list|)
decl_stmt|;
name|Qt
operator|::
name|Alignment
name|alignment
init|=
name|Qt
operator|::
name|AlignLeft
decl_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
name|name
operator|.
name|toLatin1
argument_list|()
argument_list|)
operator|<<
name|row
operator|<<
name|column
operator|<<
name|rowSpan
operator|<<
name|columnSpan
operator|<<
name|alignment
expr_stmt|;
block|}
block|}
block|}
block|}
block|}
end_function
begin_comment
comment|// public void addItem(QGraphicsLayoutItem* item, int row, int column, int rowSpan, int columnSpan, Qt::Alignment alignment = 0)
end_comment
begin_function
DECL|function|addItem
name|void
name|tst_QGraphicsGridLayout
operator|::
name|addItem
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|int
argument_list|,
name|row
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|int
argument_list|,
name|column
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|int
argument_list|,
name|rowSpan
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|int
argument_list|,
name|columnSpan
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|Qt
operator|::
name|Alignment
argument_list|,
name|alignment
argument_list|)
expr_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|wid
init|=
operator|new
name|QGraphicsWidget
decl_stmt|;
if|if
condition|(
name|row
operator|<
literal|0
operator|||
name|column
operator|<
literal|0
condition|)
block|{
name|QTest
operator|::
name|ignoreMessage
argument_list|(
name|QtWarningMsg
argument_list|,
literal|"QGraphicsGridLayout::addItem: invalid row/column: -1"
argument_list|)
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|rowSpan
operator|<
literal|1
operator|||
name|columnSpan
operator|<
literal|1
condition|)
block|{
name|char
name|buf
index|[
literal|1024
index|]
decl_stmt|;
operator|::
name|qsnprintf
argument_list|(
name|buf
argument_list|,
sizeof|sizeof
argument_list|(
name|buf
argument_list|)
argument_list|,
literal|"QGraphicsGridLayout::addItem: invalid row span/column span: %d"
argument_list|,
name|rowSpan
operator|<
literal|1
condition|?
name|rowSpan
else|:
name|columnSpan
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|ignoreMessage
argument_list|(
name|QtWarningMsg
argument_list|,
name|buf
argument_list|)
expr_stmt|;
block|}
name|layout
operator|->
name|addItem
argument_list|(
name|wid
argument_list|,
name|row
argument_list|,
name|column
argument_list|,
name|rowSpan
argument_list|,
name|columnSpan
argument_list|,
name|alignment
argument_list|)
expr_stmt|;
operator|delete
name|layout
expr_stmt|;
block|}
end_function
begin_function
DECL|function|alignment_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|alignment_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|""
argument_list|)
operator|<<
literal|false
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
operator|<<
literal|true
expr_stmt|;
block|}
end_function
begin_comment
comment|// public Qt::Alignment alignment(QGraphicsLayoutItem* item) const
end_comment
begin_function
DECL|function|alignment
name|void
name|tst_QGraphicsGridLayout
operator|::
name|alignment
parameter_list|()
block|{
ifdef|#
directive|ifdef
name|Q_OS_MAC
name|QSKIP
argument_list|(
literal|"Resizing a QGraphicsWidget to effectiveSizeHint(Qt::MaximumSize) is currently not supported on mac"
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|3
argument_list|,
literal|2
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|view
operator|.
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|resize
argument_list|(
name|widget
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|)
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
comment|// no alignment (the default)
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|right
argument_list|()
argument_list|,
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|right
argument_list|()
argument_list|,
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|,
literal|50.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|right
argument_list|()
argument_list|,
literal|75.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|right
argument_list|()
argument_list|,
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|right
argument_list|()
argument_list|,
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|,
literal|50.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|right
argument_list|()
argument_list|,
literal|75.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|top
argument_list|()
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|bottom
argument_list|()
argument_list|,
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|top
argument_list|()
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|top
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|bottom
argument_list|()
argument_list|,
literal|50.0
argument_list|)
expr_stmt|;
comment|// align first column left, second hcenter, third right
name|layout
operator|->
name|setColumnMinimumWidth
argument_list|(
literal|0
argument_list|,
literal|100
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setAlignment
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
argument_list|,
name|Qt
operator|::
name|AlignLeft
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setAlignment
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
argument_list|,
name|Qt
operator|::
name|AlignLeft
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnMinimumWidth
argument_list|(
literal|1
argument_list|,
literal|100
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setAlignment
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
argument_list|,
name|Qt
operator|::
name|AlignHCenter
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setAlignment
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|,
name|Qt
operator|::
name|AlignHCenter
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnMinimumWidth
argument_list|(
literal|2
argument_list|,
literal|100
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setAlignment
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
argument_list|,
name|Qt
operator|::
name|AlignRight
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setAlignment
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
argument_list|,
name|Qt
operator|::
name|AlignRight
argument_list|)
expr_stmt|;
name|widget
operator|->
name|resize
argument_list|(
name|widget
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|)
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|125
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|125
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|250
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|250
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_function
DECL|function|columnAlignment_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|columnAlignment_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|""
argument_list|)
operator|<<
literal|false
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
operator|<<
literal|true
expr_stmt|;
block|}
end_function
begin_comment
comment|// public void setColumnAlignment(int column, Qt::Alignment alignment)
end_comment
begin_comment
comment|// public Qt::Alignment columnAlignment(int column) const
end_comment
begin_function
DECL|function|columnAlignment
name|void
name|tst_QGraphicsGridLayout
operator|::
name|columnAlignment
parameter_list|()
block|{
ifdef|#
directive|ifdef
name|Q_OS_MAC
name|QSKIP
argument_list|(
literal|"Resizing a QGraphicsWidget to effectiveSizeHint(Qt::MaximumSize) is currently not supported on mac"
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|3
argument_list|,
literal|2
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|1
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnMinimumWidth
argument_list|(
literal|0
argument_list|,
literal|100
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnMinimumWidth
argument_list|(
literal|1
argument_list|,
literal|100
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnMinimumWidth
argument_list|(
literal|2
argument_list|,
literal|100
argument_list|)
expr_stmt|;
name|view
operator|.
name|resize
argument_list|(
literal|450
argument_list|,
literal|150
argument_list|)
expr_stmt|;
name|widget
operator|->
name|resize
argument_list|(
name|widget
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|)
argument_list|)
expr_stmt|;
name|view
operator|.
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|show
argument_list|()
expr_stmt|;
name|QApplication
operator|::
name|sendPostedEvents
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
comment|// Check default
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnAlignment
argument_list|(
literal|0
argument_list|)
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnAlignment
argument_list|(
literal|1
argument_list|)
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnAlignment
argument_list|(
literal|2
argument_list|)
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnAlignment
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|AlignLeft
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnAlignment
argument_list|(
literal|1
argument_list|,
name|Qt
operator|::
name|AlignHCenter
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnAlignment
argument_list|(
literal|2
argument_list|,
name|Qt
operator|::
name|AlignRight
argument_list|)
expr_stmt|;
comment|// see if item alignment takes preference over columnAlignment
name|layout
operator|->
name|setAlignment
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
argument_list|,
name|Qt
operator|::
name|AlignHCenter
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setAlignment
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|,
name|Qt
operator|::
name|AlignRight
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setAlignment
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
argument_list|,
name|Qt
operator|::
name|AlignLeft
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|sendPostedEvents
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
comment|// process LayoutRequest
comment|/*       +----------+------------+---------+       | Left     |  HCenter   |  Right  |       +----------+------------+---------+       | HCenter  |   Right    |   Left  |       +---------------------------------+     */
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|25
argument_list|,
literal|51
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
comment|// item is king
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|126
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|151
argument_list|,
literal|51
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
comment|// item is king
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|252
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|202
argument_list|,
literal|51
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
comment|// item is king
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_function
DECL|function|columnCount_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|columnCount_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|""
argument_list|)
operator|<<
literal|false
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
operator|<<
literal|true
expr_stmt|;
block|}
end_function
begin_comment
comment|// public int columnCount() const
end_comment
begin_function
DECL|function|columnCount
name|void
name|tst_QGraphicsGridLayout
operator|::
name|columnCount
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|view
operator|.
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|show
argument_list|()
expr_stmt|;
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnCount
argument_list|()
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
operator|new
name|RectWidget
argument_list|(
name|widget
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnCount
argument_list|()
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
operator|new
name|RectWidget
argument_list|(
name|widget
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnCount
argument_list|()
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
operator|new
name|RectWidget
argument_list|(
name|widget
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnCount
argument_list|()
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
operator|new
name|RectWidget
argument_list|(
name|widget
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnCount
argument_list|()
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
operator|new
name|RectWidget
argument_list|(
name|widget
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnCount
argument_list|()
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
operator|new
name|RectWidget
argument_list|(
name|widget
argument_list|)
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnCount
argument_list|()
argument_list|,
literal|3
argument_list|)
expr_stmt|;
comment|// ### Talk with Jasmin. Not sure if removeAt() should adjust columnCount().
name|widget
operator|->
name|setLayout
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|=
operator|new
name|QGraphicsGridLayout
argument_list|()
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|3
argument_list|,
literal|2
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnCount
argument_list|()
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|5
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnCount
argument_list|()
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnCount
argument_list|()
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnCount
argument_list|()
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnCount
argument_list|()
argument_list|,
literal|2
argument_list|)
expr_stmt|;
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_function
DECL|function|columnMaximumWidth_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|columnMaximumWidth_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|""
argument_list|)
operator|<<
literal|false
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
operator|<<
literal|true
expr_stmt|;
block|}
end_function
begin_comment
comment|// public qreal columnMaximumWidth(int column) const
end_comment
begin_function
DECL|function|columnMaximumWidth
name|void
name|tst_QGraphicsGridLayout
operator|::
name|columnMaximumWidth
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|3
argument_list|,
literal|2
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|minimumSize
argument_list|()
argument_list|,
name|QSizeF
argument_list|(
literal|10
operator|+
literal|10
operator|+
literal|10
argument_list|,
literal|10
operator|+
literal|10
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredSize
argument_list|()
argument_list|,
name|QSizeF
argument_list|(
literal|25
operator|+
literal|25
operator|+
literal|25
argument_list|,
literal|25
operator|+
literal|25
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|maximumSize
argument_list|()
argument_list|,
name|QSizeF
argument_list|(
literal|50
operator|+
literal|50
operator|+
literal|50
argument_list|,
literal|50
operator|+
literal|50
argument_list|)
argument_list|)
expr_stmt|;
comment|// should at least be a very large number
name|QVERIFY
argument_list|(
name|layout
operator|->
name|columnMaximumWidth
argument_list|(
literal|0
argument_list|)
operator|>=
literal|10000
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnMaximumWidth
argument_list|(
literal|0
argument_list|)
argument_list|,
name|layout
operator|->
name|columnMaximumWidth
argument_list|(
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnMaximumWidth
argument_list|(
literal|1
argument_list|)
argument_list|,
name|layout
operator|->
name|columnMaximumWidth
argument_list|(
literal|2
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnMaximumWidth
argument_list|(
literal|0
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnMaximumWidth
argument_list|(
literal|2
argument_list|,
literal|60
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|minimumSize
argument_list|()
argument_list|,
name|QSizeF
argument_list|(
literal|10
operator|+
literal|10
operator|+
literal|10
argument_list|,
literal|10
operator|+
literal|10
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredSize
argument_list|()
argument_list|,
name|QSizeF
argument_list|(
literal|20
operator|+
literal|25
operator|+
literal|25
argument_list|,
literal|25
operator|+
literal|25
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|maximumSize
argument_list|()
argument_list|,
name|QSizeF
argument_list|(
literal|20
operator|+
literal|50
operator|+
literal|60
argument_list|,
literal|50
operator|+
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|maximumSize
argument_list|()
argument_list|,
name|widget
operator|->
name|maximumSize
argument_list|()
argument_list|)
expr_stmt|;
name|widget
operator|->
name|resize
argument_list|(
name|widget
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|activate
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|20
argument_list|,
literal|25
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|25
argument_list|,
literal|20
argument_list|,
literal|25
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|20
argument_list|,
literal|0
argument_list|,
literal|25
argument_list|,
literal|25
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|20
argument_list|,
literal|25
argument_list|,
literal|25
argument_list|,
literal|25
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|45
argument_list|,
literal|0
argument_list|,
literal|25
argument_list|,
literal|25
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|45
argument_list|,
literal|25
argument_list|,
literal|25
argument_list|,
literal|25
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnAlignment
argument_list|(
literal|2
argument_list|,
name|Qt
operator|::
name|AlignCenter
argument_list|)
expr_stmt|;
name|widget
operator|->
name|resize
argument_list|(
name|widget
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|activate
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|20
operator|+
literal|50
operator|+
literal|60
argument_list|,
literal|50
operator|+
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|20
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|50
argument_list|,
literal|20
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|20
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|20
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|75
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|75
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
for|for
control|(
name|int
name|i
init|=
literal|0
init|;
name|i
operator|<
name|layout
operator|->
name|count
argument_list|()
condition|;
name|i
operator|++
control|)
name|layout
operator|->
name|setAlignment
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
name|i
argument_list|)
argument_list|,
name|Qt
operator|::
name|AlignRight
operator||
name|Qt
operator|::
name|AlignBottom
argument_list|)
expr_stmt|;
name|layout
operator|->
name|activate
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|20
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|50
argument_list|,
literal|20
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|20
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|20
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|80
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|80
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
for|for
control|(
name|int
name|i
init|=
literal|0
init|;
name|i
operator|<
name|layout
operator|->
name|count
argument_list|()
condition|;
name|i
operator|++
control|)
name|layout
operator|->
name|setAlignment
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
name|i
argument_list|)
argument_list|,
name|Qt
operator|::
name|AlignCenter
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setMaximumSize
argument_list|(
name|layout
operator|->
name|maximumSize
argument_list|()
operator|+
name|QSizeF
argument_list|(
literal|60
argument_list|,
literal|60
argument_list|)
argument_list|)
expr_stmt|;
name|widget
operator|->
name|resize
argument_list|(
name|widget
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|activate
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|15
argument_list|,
literal|20
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|95
argument_list|,
literal|20
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|20
operator|+
literal|30
argument_list|,
literal|15
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|20
operator|+
literal|30
argument_list|,
literal|95
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|20
operator|+
literal|60
operator|+
literal|50
operator|+
literal|5
argument_list|,
literal|15
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|20
operator|+
literal|60
operator|+
literal|50
operator|+
literal|5
argument_list|,
literal|95
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setMaximumSize
argument_list|(
name|layout
operator|->
name|preferredSize
argument_list|()
operator|+
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|20
argument_list|)
argument_list|)
expr_stmt|;
name|widget
operator|->
name|resize
argument_list|(
name|widget
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|activate
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|20
argument_list|,
literal|35
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|35
argument_list|,
literal|20
argument_list|,
literal|35
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|20
argument_list|,
literal|0
argument_list|,
literal|35
argument_list|,
literal|35
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|20
argument_list|,
literal|35
argument_list|,
literal|35
argument_list|,
literal|35
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|55
argument_list|,
literal|0
argument_list|,
literal|35
argument_list|,
literal|35
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|55
argument_list|,
literal|35
argument_list|,
literal|35
argument_list|,
literal|35
argument_list|)
argument_list|)
expr_stmt|;
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_function
DECL|function|columnMinimumWidth_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|columnMinimumWidth_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|""
argument_list|)
operator|<<
literal|false
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
operator|<<
literal|true
expr_stmt|;
block|}
end_function
begin_comment
comment|// public qreal columnMinimumWidth(int column) const
end_comment
begin_function
DECL|function|columnMinimumWidth
name|void
name|tst_QGraphicsGridLayout
operator|::
name|columnMinimumWidth
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|3
argument_list|,
literal|2
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
comment|// should at least be a very large number
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnMinimumWidth
argument_list|(
literal|0
argument_list|)
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnMinimumWidth
argument_list|(
literal|0
argument_list|)
argument_list|,
name|layout
operator|->
name|columnMinimumWidth
argument_list|(
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnMinimumWidth
argument_list|(
literal|1
argument_list|)
argument_list|,
name|layout
operator|->
name|columnMinimumWidth
argument_list|(
literal|2
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnMinimumWidth
argument_list|(
literal|0
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnMinimumWidth
argument_list|(
literal|2
argument_list|,
literal|40
argument_list|)
expr_stmt|;
name|view
operator|.
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|resize
argument_list|(
name|widget
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|)
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
argument_list|,
literal|40.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
argument_list|,
literal|40.0
argument_list|)
expr_stmt|;
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_function
DECL|function|columnPreferredWidth_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|columnPreferredWidth_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|""
argument_list|)
operator|<<
literal|false
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
operator|<<
literal|true
expr_stmt|;
block|}
end_function
begin_comment
comment|// public qreal columnPreferredWidth(int column) const
end_comment
begin_function
DECL|function|columnPreferredWidth
name|void
name|tst_QGraphicsGridLayout
operator|::
name|columnPreferredWidth
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|3
argument_list|,
literal|2
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
comment|// default preferred width ??
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnPreferredWidth
argument_list|(
literal|0
argument_list|)
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnPreferredWidth
argument_list|(
literal|0
argument_list|)
argument_list|,
name|layout
operator|->
name|columnPreferredWidth
argument_list|(
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnPreferredWidth
argument_list|(
literal|1
argument_list|)
argument_list|,
name|layout
operator|->
name|columnPreferredWidth
argument_list|(
literal|2
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnPreferredWidth
argument_list|(
literal|0
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnPreferredWidth
argument_list|(
literal|2
argument_list|,
literal|40
argument_list|)
expr_stmt|;
name|view
operator|.
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|resize
argument_list|(
name|widget
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|)
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
argument_list|,
literal|40.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
argument_list|,
literal|40.0
argument_list|)
expr_stmt|;
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_comment
comment|// public void setColumnFixedWidth(int row, qreal height)
end_comment
begin_function
DECL|function|setColumnFixedWidth
name|void
name|tst_QGraphicsGridLayout
operator|::
name|setColumnFixedWidth
parameter_list|()
block|{
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|3
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnFixedWidth
argument_list|(
literal|0
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnFixedWidth
argument_list|(
literal|2
argument_list|,
literal|40
argument_list|)
expr_stmt|;
name|view
operator|.
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|resize
argument_list|(
name|widget
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|)
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
argument_list|,
literal|20.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
argument_list|,
literal|20.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
argument_list|,
literal|40.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
argument_list|,
literal|40.0
argument_list|)
expr_stmt|;
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_comment
comment|// public qreal columnSpacing(int column) const
end_comment
begin_function
DECL|function|columnSpacing
name|void
name|tst_QGraphicsGridLayout
operator|::
name|columnSpacing
parameter_list|()
block|{
block|{
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|3
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnSpacing
argument_list|(
literal|0
argument_list|)
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnSpacing
argument_list|(
literal|0
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|view
operator|.
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|resize
argument_list|(
name|widget
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|)
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|right
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|,
literal|45.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|right
argument_list|()
argument_list|,
literal|70.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|,
literal|70.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|right
argument_list|()
argument_list|,
literal|95.0
argument_list|)
expr_stmt|;
operator|delete
name|widget
expr_stmt|;
block|}
block|{
comment|// don't include items and spacings that was previously part of the layout
comment|// (horizontal)
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
decl_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|3
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnSpacing
argument_list|(
literal|0
argument_list|,
literal|10
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnSpacing
argument_list|(
literal|1
argument_list|,
literal|10
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnSpacing
argument_list|(
literal|2
argument_list|,
literal|10
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnSpacing
argument_list|(
literal|3
argument_list|,
literal|10
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredSize
argument_list|()
argument_list|,
name|QSizeF
argument_list|(
literal|95
argument_list|,
literal|25
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|2
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredSize
argument_list|()
argument_list|,
name|QSizeF
argument_list|(
literal|60
argument_list|,
literal|25
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredSize
argument_list|()
argument_list|,
name|QSizeF
argument_list|(
literal|25
argument_list|,
literal|25
argument_list|)
argument_list|)
expr_stmt|;
operator|delete
name|layout
expr_stmt|;
block|}
block|{
comment|// don't include items and spacings that was previously part of the layout
comment|// (vertical)
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
decl_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|2
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnSpacing
argument_list|(
literal|0
argument_list|,
literal|10
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnSpacing
argument_list|(
literal|1
argument_list|,
literal|10
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setRowSpacing
argument_list|(
literal|0
argument_list|,
literal|10
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setRowSpacing
argument_list|(
literal|1
argument_list|,
literal|10
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredSize
argument_list|()
argument_list|,
name|QSizeF
argument_list|(
literal|60
argument_list|,
literal|60
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredSize
argument_list|()
argument_list|,
name|QSizeF
argument_list|(
literal|60
argument_list|,
literal|60
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|2
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredSize
argument_list|()
argument_list|,
name|QSizeF
argument_list|(
literal|60
argument_list|,
literal|25
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredSize
argument_list|()
argument_list|,
name|QSizeF
argument_list|(
literal|25
argument_list|,
literal|25
argument_list|)
argument_list|)
expr_stmt|;
operator|delete
name|layout
expr_stmt|;
block|}
block|}
end_function
begin_comment
comment|// public int columnStretchFactor(int column) const
end_comment
begin_function
DECL|function|columnStretchFactor
name|void
name|tst_QGraphicsGridLayout
operator|::
name|columnStretchFactor
parameter_list|()
block|{
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|3
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnStretchFactor
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnStretchFactor
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnStretchFactor
argument_list|(
literal|2
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|view
operator|.
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|resize
argument_list|(
literal|130
argument_list|,
literal|50
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
name|QVERIFY
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
operator|<
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
operator|<
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
operator|<
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
operator|<
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|width
argument_list|()
argument_list|)
expr_stmt|;
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_comment
comment|// public int count() const
end_comment
begin_function
DECL|function|count
name|void
name|tst_QGraphicsGridLayout
operator|::
name|count
parameter_list|()
block|{
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|3
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|count
argument_list|()
argument_list|,
literal|6
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|5
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|count
argument_list|()
argument_list|,
literal|4
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|count
argument_list|()
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|count
argument_list|()
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|count
argument_list|()
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|count
argument_list|()
argument_list|,
literal|0
argument_list|)
expr_stmt|;
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_function
DECL|function|horizontalSpacing_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|horizontalSpacing_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|qreal
argument_list|>
argument_list|(
literal|"horizontalSpacing"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"zero"
argument_list|)
operator|<<
name|qreal
argument_list|(
literal|0.0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"10"
argument_list|)
operator|<<
name|qreal
argument_list|(
literal|10.0
argument_list|)
expr_stmt|;
block|}
end_function
begin_comment
comment|// public qreal horizontalSpacing() const
end_comment
begin_function
DECL|function|horizontalSpacing
name|void
name|tst_QGraphicsGridLayout
operator|::
name|horizontalSpacing
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|qreal
argument_list|,
name|horizontalSpacing
argument_list|)
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|3
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|qreal
name|w
init|=
name|layout
operator|->
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|()
argument_list|)
operator|.
name|width
argument_list|()
decl_stmt|;
name|qreal
name|oldSpacing
init|=
name|layout
operator|->
name|horizontalSpacing
argument_list|()
decl_stmt|;
comment|// The remainder of this test is only applicable if the current style uses uniform layout spacing
if|if
condition|(
name|oldSpacing
operator|!=
operator|-
literal|1
condition|)
block|{
name|layout
operator|->
name|setHorizontalSpacing
argument_list|(
name|horizontalSpacing
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
name|qreal
name|new_w
init|=
name|layout
operator|->
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|()
argument_list|)
operator|.
name|width
argument_list|()
decl_stmt|;
name|QCOMPARE
argument_list|(
name|new_w
argument_list|,
name|w
operator|-
operator|(
literal|3
operator|-
literal|1
operator|)
operator|*
operator|(
name|oldSpacing
operator|-
name|horizontalSpacing
operator|)
argument_list|)
expr_stmt|;
block|}
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_function
DECL|function|contentsMargins
name|void
name|tst_QGraphicsGridLayout
operator|::
name|contentsMargins
parameter_list|()
block|{
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|sublayout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|sublayout
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|qreal
name|left
decl_stmt|,
name|top
decl_stmt|,
name|right
decl_stmt|,
name|bottom
decl_stmt|;
comment|// sublayouts have 0 margin
name|sublayout
operator|->
name|getContentsMargins
argument_list|(
operator|&
name|left
argument_list|,
operator|&
name|top
argument_list|,
operator|&
name|right
argument_list|,
operator|&
name|bottom
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|left
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|top
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|right
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|bottom
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
comment|// top level layouts have style dependent margins.
comment|// we'll just check if its different from 0. (applies to all our styles)
name|layout
operator|->
name|getContentsMargins
argument_list|(
operator|&
name|left
argument_list|,
operator|&
name|top
argument_list|,
operator|&
name|right
argument_list|,
operator|&
name|bottom
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|left
operator|>=
literal|0.0
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|top
operator|>=
literal|0.0
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|right
operator|>=
literal|0.0
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|bottom
operator|>=
literal|0.0
argument_list|)
expr_stmt|;
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_comment
comment|// public QGraphicsLayoutItem* itemAt(int index) const
end_comment
begin_function
DECL|function|itemAt
name|void
name|tst_QGraphicsGridLayout
operator|::
name|itemAt
parameter_list|()
block|{
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayoutWithSpansAndHoles
argument_list|(
name|layout
argument_list|)
expr_stmt|;
comment|//itemAt(int row, int column)
name|QVERIFY
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
argument_list|,
cast|static_cast
argument_list|<
name|QGraphicsLayoutItem
operator|*
argument_list|>
argument_list|(
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
argument_list|,
cast|static_cast
argument_list|<
name|QGraphicsLayoutItem
operator|*
argument_list|>
argument_list|(
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
argument_list|)
expr_stmt|;
comment|//itemAt(int index)
for|for
control|(
name|int
name|i
init|=
operator|-
literal|2
init|;
name|i
operator|<
name|layout
operator|->
name|count
argument_list|()
operator|+
literal|2
condition|;
operator|++
name|i
control|)
block|{
if|if
condition|(
name|i
operator|>=
literal|0
operator|&&
name|i
operator|<
name|layout
operator|->
name|count
argument_list|()
condition|)
block|{
name|QVERIFY
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
name|i
argument_list|)
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|QTest
operator|::
name|ignoreMessage
argument_list|(
name|QtWarningMsg
argument_list|,
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"QGraphicsGridLayout::itemAt: invalid index %1"
argument_list|)
operator|.
name|arg
argument_list|(
name|i
argument_list|)
operator|.
name|toLatin1
argument_list|()
operator|.
name|constData
argument_list|()
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
name|i
argument_list|)
argument_list|,
cast|static_cast
argument_list|<
name|QGraphicsLayoutItem
operator|*
argument_list|>
argument_list|(
literal|0
argument_list|)
argument_list|)
expr_stmt|;
block|}
block|}
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_comment
comment|// public void removeAt(int index)
end_comment
begin_function
DECL|function|removeAt
name|void
name|tst_QGraphicsGridLayout
operator|::
name|removeAt
parameter_list|()
block|{
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|3
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|count
argument_list|()
argument_list|,
literal|6
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|5
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|count
argument_list|()
argument_list|,
literal|4
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|count
argument_list|()
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|count
argument_list|()
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|count
argument_list|()
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|QGraphicsLayoutItem
modifier|*
name|item0
init|=
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|)
decl_stmt|;
name|QCOMPARE
argument_list|(
name|item0
operator|->
name|parentLayoutItem
argument_list|()
argument_list|,
cast|static_cast
argument_list|<
name|QGraphicsLayoutItem
operator|*
argument_list|>
argument_list|(
name|layout
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|item0
operator|->
name|parentLayoutItem
argument_list|()
argument_list|,
cast|static_cast
argument_list|<
name|QGraphicsLayoutItem
operator|*
argument_list|>
argument_list|(
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|count
argument_list|()
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|ignoreMessage
argument_list|(
name|QtWarningMsg
argument_list|,
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"QGraphicsGridLayout::removeAt: invalid index 0"
argument_list|)
operator|.
name|toLatin1
argument_list|()
operator|.
name|constData
argument_list|()
argument_list|)
expr_stmt|;
name|layout
operator|->
name|removeAt
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|count
argument_list|()
argument_list|,
literal|0
argument_list|)
expr_stmt|;
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_function
DECL|function|removeItem
name|void
name|tst_QGraphicsGridLayout
operator|::
name|removeItem
parameter_list|()
block|{
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|QGraphicsGridLayout
modifier|*
name|l
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|l
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|l
argument_list|,
literal|3
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|l
operator|->
name|count
argument_list|()
argument_list|,
literal|6
argument_list|)
expr_stmt|;
name|l
operator|->
name|removeItem
argument_list|(
name|l
operator|->
name|itemAt
argument_list|(
literal|5
argument_list|)
argument_list|)
expr_stmt|;
name|l
operator|->
name|removeItem
argument_list|(
name|l
operator|->
name|itemAt
argument_list|(
literal|4
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|l
operator|->
name|count
argument_list|()
argument_list|,
literal|4
argument_list|)
expr_stmt|;
comment|// Avoid crashing. Note that the warning message might change in the future.
name|QTest
operator|::
name|ignoreMessage
argument_list|(
name|QtWarningMsg
argument_list|,
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"QGraphicsGridLayout::removeAt: invalid index -1"
argument_list|)
operator|.
name|toLatin1
argument_list|()
operator|.
name|constData
argument_list|()
argument_list|)
expr_stmt|;
name|l
operator|->
name|removeItem
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|l
operator|->
name|count
argument_list|()
argument_list|,
literal|4
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|ignoreMessage
argument_list|(
name|QtWarningMsg
argument_list|,
name|QString
operator|::
name|fromLatin1
argument_list|(
literal|"QGraphicsGridLayout::removeAt: invalid index -1"
argument_list|)
operator|.
name|toLatin1
argument_list|()
operator|.
name|constData
argument_list|()
argument_list|)
expr_stmt|;
name|l
operator|->
name|removeItem
argument_list|(
operator|new
name|QGraphicsWidget
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|l
operator|->
name|count
argument_list|()
argument_list|,
literal|4
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|rowAlignment_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|rowAlignment_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|""
argument_list|)
operator|<<
literal|false
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
operator|<<
literal|true
expr_stmt|;
block|}
end_function
begin_comment
comment|// public Qt::Alignment rowAlignment(int row) const
end_comment
begin_function
DECL|function|rowAlignment
name|void
name|tst_QGraphicsGridLayout
operator|::
name|rowAlignment
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|2
argument_list|,
literal|3
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|1
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|view
operator|.
name|resize
argument_list|(
literal|330
argument_list|,
literal|450
argument_list|)
expr_stmt|;
name|widget
operator|->
name|resize
argument_list|(
literal|300
argument_list|,
literal|400
argument_list|)
expr_stmt|;
name|view
operator|.
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|show
argument_list|()
expr_stmt|;
name|QApplication
operator|::
name|sendPostedEvents
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
comment|// Check default
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|rowAlignment
argument_list|(
literal|0
argument_list|)
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|rowAlignment
argument_list|(
literal|1
argument_list|)
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|rowAlignment
argument_list|(
literal|2
argument_list|)
argument_list|,
literal|0
argument_list|)
expr_stmt|;
comment|// make the grids larger than the items, so that alignment kicks in
name|layout
operator|->
name|setRowMinimumHeight
argument_list|(
literal|0
argument_list|,
literal|100.0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setRowMinimumHeight
argument_list|(
literal|1
argument_list|,
literal|100.0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setRowMinimumHeight
argument_list|(
literal|2
argument_list|,
literal|100.0
argument_list|)
expr_stmt|;
comment|// expand columns also, so we can test combination of horiz and vertical alignment
name|layout
operator|->
name|setColumnMinimumWidth
argument_list|(
literal|0
argument_list|,
literal|100.0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnMinimumWidth
argument_list|(
literal|1
argument_list|,
literal|100.0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setRowAlignment
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|AlignBottom
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setRowAlignment
argument_list|(
literal|1
argument_list|,
name|Qt
operator|::
name|AlignVCenter
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setRowAlignment
argument_list|(
literal|2
argument_list|,
name|Qt
operator|::
name|AlignTop
argument_list|)
expr_stmt|;
comment|// see if item alignment takes preference over rowAlignment
name|layout
operator|->
name|setAlignment
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
argument_list|,
name|Qt
operator|::
name|AlignRight
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setAlignment
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
argument_list|,
name|Qt
operator|::
name|AlignTop
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setAlignment
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|2
argument_list|,
literal|0
argument_list|)
argument_list|,
name|Qt
operator|::
name|AlignHCenter
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|sendPostedEvents
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
comment|// process LayoutRequest
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|alignment
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
argument_list|)
argument_list|,
name|Qt
operator|::
name|AlignRight
argument_list|)
expr_stmt|;
comment|//Qt::AlignRight | Qt::AlignBottom
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|rowAlignment
argument_list|(
literal|0
argument_list|)
argument_list|,
name|Qt
operator|::
name|AlignBottom
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|101
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|alignment
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
argument_list|)
argument_list|,
name|Qt
operator|::
name|AlignTop
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|101
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|rowAlignment
argument_list|(
literal|1
argument_list|)
argument_list|,
name|Qt
operator|::
name|AlignVCenter
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|101
argument_list|,
literal|126
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|alignment
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|2
argument_list|,
literal|0
argument_list|)
argument_list|)
argument_list|,
name|Qt
operator|::
name|AlignHCenter
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|2
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|25
argument_list|,
literal|202
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|rowAlignment
argument_list|(
literal|2
argument_list|)
argument_list|,
name|Qt
operator|::
name|AlignTop
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|2
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|101
argument_list|,
literal|202
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_function
DECL|function|rowCount_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|rowCount_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|""
argument_list|)
operator|<<
literal|false
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
operator|<<
literal|true
expr_stmt|;
block|}
end_function
begin_comment
comment|// public int rowCount() const
end_comment
begin_comment
comment|// public int columnCount() const
end_comment
begin_function
DECL|function|rowCount
name|void
name|tst_QGraphicsGridLayout
operator|::
name|rowCount
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|2
argument_list|,
literal|3
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|rowCount
argument_list|()
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnCount
argument_list|()
argument_list|,
literal|2
argument_list|)
expr_stmt|;
comment|// with spans and holes...
name|widget
operator|->
name|setLayout
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|=
operator|new
name|QGraphicsGridLayout
argument_list|()
expr_stmt|;
name|populateLayoutWithSpansAndHoles
argument_list|(
name|layout
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|rowCount
argument_list|()
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnCount
argument_list|()
argument_list|,
literal|3
argument_list|)
expr_stmt|;
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_function
DECL|function|rowMaximumHeight_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|rowMaximumHeight_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|""
argument_list|)
operator|<<
literal|false
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
operator|<<
literal|true
expr_stmt|;
block|}
end_function
begin_comment
comment|// public qreal rowMaximumHeight(int row) const
end_comment
begin_function
DECL|function|rowMaximumHeight
name|void
name|tst_QGraphicsGridLayout
operator|::
name|rowMaximumHeight
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|2
argument_list|,
literal|3
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
comment|// should at least be a very large number
name|QVERIFY
argument_list|(
name|layout
operator|->
name|rowMaximumHeight
argument_list|(
literal|0
argument_list|)
operator|>=
literal|10000
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|rowMaximumHeight
argument_list|(
literal|0
argument_list|)
argument_list|,
name|layout
operator|->
name|rowMaximumHeight
argument_list|(
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|rowMaximumHeight
argument_list|(
literal|1
argument_list|)
argument_list|,
name|layout
operator|->
name|rowMaximumHeight
argument_list|(
literal|2
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setRowMaximumHeight
argument_list|(
literal|0
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setRowMaximumHeight
argument_list|(
literal|2
argument_list|,
literal|60
argument_list|)
expr_stmt|;
name|view
operator|.
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|resize
argument_list|(
name|widget
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|)
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|20.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|20.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|2
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|2
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_function
DECL|function|rowMinimumHeight_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|rowMinimumHeight_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|""
argument_list|)
operator|<<
literal|false
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
operator|<<
literal|true
expr_stmt|;
block|}
end_function
begin_comment
comment|// public qreal rowMinimumHeight(int row) const
end_comment
begin_function
DECL|function|rowMinimumHeight
name|void
name|tst_QGraphicsGridLayout
operator|::
name|rowMinimumHeight
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|2
argument_list|,
literal|3
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
comment|// should at least be a very large number
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|rowMinimumHeight
argument_list|(
literal|0
argument_list|)
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|rowMinimumHeight
argument_list|(
literal|0
argument_list|)
argument_list|,
name|layout
operator|->
name|rowMinimumHeight
argument_list|(
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|rowMinimumHeight
argument_list|(
literal|1
argument_list|)
argument_list|,
name|layout
operator|->
name|rowMinimumHeight
argument_list|(
literal|2
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setRowMinimumHeight
argument_list|(
literal|0
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setRowMinimumHeight
argument_list|(
literal|2
argument_list|,
literal|40
argument_list|)
expr_stmt|;
name|view
operator|.
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|resize
argument_list|(
name|widget
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|)
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|2
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|40.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|2
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|40.0
argument_list|)
expr_stmt|;
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_function
DECL|function|rowPreferredHeight_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|rowPreferredHeight_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|""
argument_list|)
operator|<<
literal|false
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
operator|<<
literal|true
expr_stmt|;
block|}
end_function
begin_comment
comment|// public qreal rowPreferredHeight(int row) const
end_comment
begin_function
DECL|function|rowPreferredHeight
name|void
name|tst_QGraphicsGridLayout
operator|::
name|rowPreferredHeight
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|2
argument_list|,
literal|3
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
comment|// default preferred height ??
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|rowPreferredHeight
argument_list|(
literal|0
argument_list|)
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|rowPreferredHeight
argument_list|(
literal|0
argument_list|)
argument_list|,
name|layout
operator|->
name|rowPreferredHeight
argument_list|(
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|rowPreferredHeight
argument_list|(
literal|1
argument_list|)
argument_list|,
name|layout
operator|->
name|rowPreferredHeight
argument_list|(
literal|2
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setRowPreferredHeight
argument_list|(
literal|0
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setRowPreferredHeight
argument_list|(
literal|2
argument_list|,
literal|40
argument_list|)
expr_stmt|;
name|view
operator|.
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|resize
argument_list|(
name|widget
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|)
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
comment|// ### Jasmin: Should rowPreferredHeight have precedence over sizeHint(Qt::PreferredSize) ?
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|2
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|40.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|2
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|40.0
argument_list|)
expr_stmt|;
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_comment
comment|// public void setRowFixedHeight(int row, qreal height)
end_comment
begin_function
DECL|function|setRowFixedHeight
name|void
name|tst_QGraphicsGridLayout
operator|::
name|setRowFixedHeight
parameter_list|()
block|{
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|2
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setRowFixedHeight
argument_list|(
literal|0
argument_list|,
literal|20.
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setRowFixedHeight
argument_list|(
literal|2
argument_list|,
literal|40.
argument_list|)
expr_stmt|;
name|view
operator|.
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|resize
argument_list|(
name|widget
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|)
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|20.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|20.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|2
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|40.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|2
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|,
literal|40.0
argument_list|)
expr_stmt|;
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_comment
comment|// public qreal rowSpacing(int row) const
end_comment
begin_function
DECL|function|rowSpacing
name|void
name|tst_QGraphicsGridLayout
operator|::
name|rowSpacing
parameter_list|()
block|{
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|3
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|columnSpacing
argument_list|(
literal|0
argument_list|)
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnSpacing
argument_list|(
literal|0
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|view
operator|.
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|resize
argument_list|(
name|widget
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|)
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|right
argument_list|()
argument_list|,
literal|25.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|,
literal|45.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|right
argument_list|()
argument_list|,
literal|70.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|,
literal|70.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|right
argument_list|()
argument_list|,
literal|95.0
argument_list|)
expr_stmt|;
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_function
DECL|function|rowStretchFactor_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|rowStretchFactor_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|""
argument_list|)
operator|<<
literal|false
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
operator|<<
literal|true
expr_stmt|;
block|}
end_function
begin_comment
comment|// public int rowStretchFactor(int row) const
end_comment
begin_function
DECL|function|rowStretchFactor
name|void
name|tst_QGraphicsGridLayout
operator|::
name|rowStretchFactor
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|2
argument_list|,
literal|3
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setRowStretchFactor
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setRowStretchFactor
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setRowStretchFactor
argument_list|(
literal|2
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|view
operator|.
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|resize
argument_list|(
literal|50
argument_list|,
literal|130
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
name|QVERIFY
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
operator|<
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
operator|<
name|layout
operator|->
name|itemAt
argument_list|(
literal|2
argument_list|,
literal|0
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
operator|<
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|layout
operator|->
name|itemAt
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
operator|<
name|layout
operator|->
name|itemAt
argument_list|(
literal|2
argument_list|,
literal|1
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|height
argument_list|()
argument_list|)
expr_stmt|;
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_function
DECL|function|setColumnSpacing_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|setColumnSpacing_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"column"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|qreal
argument_list|>
argument_list|(
literal|"spacing"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"null"
argument_list|)
operator|<<
literal|0
operator|<<
name|qreal
argument_list|(
literal|0.0
argument_list|)
operator|<<
literal|false
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"10"
argument_list|)
operator|<<
literal|0
operator|<<
name|qreal
argument_list|(
literal|10.0
argument_list|)
operator|<<
literal|false
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"null, hasHeightForWidth"
argument_list|)
operator|<<
literal|0
operator|<<
name|qreal
argument_list|(
literal|0.0
argument_list|)
operator|<<
literal|true
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"10, hasHeightForWidth"
argument_list|)
operator|<<
literal|0
operator|<<
name|qreal
argument_list|(
literal|10.0
argument_list|)
operator|<<
literal|true
expr_stmt|;
block|}
end_function
begin_comment
comment|// public void setColumnSpacing(int column, qreal spacing)
end_comment
begin_function
DECL|function|setColumnSpacing
name|void
name|tst_QGraphicsGridLayout
operator|::
name|setColumnSpacing
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|int
argument_list|,
name|column
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|qreal
argument_list|,
name|spacing
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|3
argument_list|,
literal|2
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|qreal
name|oldSpacing
init|=
name|layout
operator|->
name|columnSpacing
argument_list|(
name|column
argument_list|)
decl_stmt|;
name|QCOMPARE
argument_list|(
name|oldSpacing
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
name|qreal
name|w
init|=
name|layout
operator|->
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|()
argument_list|)
operator|.
name|width
argument_list|()
decl_stmt|;
name|layout
operator|->
name|setColumnSpacing
argument_list|(
name|column
argument_list|,
name|spacing
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|()
argument_list|)
operator|.
name|width
argument_list|()
argument_list|,
name|w
operator|+
name|spacing
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|setGeometry_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|setGeometry_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|QRectF
argument_list|>
argument_list|(
literal|"rect"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"null"
argument_list|)
operator|<<
name|QRectF
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"normal"
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
expr_stmt|;
block|}
end_function
begin_comment
comment|// public void setGeometry(QRectF const& rect)
end_comment
begin_function
DECL|function|setGeometry
name|void
name|tst_QGraphicsGridLayout
operator|::
name|setGeometry
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|QRectF
argument_list|,
name|rect
argument_list|)
expr_stmt|;
name|QGraphicsWidget
modifier|*
name|window
init|=
operator|new
name|QGraphicsWidget
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|window
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout2
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|layout2
operator|->
name|setMaximumSize
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|layout2
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout2
operator|->
name|setGeometry
argument_list|(
name|rect
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout2
operator|->
name|geometry
argument_list|()
argument_list|,
name|rect
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|setRowSpacing_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|setRowSpacing_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"row"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|qreal
argument_list|>
argument_list|(
literal|"spacing"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"null"
argument_list|)
operator|<<
literal|0
operator|<<
name|qreal
argument_list|(
literal|0.0
argument_list|)
operator|<<
literal|false
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"10"
argument_list|)
operator|<<
literal|0
operator|<<
name|qreal
argument_list|(
literal|10.0
argument_list|)
operator|<<
literal|false
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"null, hasHeightForWidth"
argument_list|)
operator|<<
literal|0
operator|<<
name|qreal
argument_list|(
literal|0.0
argument_list|)
operator|<<
literal|true
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"10, hasHeightForWidth"
argument_list|)
operator|<<
literal|0
operator|<<
name|qreal
argument_list|(
literal|10.0
argument_list|)
operator|<<
literal|true
expr_stmt|;
block|}
end_function
begin_comment
comment|// public void setRowSpacing(int row, qreal spacing)
end_comment
begin_function
DECL|function|setRowSpacing
name|void
name|tst_QGraphicsGridLayout
operator|::
name|setRowSpacing
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|int
argument_list|,
name|row
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|qreal
argument_list|,
name|spacing
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|3
argument_list|,
literal|2
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|qreal
name|oldSpacing
init|=
name|layout
operator|->
name|rowSpacing
argument_list|(
name|row
argument_list|)
decl_stmt|;
name|QCOMPARE
argument_list|(
name|oldSpacing
argument_list|,
literal|0.0
argument_list|)
expr_stmt|;
name|qreal
name|h
init|=
name|layout
operator|->
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|()
argument_list|)
operator|.
name|height
argument_list|()
decl_stmt|;
name|layout
operator|->
name|setRowSpacing
argument_list|(
name|row
argument_list|,
name|spacing
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|()
argument_list|)
operator|.
name|height
argument_list|()
argument_list|,
name|h
operator|+
name|spacing
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|setSpacing_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|setSpacing_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|qreal
argument_list|>
argument_list|(
literal|"spacing"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"zero"
argument_list|)
operator|<<
name|qreal
argument_list|(
literal|0.0
argument_list|)
operator|<<
literal|false
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"17"
argument_list|)
operator|<<
name|qreal
argument_list|(
literal|17.0
argument_list|)
operator|<<
literal|false
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"zero, hasHeightForWidth"
argument_list|)
operator|<<
name|qreal
argument_list|(
literal|0.0
argument_list|)
operator|<<
literal|true
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"17, hasHeightForWidth"
argument_list|)
operator|<<
name|qreal
argument_list|(
literal|17.0
argument_list|)
operator|<<
literal|true
expr_stmt|;
block|}
end_function
begin_comment
comment|// public void setSpacing(qreal spacing)
end_comment
begin_function
DECL|function|setSpacing
name|void
name|tst_QGraphicsGridLayout
operator|::
name|setSpacing
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|qreal
argument_list|,
name|spacing
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|3
argument_list|,
literal|2
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QSizeF
name|sh
init|=
name|layout
operator|->
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|()
argument_list|)
decl_stmt|;
name|qreal
name|oldVSpacing
init|=
name|layout
operator|->
name|verticalSpacing
argument_list|()
decl_stmt|;
name|qreal
name|oldHSpacing
init|=
name|layout
operator|->
name|horizontalSpacing
argument_list|()
decl_stmt|;
comment|// The remainder of this test is only applicable if the current style uses uniform layout spacing
if|if
condition|(
name|oldVSpacing
operator|!=
operator|-
literal|1
condition|)
block|{
name|layout
operator|->
name|setSpacing
argument_list|(
name|spacing
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
name|QSizeF
name|newSH
init|=
name|layout
operator|->
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|()
argument_list|)
decl_stmt|;
name|QCOMPARE
argument_list|(
name|newSH
operator|.
name|height
argument_list|()
argument_list|,
name|sh
operator|.
name|height
argument_list|()
operator|-
operator|(
literal|2
operator|-
literal|1
operator|)
operator|*
operator|(
name|oldVSpacing
operator|-
name|spacing
operator|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|newSH
operator|.
name|width
argument_list|()
argument_list|,
name|sh
operator|.
name|width
argument_list|()
operator|-
operator|(
literal|3
operator|-
literal|1
operator|)
operator|*
operator|(
name|oldHSpacing
operator|-
name|spacing
operator|)
argument_list|)
expr_stmt|;
block|}
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_function
DECL|function|sizeHint_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|sizeHint_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|ItemList
argument_list|>
argument_list|(
literal|"itemDescriptions"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QSizeF
argument_list|>
argument_list|(
literal|"expectedMinimumSizeHint"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QSizeF
argument_list|>
argument_list|(
literal|"expectedPreferredSizeHint"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QSizeF
argument_list|>
argument_list|(
literal|"expectedMaximumSizeHint"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"rowSpan_larger_than_rows"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|300
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|300
argument_list|)
argument_list|)
operator|.
name|rowSpan
argument_list|(
literal|2
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|0
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSize
argument_list|(
literal|50
argument_list|,
literal|1000
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|0
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSize
argument_list|(
literal|50
argument_list|,
literal|1000
argument_list|)
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|300
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|300
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|2000
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"rowSpan_smaller_than_rows"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|0
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|300
argument_list|)
argument_list|)
operator|.
name|rowSpan
argument_list|(
literal|2
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSize
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSize
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"colSpan_with_ignored_column"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|40
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|60
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|.
name|colSpan
argument_list|(
literal|2
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|30
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|60
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|90
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|.
name|colSpan
argument_list|(
literal|3
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|60
argument_list|,
literal|40
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|80
argument_list|,
literal|40
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|90
argument_list|,
literal|40
argument_list|)
expr_stmt|;
block|}
end_function
begin_comment
comment|// public QSizeF sizeHint(Qt::SizeHint which, QSizeF const& constraint = QSizeF()) const
end_comment
begin_function
DECL|function|sizeHint
name|void
name|tst_QGraphicsGridLayout
operator|::
name|sizeHint
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|ItemList
argument_list|,
name|itemDescriptions
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QSizeF
argument_list|,
name|expectedMinimumSizeHint
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QSizeF
argument_list|,
name|expectedPreferredSizeHint
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QSizeF
argument_list|,
name|expectedMaximumSizeHint
argument_list|)
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0.0
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|int
name|i
decl_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|itemDescriptions
operator|.
name|count
argument_list|()
condition|;
operator|++
name|i
control|)
block|{
name|ItemDesc
name|desc
init|=
name|itemDescriptions
operator|.
name|at
argument_list|(
name|i
argument_list|)
decl_stmt|;
name|RectWidget
modifier|*
name|item
init|=
operator|new
name|RectWidget
argument_list|(
name|widget
argument_list|)
decl_stmt|;
name|desc
operator|.
name|apply
argument_list|(
name|layout
argument_list|,
name|item
argument_list|)
expr_stmt|;
block|}
name|QApplication
operator|::
name|sendPostedEvents
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|widget
operator|->
name|show
argument_list|()
expr_stmt|;
name|view
operator|.
name|show
argument_list|()
expr_stmt|;
name|view
operator|.
name|resize
argument_list|(
literal|400
argument_list|,
literal|300
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|)
argument_list|,
name|expectedMinimumSizeHint
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|)
argument_list|,
name|expectedPreferredSizeHint
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|)
argument_list|,
name|expectedMaximumSizeHint
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|verticalSpacing_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|verticalSpacing_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|qreal
argument_list|>
argument_list|(
literal|"verticalSpacing"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"zero"
argument_list|)
operator|<<
name|qreal
argument_list|(
literal|0.0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"17"
argument_list|)
operator|<<
name|qreal
argument_list|(
literal|10.0
argument_list|)
expr_stmt|;
block|}
end_function
begin_comment
comment|// public qreal verticalSpacing() const
end_comment
begin_function
DECL|function|verticalSpacing
name|void
name|tst_QGraphicsGridLayout
operator|::
name|verticalSpacing
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|qreal
argument_list|,
name|verticalSpacing
argument_list|)
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|()
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|populateLayout
argument_list|(
name|layout
argument_list|,
literal|3
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|qreal
name|h
init|=
name|layout
operator|->
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|()
argument_list|)
operator|.
name|height
argument_list|()
decl_stmt|;
name|qreal
name|oldSpacing
init|=
name|layout
operator|->
name|verticalSpacing
argument_list|()
decl_stmt|;
comment|// The remainder of this test is only applicable if the current style uses uniform layout spacing
if|if
condition|(
name|oldSpacing
operator|!=
operator|-
literal|1
condition|)
block|{
name|layout
operator|->
name|setVerticalSpacing
argument_list|(
name|verticalSpacing
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
name|qreal
name|new_h
init|=
name|layout
operator|->
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|()
argument_list|)
operator|.
name|height
argument_list|()
decl_stmt|;
name|QCOMPARE
argument_list|(
name|new_h
argument_list|,
name|h
operator|-
operator|(
literal|2
operator|-
literal|1
operator|)
operator|*
operator|(
name|oldSpacing
operator|-
name|verticalSpacing
operator|)
argument_list|)
expr_stmt|;
block|}
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_function
DECL|function|layoutDirection_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|layoutDirection_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|""
argument_list|)
operator|<<
literal|false
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hasHeightForWidth"
argument_list|)
operator|<<
literal|true
expr_stmt|;
block|}
end_function
begin_function
DECL|function|layoutDirection
name|void
name|tst_QGraphicsGridLayout
operator|::
name|layoutDirection
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|window
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
decl_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|,
literal|3
argument_list|,
literal|4
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|6
argument_list|)
expr_stmt|;
name|RectWidget
modifier|*
name|w1
init|=
operator|new
name|RectWidget
decl_stmt|;
name|w1
operator|->
name|setMinimumSize
argument_list|(
literal|30
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w1
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|RectWidget
modifier|*
name|w2
init|=
operator|new
name|RectWidget
decl_stmt|;
name|w2
operator|->
name|setMinimumSize
argument_list|(
literal|20
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|w2
operator|->
name|setMaximumSize
argument_list|(
literal|20
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w2
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|RectWidget
modifier|*
name|w3
init|=
operator|new
name|RectWidget
decl_stmt|;
name|w3
operator|->
name|setMinimumSize
argument_list|(
literal|20
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|w3
operator|->
name|setMaximumSize
argument_list|(
literal|20
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w3
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|RectWidget
modifier|*
name|w4
init|=
operator|new
name|RectWidget
decl_stmt|;
name|w4
operator|->
name|setMinimumSize
argument_list|(
literal|30
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w4
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|QSizePolicy
name|policy
init|=
name|w1
operator|->
name|sizePolicy
argument_list|()
decl_stmt|;
name|policy
operator|.
name|setHeightForWidth
argument_list|(
name|hasHeightForWidth
argument_list|)
expr_stmt|;
name|w1
operator|->
name|setSizePolicy
argument_list|(
name|policy
argument_list|)
expr_stmt|;
name|w2
operator|->
name|setSizePolicy
argument_list|(
name|policy
argument_list|)
expr_stmt|;
name|w4
operator|->
name|setSizePolicy
argument_list|(
name|policy
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setAlignment
argument_list|(
name|w2
argument_list|,
name|Qt
operator|::
name|AlignRight
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setAlignment
argument_list|(
name|w3
argument_list|,
name|Qt
operator|::
name|AlignLeft
argument_list|)
expr_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|window
argument_list|)
expr_stmt|;
name|window
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|view
operator|.
name|show
argument_list|()
expr_stmt|;
name|window
operator|->
name|resize
argument_list|(
literal|70
argument_list|,
literal|52
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w1
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|,
literal|1.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w1
operator|->
name|geometry
argument_list|()
operator|.
name|right
argument_list|()
argument_list|,
literal|31.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w2
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|,
literal|47.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w2
operator|->
name|geometry
argument_list|()
operator|.
name|right
argument_list|()
argument_list|,
literal|67.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w3
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|,
literal|1.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w3
operator|->
name|geometry
argument_list|()
operator|.
name|right
argument_list|()
argument_list|,
literal|21.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w4
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|,
literal|37.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w4
operator|->
name|geometry
argument_list|()
operator|.
name|right
argument_list|()
argument_list|,
literal|67.0
argument_list|)
expr_stmt|;
name|window
operator|->
name|setLayoutDirection
argument_list|(
name|Qt
operator|::
name|RightToLeft
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w1
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|,
literal|39.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w1
operator|->
name|geometry
argument_list|()
operator|.
name|right
argument_list|()
argument_list|,
literal|69.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w2
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|,
literal|3.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w2
operator|->
name|geometry
argument_list|()
operator|.
name|right
argument_list|()
argument_list|,
literal|23.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w3
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|,
literal|49.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w3
operator|->
name|geometry
argument_list|()
operator|.
name|right
argument_list|()
argument_list|,
literal|69.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w4
operator|->
name|geometry
argument_list|()
operator|.
name|left
argument_list|()
argument_list|,
literal|3.0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w4
operator|->
name|geometry
argument_list|()
operator|.
name|right
argument_list|()
argument_list|,
literal|33.0
argument_list|)
expr_stmt|;
operator|delete
name|window
expr_stmt|;
block|}
end_function
begin_function
DECL|function|removeLayout
name|void
name|tst_QGraphicsGridLayout
operator|::
name|removeLayout
parameter_list|()
block|{
name|QGraphicsScene
name|scene
decl_stmt|;
name|RectWidget
modifier|*
name|textEdit
init|=
operator|new
name|RectWidget
decl_stmt|;
name|RectWidget
modifier|*
name|pushButton
init|=
operator|new
name|RectWidget
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|textEdit
argument_list|)
expr_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|pushButton
argument_list|)
expr_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
decl_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|textEdit
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|pushButton
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QGraphicsWidget
modifier|*
name|form
init|=
operator|new
name|QGraphicsWidget
decl_stmt|;
name|form
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|form
argument_list|)
expr_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|view
operator|.
name|show
argument_list|()
expr_stmt|;
name|QTest
operator|::
name|qWait
argument_list|(
literal|20
argument_list|)
expr_stmt|;
name|QRectF
name|r1
init|=
name|textEdit
operator|->
name|geometry
argument_list|()
decl_stmt|;
name|QRectF
name|r2
init|=
name|pushButton
operator|->
name|geometry
argument_list|()
decl_stmt|;
name|form
operator|->
name|setLayout
argument_list|(
literal|0
argument_list|)
expr_stmt|;
comment|//documentation of QGraphicsWidget::setLayout:
comment|//If layout is 0, the widget is left without a layout. Existing subwidgets' geometries will remain unaffected.
name|QCOMPARE
argument_list|(
name|textEdit
operator|->
name|geometry
argument_list|()
argument_list|,
name|r1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|pushButton
operator|->
name|geometry
argument_list|()
argument_list|,
name|r2
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|defaultStretchFactors_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|defaultStretchFactors_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|ItemList
argument_list|>
argument_list|(
literal|"itemDescriptions"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QSizeF
argument_list|>
argument_list|(
literal|"newSize"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|SizeList
argument_list|>
argument_list|(
literal|"expectedSizes"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"usepreferredsize"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|()
operator|<<
operator|(
name|SizeList
argument_list|()
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"preferredsizeIsZero"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|0
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|30
argument_list|,
literal|10
argument_list|)
operator|<<
operator|(
name|SizeList
argument_list|()
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|10
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ignoreitem01"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|sizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Ignored
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|()
operator|<<
operator|(
name|SizeList
argument_list|()
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ignoreitem01_resize120x40"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|sizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Ignored
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|30
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|30
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|120
argument_list|,
literal|40
argument_list|)
operator|<<
operator|(
name|SizeList
argument_list|()
operator|<<
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|20
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|40
argument_list|,
literal|20
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|60
argument_list|,
literal|20
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|20
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|40
argument_list|,
literal|20
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|60
argument_list|,
literal|20
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ignoreitem11_resize120x40"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|30
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|sizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Ignored
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|30
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|120
argument_list|,
literal|60
argument_list|)
operator|<<
operator|(
name|SizeList
argument_list|()
operator|<<
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|20
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|40
argument_list|,
literal|20
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|60
argument_list|,
literal|20
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|40
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|40
argument_list|,
literal|40
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|60
argument_list|,
literal|40
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ignoreitem01_span01_resize70x60"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|sizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Ignored
argument_list|)
operator|.
name|rowSpan
argument_list|(
literal|2
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|30
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|30
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|70
argument_list|,
literal|60
argument_list|)
operator|<<
operator|(
name|SizeList
argument_list|()
operator|<<
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|20
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|60
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|40
argument_list|,
literal|20
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|40
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|40
argument_list|,
literal|40
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ignoreitem10_resize40x120"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|sizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Ignored
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|2
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|30
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|2
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|30
argument_list|)
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|40
argument_list|,
literal|120
argument_list|)
operator|<<
operator|(
name|SizeList
argument_list|()
operator|<<
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|20
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|20
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|40
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|40
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|60
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|60
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ignoreitem01_span02"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|sizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Ignored
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|.
name|rowSpan
argument_list|(
literal|2
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|()
operator|<<
operator|(
name|SizeList
argument_list|()
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|0
argument_list|,
literal|20
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ignoreitem02_span02"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|.
name|sizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Ignored
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|.
name|rowSpan
argument_list|(
literal|2
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|()
operator|<<
operator|(
name|SizeList
argument_list|()
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|0
argument_list|,
literal|20
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ignoreitem02_span00_span02"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|rowSpan
argument_list|(
literal|2
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|.
name|sizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Ignored
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|.
name|rowSpan
argument_list|(
literal|2
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|()
operator|<<
operator|(
name|SizeList
argument_list|()
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|20
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|0
argument_list|,
literal|20
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ignoreitem00_colspan00"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|sizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Ignored
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|.
name|colSpan
argument_list|(
literal|2
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|()
operator|<<
operator|(
name|SizeList
argument_list|()
operator|<<
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ignoreitem01_colspan01"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|sizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Ignored
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|.
name|colSpan
argument_list|(
literal|2
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|()
operator|<<
operator|(
name|SizeList
argument_list|()
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ignorecolumn1_resize70x60"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|sizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Ignored
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|30
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|sizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Ignored
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|30
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|70
argument_list|,
literal|60
argument_list|)
operator|<<
operator|(
name|SizeList
argument_list|()
operator|<<
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|20
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|20
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|40
argument_list|,
literal|20
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|40
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|40
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|40
argument_list|,
literal|40
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ignorerow0"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|sizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Ignored
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|sizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Ignored
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|.
name|sizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Ignored
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|()
operator|<<
operator|(
name|SizeList
argument_list|()
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|0
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|0
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|0
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ignorerow1"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|sizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Ignored
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|sizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Ignored
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|.
name|sizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Ignored
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|()
operator|<<
operator|(
name|SizeList
argument_list|()
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|0
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|0
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|0
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ignorerow0_resize60x50"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|sizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Ignored
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|sizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Ignored
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|2
argument_list|)
operator|.
name|sizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Ignored
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|30
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|30
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|30
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|30
argument_list|,
literal|30
argument_list|)
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|60
argument_list|,
literal|50
argument_list|)
operator|<<
operator|(
name|SizeList
argument_list|()
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|30
argument_list|,
literal|10
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|40
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|40
argument_list|)
operator|<<
name|QSizeF
argument_list|(
literal|30
argument_list|,
literal|40
argument_list|)
operator|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|defaultStretchFactors
name|void
name|tst_QGraphicsGridLayout
operator|::
name|defaultStretchFactors
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|ItemList
argument_list|,
name|itemDescriptions
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QSizeF
argument_list|,
name|newSize
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|SizeList
argument_list|,
name|expectedSizes
argument_list|)
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0.0
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|int
name|i
decl_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|itemDescriptions
operator|.
name|count
argument_list|()
condition|;
operator|++
name|i
control|)
block|{
name|ItemDesc
name|desc
init|=
name|itemDescriptions
operator|.
name|at
argument_list|(
name|i
argument_list|)
decl_stmt|;
name|RectWidget
modifier|*
name|item
init|=
operator|new
name|RectWidget
argument_list|(
name|widget
argument_list|)
decl_stmt|;
name|desc
operator|.
name|apply
argument_list|(
name|layout
argument_list|,
name|item
argument_list|)
expr_stmt|;
block|}
name|QApplication
operator|::
name|sendPostedEvents
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|widget
operator|->
name|show
argument_list|()
expr_stmt|;
name|view
operator|.
name|show
argument_list|()
expr_stmt|;
name|view
operator|.
name|resize
argument_list|(
literal|400
argument_list|,
literal|300
argument_list|)
expr_stmt|;
if|if
condition|(
name|newSize
operator|.
name|isValid
argument_list|()
condition|)
name|widget
operator|->
name|resize
argument_list|(
name|newSize
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|sendPostedEvents
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|expectedSizes
operator|.
name|count
argument_list|()
condition|;
operator|++
name|i
control|)
block|{
name|QSizeF
name|itemSize
init|=
name|layout
operator|->
name|itemAt
argument_list|(
name|i
argument_list|)
operator|->
name|geometry
argument_list|()
operator|.
name|size
argument_list|()
decl_stmt|;
name|QCOMPARE
argument_list|(
name|itemSize
argument_list|,
name|expectedSizes
operator|.
name|at
argument_list|(
name|i
argument_list|)
argument_list|)
expr_stmt|;
block|}
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_typedef
DECL|typedef|RectList
typedef|typedef
name|QList
argument_list|<
name|QRectF
argument_list|>
name|RectList
typedef|;
end_typedef
begin_function
DECL|function|alignment2_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|alignment2_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|ItemList
argument_list|>
argument_list|(
literal|"itemDescriptions"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QSizeF
argument_list|>
argument_list|(
literal|"newSize"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|RectList
argument_list|>
argument_list|(
literal|"expectedGeometries"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hor_sizepolicy_fixed"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|.
name|sizePolicyV
argument_list|(
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|sizePolicyV
argument_list|(
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|()
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|10
argument_list|,
literal|20
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|10
argument_list|,
literal|0
argument_list|,
literal|10
argument_list|,
literal|10
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hor_sizepolicy_fixed_alignvcenter"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|.
name|sizePolicyV
argument_list|(
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|sizePolicyV
argument_list|(
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
operator|.
name|alignment
argument_list|(
name|Qt
operator|::
name|AlignVCenter
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|()
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|10
argument_list|,
literal|20
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|10
argument_list|,
literal|5
argument_list|,
literal|10
argument_list|,
literal|10
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hor_sizepolicy_fixed_aligntop"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|.
name|sizePolicyV
argument_list|(
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|sizePolicyV
argument_list|(
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
operator|.
name|alignment
argument_list|(
name|Qt
operator|::
name|AlignTop
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|()
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|10
argument_list|,
literal|20
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|10
argument_list|,
literal|0
argument_list|,
literal|10
argument_list|,
literal|10
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hor_sizepolicy_fixed_alignbottom"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|20
argument_list|)
argument_list|)
operator|.
name|sizePolicyV
argument_list|(
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|sizePolicyV
argument_list|(
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
operator|.
name|alignment
argument_list|(
name|Qt
operator|::
name|AlignBottom
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|()
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|10
argument_list|,
literal|20
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|,
literal|10
argument_list|,
literal|10
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ver_sizepolicy_fixed"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|sizePolicyH
argument_list|(
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|sizePolicyH
argument_list|(
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|()
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|20
argument_list|,
literal|10
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|10
argument_list|,
literal|10
argument_list|,
literal|10
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ver_sizepolicy_fixed_alignhcenter"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|sizePolicyH
argument_list|(
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|sizePolicyH
argument_list|(
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
operator|.
name|alignment
argument_list|(
name|Qt
operator|::
name|AlignHCenter
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|()
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|20
argument_list|,
literal|10
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|5
argument_list|,
literal|10
argument_list|,
literal|10
argument_list|,
literal|10
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ver_sizepolicy_fixed_alignleft"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|sizePolicyH
argument_list|(
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|sizePolicyH
argument_list|(
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
operator|.
name|alignment
argument_list|(
name|Qt
operator|::
name|AlignLeft
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|()
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|20
argument_list|,
literal|10
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|10
argument_list|,
literal|10
argument_list|,
literal|10
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"ver_sizepolicy_fixed_alignright"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|sizePolicyH
argument_list|(
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|preferredSizeHint
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|sizePolicyH
argument_list|(
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
operator|.
name|alignment
argument_list|(
name|Qt
operator|::
name|AlignRight
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|()
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|20
argument_list|,
literal|10
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|,
literal|10
argument_list|,
literal|10
argument_list|)
operator|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|alignment2
name|void
name|tst_QGraphicsGridLayout
operator|::
name|alignment2
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|ItemList
argument_list|,
name|itemDescriptions
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QSizeF
argument_list|,
name|newSize
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|RectList
argument_list|,
name|expectedGeometries
argument_list|)
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0.0
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|int
name|i
decl_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|itemDescriptions
operator|.
name|count
argument_list|()
condition|;
operator|++
name|i
control|)
block|{
name|ItemDesc
name|desc
init|=
name|itemDescriptions
operator|.
name|at
argument_list|(
name|i
argument_list|)
decl_stmt|;
name|RectWidget
modifier|*
name|item
init|=
operator|new
name|RectWidget
argument_list|(
name|widget
argument_list|)
decl_stmt|;
name|desc
operator|.
name|apply
argument_list|(
name|layout
argument_list|,
name|item
argument_list|)
expr_stmt|;
block|}
name|QApplication
operator|::
name|sendPostedEvents
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|widget
operator|->
name|show
argument_list|()
expr_stmt|;
name|view
operator|.
name|resize
argument_list|(
literal|400
argument_list|,
literal|300
argument_list|)
expr_stmt|;
name|view
operator|.
name|show
argument_list|()
expr_stmt|;
if|if
condition|(
name|newSize
operator|.
name|isValid
argument_list|()
condition|)
name|widget
operator|->
name|resize
argument_list|(
name|newSize
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|sendPostedEvents
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|expectedGeometries
operator|.
name|count
argument_list|()
condition|;
operator|++
name|i
control|)
block|{
name|QRectF
name|itemRect
init|=
name|layout
operator|->
name|itemAt
argument_list|(
name|i
argument_list|)
operator|->
name|geometry
argument_list|()
decl_stmt|;
name|QCOMPARE
argument_list|(
name|itemRect
argument_list|,
name|expectedGeometries
operator|.
name|at
argument_list|(
name|i
argument_list|)
argument_list|)
expr_stmt|;
block|}
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_function
DECL|function|hfw1
specifier|static
name|QSizeF
name|hfw1
parameter_list|(
name|Qt
operator|::
name|SizeHint
parameter_list|,
specifier|const
name|QSizeF
modifier|&
name|constraint
parameter_list|)
block|{
name|QSizeF
name|result
argument_list|(
name|constraint
argument_list|)
decl_stmt|;
specifier|const
name|qreal
name|ch
init|=
name|constraint
operator|.
name|height
argument_list|()
decl_stmt|;
specifier|const
name|qreal
name|cw
init|=
name|constraint
operator|.
name|width
argument_list|()
decl_stmt|;
if|if
condition|(
name|cw
operator|<
literal|0
operator|&&
name|ch
operator|<
literal|0
condition|)
block|{
return|return
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|400
argument_list|)
return|;
block|}
elseif|else
if|if
condition|(
name|cw
operator|>
literal|0
condition|)
block|{
name|result
operator|.
name|setHeight
argument_list|(
literal|20000.
operator|/
name|cw
argument_list|)
expr_stmt|;
block|}
return|return
name|result
return|;
block|}
end_function
begin_function
DECL|function|wfh1
specifier|static
name|QSizeF
name|wfh1
parameter_list|(
name|Qt
operator|::
name|SizeHint
parameter_list|,
specifier|const
name|QSizeF
modifier|&
name|constraint
parameter_list|)
block|{
name|QSizeF
name|result
argument_list|(
name|constraint
argument_list|)
decl_stmt|;
specifier|const
name|qreal
name|ch
init|=
name|constraint
operator|.
name|height
argument_list|()
decl_stmt|;
specifier|const
name|qreal
name|cw
init|=
name|constraint
operator|.
name|width
argument_list|()
decl_stmt|;
if|if
condition|(
name|cw
operator|<
literal|0
operator|&&
name|ch
operator|<
literal|0
condition|)
block|{
return|return
name|QSizeF
argument_list|(
literal|400
argument_list|,
literal|50
argument_list|)
return|;
block|}
elseif|else
if|if
condition|(
name|ch
operator|>
literal|0
condition|)
block|{
name|result
operator|.
name|setWidth
argument_list|(
literal|20000.
operator|/
name|ch
argument_list|)
expr_stmt|;
block|}
return|return
name|result
return|;
block|}
end_function
begin_function
DECL|function|wfh2
specifier|static
name|QSizeF
name|wfh2
parameter_list|(
name|Qt
operator|::
name|SizeHint
parameter_list|,
specifier|const
name|QSizeF
modifier|&
name|constraint
parameter_list|)
block|{
name|QSizeF
name|result
argument_list|(
name|constraint
argument_list|)
decl_stmt|;
specifier|const
name|qreal
name|ch
init|=
name|constraint
operator|.
name|height
argument_list|()
decl_stmt|;
specifier|const
name|qreal
name|cw
init|=
name|constraint
operator|.
name|width
argument_list|()
decl_stmt|;
if|if
condition|(
name|ch
operator|<
literal|0
operator|&&
name|cw
operator|<
literal|0
condition|)
return|return
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
return|;
if|if
condition|(
name|ch
operator|>=
literal|0
condition|)
name|result
operator|.
name|setWidth
argument_list|(
name|ch
argument_list|)
expr_stmt|;
return|return
name|result
return|;
block|}
end_function
begin_function
DECL|function|hfw3
specifier|static
name|QSizeF
name|hfw3
parameter_list|(
name|Qt
operator|::
name|SizeHint
parameter_list|,
specifier|const
name|QSizeF
modifier|&
name|constraint
parameter_list|)
block|{
name|QSizeF
name|result
argument_list|(
name|constraint
argument_list|)
decl_stmt|;
specifier|const
name|qreal
name|ch
init|=
name|constraint
operator|.
name|height
argument_list|()
decl_stmt|;
specifier|const
name|qreal
name|cw
init|=
name|constraint
operator|.
name|width
argument_list|()
decl_stmt|;
if|if
condition|(
name|cw
operator|<
literal|0
operator|&&
name|ch
operator|<
literal|0
condition|)
block|{
return|return
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
return|;
block|}
elseif|else
if|if
condition|(
name|cw
operator|>
literal|0
condition|)
block|{
name|result
operator|.
name|setHeight
argument_list|(
literal|100.
operator|/
name|cw
argument_list|)
expr_stmt|;
block|}
return|return
name|result
return|;
block|}
end_function
begin_function
DECL|function|hfw2
specifier|static
name|QSizeF
name|hfw2
parameter_list|(
name|Qt
operator|::
name|SizeHint
comment|/*which*/
parameter_list|,
specifier|const
name|QSizeF
modifier|&
name|constraint
parameter_list|)
block|{
return|return
name|QSizeF
argument_list|(
name|constraint
operator|.
name|width
argument_list|()
argument_list|,
name|constraint
operator|.
name|width
argument_list|()
argument_list|)
return|;
block|}
end_function
begin_function
DECL|function|geometries_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|geometries_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|ItemList
argument_list|>
argument_list|(
literal|"itemDescriptions"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|QSizeF
argument_list|>
argument_list|(
literal|"newSize"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|RectList
argument_list|>
argument_list|(
literal|"expectedGeometries"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"combine_max_sizes"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|20
argument_list|)
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|10
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|10
argument_list|,
literal|10
argument_list|,
literal|10
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"combine_min_sizes"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|60
argument_list|,
literal|20
argument_list|)
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|60
argument_list|,
literal|10
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|10
argument_list|,
literal|60
argument_list|,
literal|10
argument_list|)
operator|)
expr_stmt|;
comment|// change layout height and verify
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hfw-100x401"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|40
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|500
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
operator|.
name|dynamicConstraint
argument_list|(
name|hfw1
argument_list|,
name|Qt
operator|::
name|Vertical
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|401
argument_list|)
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|1
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|50
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|1
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|,
literal|50
argument_list|,
literal|100
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|50
argument_list|,
literal|1
argument_list|,
literal|50
argument_list|,
literal|400
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hfw-h408"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|40
argument_list|,
literal|40
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|400
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|500
argument_list|,
literal|500
argument_list|)
argument_list|)
operator|.
name|dynamicConstraint
argument_list|(
name|hfw1
argument_list|,
name|Qt
operator|::
name|Vertical
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|408
argument_list|)
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|8
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|50
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|8
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|8
argument_list|,
literal|50
argument_list|,
literal|100
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|50
argument_list|,
literal|8
argument_list|,
literal|50
argument_list|,
literal|400
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hfw-h410"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|40
argument_list|,
literal|40
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|400
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|500
argument_list|,
literal|500
argument_list|)
argument_list|)
operator|.
name|dynamicConstraint
argument_list|(
name|hfw1
argument_list|,
name|Qt
operator|::
name|Vertical
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|410
argument_list|)
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|10
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|50
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|10
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|10
argument_list|,
literal|50
argument_list|,
literal|100
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|,
literal|50
argument_list|,
literal|400
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hfw-100x470"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|40
argument_list|,
literal|40
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|400
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|500
argument_list|,
literal|500
argument_list|)
argument_list|)
operator|.
name|dynamicConstraint
argument_list|(
name|hfw1
argument_list|,
name|Qt
operator|::
name|Vertical
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|470
argument_list|)
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|70
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|50
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|70
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|70
argument_list|,
literal|50
argument_list|,
literal|100
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|50
argument_list|,
literal|70
argument_list|,
literal|50
argument_list|,
literal|400
argument_list|)
operator|)
expr_stmt|;
comment|// change layout width and verify
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hfw-100x401"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
operator|.
name|dynamicConstraint
argument_list|(
name|hfw1
argument_list|,
name|Qt
operator|::
name|Vertical
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|401
argument_list|)
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|1
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|50
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|1
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|,
literal|50
argument_list|,
literal|100
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|50
argument_list|,
literal|1
argument_list|,
literal|50
argument_list|,
literal|400
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hfw-160x350"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|40
argument_list|,
literal|40
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|400
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|5000
argument_list|,
literal|5000
argument_list|)
argument_list|)
operator|.
name|dynamicConstraint
argument_list|(
name|hfw1
argument_list|,
name|Qt
operator|::
name|Vertical
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|160
argument_list|,
literal|350
argument_list|)
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|80
argument_list|,
literal|100
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|80
argument_list|,
literal|0
argument_list|,
literal|80
argument_list|,
literal|100
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|100
argument_list|,
literal|80
argument_list|,
literal|100
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|80
argument_list|,
literal|100
argument_list|,
literal|80
argument_list|,
literal|250
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hfw-160x300"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|40
argument_list|,
literal|40
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|400
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|5000
argument_list|,
literal|5000
argument_list|)
argument_list|)
operator|.
name|dynamicConstraint
argument_list|(
name|hfw1
argument_list|,
name|Qt
operator|::
name|Vertical
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|160
argument_list|,
literal|300
argument_list|)
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|80
argument_list|,
literal|50
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|80
argument_list|,
literal|0
argument_list|,
literal|80
argument_list|,
literal|50
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|50
argument_list|,
literal|80
argument_list|,
literal|100
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|80
argument_list|,
literal|50
argument_list|,
literal|80
argument_list|,
literal|250
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hfw-20x40"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|.
name|dynamicConstraint
argument_list|(
name|hfw3
argument_list|,
name|Qt
operator|::
name|Vertical
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|20
argument_list|,
literal|40
argument_list|)
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|10
argument_list|,
literal|20
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|10
argument_list|,
literal|0
argument_list|,
literal|10
argument_list|,
literal|20
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|20
argument_list|,
literal|10
argument_list|,
literal|20
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|10
argument_list|,
literal|20
argument_list|,
literal|10
argument_list|,
literal|10
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"wfh-300x160"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|400
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|5000
argument_list|,
literal|5000
argument_list|)
argument_list|)
operator|.
name|dynamicConstraint
argument_list|(
name|wfh1
argument_list|,
name|Qt
operator|::
name|Horizontal
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|300
argument_list|,
literal|160
argument_list|)
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|80
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|50
argument_list|,
literal|0
argument_list|,
literal|100
argument_list|,
literal|80
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|80
argument_list|,
literal|50
argument_list|,
literal|80
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|50
argument_list|,
literal|80
argument_list|,
literal|250
argument_list|,
literal|80
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"wfh-40x20"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
comment|// Note, must be 10 in order to match stretching  of wfh item
comment|// below (the same stretch makes it easier to test)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|.
name|dynamicConstraint
argument_list|(
name|wfh2
argument_list|,
name|Qt
operator|::
name|Horizontal
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|40
argument_list|,
literal|20
argument_list|)
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|20
argument_list|,
literal|10
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|20
argument_list|,
literal|0
argument_list|,
literal|20
argument_list|,
literal|10
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|10
argument_list|,
literal|20
argument_list|,
literal|10
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|20
argument_list|,
literal|10
argument_list|,
literal|10
argument_list|,
literal|10
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"wfh-400x160"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|.
name|dynamicConstraint
argument_list|(
name|wfh2
argument_list|,
name|Qt
operator|::
name|Horizontal
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|400
argument_list|,
literal|160
argument_list|)
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|100
argument_list|,
literal|80
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|100
argument_list|,
literal|0
argument_list|,
literal|100
argument_list|,
literal|80
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|80
argument_list|,
literal|100
argument_list|,
literal|80
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|100
argument_list|,
literal|80
argument_list|,
literal|80
argument_list|,
literal|80
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"wfh-160x100"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
comment|// Note, preferred width must be 50 in order to match
comment|// preferred width of wfh item below.
comment|// (The same preferred size makes the stretch the same, and
comment|// makes it easier to test) (The stretch algorithm is a
comment|// blackbox)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|50
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|500
argument_list|,
literal|500
argument_list|)
argument_list|)
operator|.
name|dynamicConstraint
argument_list|(
name|wfh2
argument_list|,
name|Qt
operator|::
name|Horizontal
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|160
argument_list|,
literal|100
argument_list|)
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|80
argument_list|,
literal|50
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|80
argument_list|,
literal|0
argument_list|,
literal|80
argument_list|,
literal|50
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|50
argument_list|,
literal|80
argument_list|,
literal|50
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|80
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hfw-h470"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|40
argument_list|,
literal|40
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|400
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|500
argument_list|,
literal|500
argument_list|)
argument_list|)
operator|.
name|dynamicConstraint
argument_list|(
name|hfw1
argument_list|,
name|Qt
operator|::
name|Vertical
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|470
argument_list|)
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|70
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|50
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|70
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|70
argument_list|,
literal|50
argument_list|,
literal|100
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|50
argument_list|,
literal|70
argument_list|,
literal|50
argument_list|,
literal|400
argument_list|)
operator|)
expr_stmt|;
comment|// change layout width and verify
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hfw-w100"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|40
argument_list|,
literal|40
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|400
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|5000
argument_list|,
literal|5000
argument_list|)
argument_list|)
operator|.
name|dynamicConstraint
argument_list|(
name|hfw1
argument_list|,
name|Qt
operator|::
name|Vertical
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|401
argument_list|)
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|1
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|50
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|1
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|,
literal|50
argument_list|,
literal|100
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|50
argument_list|,
literal|1
argument_list|,
literal|50
argument_list|,
literal|400
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hfw-w160"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|40
argument_list|,
literal|40
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|400
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|5000
argument_list|,
literal|5000
argument_list|)
argument_list|)
operator|.
name|dynamicConstraint
argument_list|(
name|hfw1
argument_list|,
name|Qt
operator|::
name|Vertical
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|160
argument_list|,
literal|350
argument_list|)
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|80
argument_list|,
literal|100
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|80
argument_list|,
literal|0
argument_list|,
literal|80
argument_list|,
literal|100
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|100
argument_list|,
literal|80
argument_list|,
literal|100
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|80
argument_list|,
literal|100
argument_list|,
literal|80
argument_list|,
literal|250
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hfw-w500"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
operator|.
name|preferredSize
argument_list|(
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|10
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|40
argument_list|,
literal|40
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|400
argument_list|)
argument_list|)
operator|.
name|sizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|5000
argument_list|,
literal|5000
argument_list|)
argument_list|)
operator|.
name|dynamicConstraint
argument_list|(
name|hfw1
argument_list|,
name|Qt
operator|::
name|Vertical
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|500
argument_list|,
literal|200
argument_list|)
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|100
argument_list|,
literal|100
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|100
argument_list|,
literal|0
argument_list|,
literal|100
argument_list|,
literal|100
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|100
argument_list|,
literal|100
argument_list|,
literal|100
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|,
literal|400
argument_list|,
literal|50
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hfw-alignment-defaults"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|.
name|dynamicConstraint
argument_list|(
name|hfw2
argument_list|,
name|Qt
operator|::
name|Vertical
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|200
argument_list|,
literal|200
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|200
argument_list|,
literal|200
argument_list|)
argument_list|)
operator|.
name|dynamicConstraint
argument_list|(
name|hfw2
argument_list|,
name|Qt
operator|::
name|Vertical
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|2
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|300
argument_list|,
literal|300
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|300
argument_list|,
literal|300
argument_list|)
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|300
argument_list|,
literal|600
argument_list|)
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|100
argument_list|,
literal|100
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|100
argument_list|,
literal|200
argument_list|,
literal|200
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|300
argument_list|,
literal|300
argument_list|,
literal|300
argument_list|)
operator|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"hfw-alignment2"
argument_list|)
operator|<<
operator|(
name|ItemList
argument_list|()
operator|<<
name|ItemDesc
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
operator|.
name|dynamicConstraint
argument_list|(
name|hfw2
argument_list|,
name|Qt
operator|::
name|Vertical
argument_list|)
operator|.
name|alignment
argument_list|(
name|Qt
operator|::
name|AlignRight
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|1
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|200
argument_list|,
literal|200
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|200
argument_list|,
literal|200
argument_list|)
argument_list|)
operator|.
name|dynamicConstraint
argument_list|(
name|hfw2
argument_list|,
name|Qt
operator|::
name|Vertical
argument_list|)
operator|.
name|alignment
argument_list|(
name|Qt
operator|::
name|AlignHCenter
argument_list|)
operator|<<
name|ItemDesc
argument_list|(
literal|2
argument_list|,
literal|0
argument_list|)
operator|.
name|minSize
argument_list|(
name|QSizeF
argument_list|(
literal|300
argument_list|,
literal|300
argument_list|)
argument_list|)
operator|.
name|maxSize
argument_list|(
name|QSizeF
argument_list|(
literal|300
argument_list|,
literal|300
argument_list|)
argument_list|)
operator|)
operator|<<
name|QSizeF
argument_list|(
literal|300
argument_list|,
literal|600
argument_list|)
operator|<<
operator|(
name|RectList
argument_list|()
operator|<<
name|QRectF
argument_list|(
literal|200
argument_list|,
literal|0
argument_list|,
literal|100
argument_list|,
literal|100
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|50
argument_list|,
literal|100
argument_list|,
literal|200
argument_list|,
literal|200
argument_list|)
operator|<<
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|300
argument_list|,
literal|300
argument_list|,
literal|300
argument_list|)
operator|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|geometries
name|void
name|tst_QGraphicsGridLayout
operator|::
name|geometries
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|ItemList
argument_list|,
name|itemDescriptions
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|QSizeF
argument_list|,
name|newSize
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|RectList
argument_list|,
name|expectedGeometries
argument_list|)
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
name|view
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0.0
argument_list|)
expr_stmt|;
name|widget
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|int
name|i
decl_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|itemDescriptions
operator|.
name|count
argument_list|()
condition|;
operator|++
name|i
control|)
block|{
name|ItemDesc
name|desc
init|=
name|itemDescriptions
operator|.
name|at
argument_list|(
name|i
argument_list|)
decl_stmt|;
name|RectWidget
modifier|*
name|item
init|=
operator|new
name|RectWidget
argument_list|(
name|widget
argument_list|)
decl_stmt|;
name|desc
operator|.
name|apply
argument_list|(
name|layout
argument_list|,
name|item
argument_list|)
expr_stmt|;
block|}
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
name|widget
operator|->
name|show
argument_list|()
expr_stmt|;
name|view
operator|.
name|resize
argument_list|(
literal|400
argument_list|,
literal|300
argument_list|)
expr_stmt|;
name|view
operator|.
name|show
argument_list|()
expr_stmt|;
if|if
condition|(
name|newSize
operator|.
name|isValid
argument_list|()
condition|)
name|widget
operator|->
name|resize
argument_list|(
name|newSize
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|processEvents
argument_list|()
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|expectedGeometries
operator|.
name|count
argument_list|()
condition|;
operator|++
name|i
control|)
block|{
name|QRectF
name|itemRect
init|=
name|layout
operator|->
name|itemAt
argument_list|(
name|i
argument_list|)
operator|->
name|geometry
argument_list|()
decl_stmt|;
name|QCOMPARE
argument_list|(
name|itemRect
argument_list|,
name|expectedGeometries
operator|.
name|at
argument_list|(
name|i
argument_list|)
argument_list|)
expr_stmt|;
block|}
operator|delete
name|widget
expr_stmt|;
block|}
end_function
begin_function
DECL|function|avoidRecursionInInsertItem
name|void
name|tst_QGraphicsGridLayout
operator|::
name|avoidRecursionInInsertItem
parameter_list|()
block|{
name|QGraphicsWidget
name|window
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|(
operator|&
name|window
argument_list|)
decl_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|count
argument_list|()
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|ignoreMessage
argument_list|(
name|QtWarningMsg
argument_list|,
literal|"QGraphicsGridLayout::addItem: cannot insert itself"
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|layout
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|count
argument_list|()
argument_list|,
literal|0
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|styleInfoLeak
name|void
name|tst_QGraphicsGridLayout
operator|::
name|styleInfoLeak
parameter_list|()
block|{
name|QGraphicsGridLayout
name|grid
decl_stmt|;
name|grid
operator|.
name|horizontalSpacing
argument_list|()
expr_stmt|;
block|}
end_function
begin_function
DECL|function|task236367_maxSizeHint
name|void
name|tst_QGraphicsGridLayout
operator|::
name|task236367_maxSizeHint
parameter_list|()
block|{
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
decl_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|int
name|w
init|=
literal|203
decl_stmt|;
name|int
name|h
init|=
literal|204
decl_stmt|;
name|widget
operator|->
name|resize
argument_list|(
name|w
argument_list|,
name|h
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|widget
operator|->
name|size
argument_list|()
argument_list|,
name|QSizeF
argument_list|(
name|w
argument_list|,
name|h
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|hfw
specifier|static
name|QSizeF
name|hfw
parameter_list|(
name|Qt
operator|::
name|SizeHint
comment|/*which*/
parameter_list|,
specifier|const
name|QSizeF
modifier|&
name|constraint
parameter_list|)
block|{
name|QSizeF
name|result
argument_list|(
name|constraint
argument_list|)
decl_stmt|;
specifier|const
name|qreal
name|cw
init|=
name|constraint
operator|.
name|width
argument_list|()
decl_stmt|;
specifier|const
name|qreal
name|ch
init|=
name|constraint
operator|.
name|height
argument_list|()
decl_stmt|;
if|if
condition|(
name|cw
operator|<
literal|0
operator|&&
name|ch
operator|<
literal|0
condition|)
block|{
return|return
name|QSizeF
argument_list|(
literal|200
argument_list|,
literal|100
argument_list|)
return|;
block|}
elseif|else
if|if
condition|(
name|cw
operator|>=
literal|0
condition|)
block|{
name|result
operator|.
name|setHeight
argument_list|(
literal|20000.
operator|/
name|cw
argument_list|)
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|cw
operator|==
literal|0
condition|)
block|{
name|result
operator|.
name|setHeight
argument_list|(
literal|20000
argument_list|)
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|ch
operator|>=
literal|0
condition|)
block|{
name|result
operator|.
name|setWidth
argument_list|(
literal|20000.
operator|/
name|ch
argument_list|)
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|ch
operator|==
literal|0
condition|)
block|{
name|result
operator|.
name|setWidth
argument_list|(
literal|20000
argument_list|)
expr_stmt|;
block|}
return|return
name|result
return|;
block|}
end_function
begin_function
DECL|function|wfh
specifier|static
name|QSizeF
name|wfh
parameter_list|(
name|Qt
operator|::
name|SizeHint
comment|/*which*/
parameter_list|,
specifier|const
name|QSizeF
modifier|&
name|constraint
parameter_list|)
block|{
name|QSizeF
name|result
argument_list|(
name|constraint
argument_list|)
decl_stmt|;
specifier|const
name|qreal
name|ch
init|=
name|constraint
operator|.
name|height
argument_list|()
decl_stmt|;
if|if
condition|(
name|ch
operator|>=
literal|0
condition|)
block|{
name|result
operator|.
name|setWidth
argument_list|(
name|ch
argument_list|)
expr_stmt|;
block|}
return|return
name|result
return|;
block|}
end_function
begin_function
DECL|function|qFuzzyCompare
name|bool
name|qFuzzyCompare
parameter_list|(
specifier|const
name|QSizeF
modifier|&
name|a
parameter_list|,
specifier|const
name|QSizeF
modifier|&
name|b
parameter_list|)
block|{
return|return
name|qFuzzyCompare
argument_list|(
name|a
operator|.
name|width
argument_list|()
argument_list|,
name|b
operator|.
name|width
argument_list|()
argument_list|)
operator|&&
name|qFuzzyCompare
argument_list|(
name|a
operator|.
name|height
argument_list|()
argument_list|,
name|b
operator|.
name|height
argument_list|()
argument_list|)
return|;
block|}
end_function
begin_function
DECL|function|heightForWidth
name|void
name|tst_QGraphicsGridLayout
operator|::
name|heightForWidth
parameter_list|()
block|{
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
decl_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|RectWidget
modifier|*
name|w00
init|=
operator|new
name|RectWidget
decl_stmt|;
name|w00
operator|->
name|setSizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|w00
operator|->
name|setSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
expr_stmt|;
name|w00
operator|->
name|setSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w00
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|RectWidget
modifier|*
name|w01
init|=
operator|new
name|RectWidget
decl_stmt|;
name|w01
operator|->
name|setSizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|w01
operator|->
name|setSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
expr_stmt|;
name|w01
operator|->
name|setSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w01
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|RectWidget
modifier|*
name|w10
init|=
operator|new
name|RectWidget
decl_stmt|;
name|w10
operator|->
name|setSizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|w10
operator|->
name|setSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
expr_stmt|;
name|w10
operator|->
name|setSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w10
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|RectWidget
modifier|*
name|w11
init|=
operator|new
name|RectWidget
decl_stmt|;
name|w11
operator|->
name|setSizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|w11
operator|->
name|setSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|30000
argument_list|,
literal|30000
argument_list|)
argument_list|)
expr_stmt|;
name|w11
operator|->
name|setConstraintFunction
argument_list|(
name|hfw
argument_list|)
expr_stmt|;
name|QSizePolicy
name|sp
argument_list|(
name|QSizePolicy
operator|::
name|Preferred
argument_list|,
name|QSizePolicy
operator|::
name|Preferred
argument_list|)
decl_stmt|;
name|sp
operator|.
name|setHeightForWidth
argument_list|(
literal|true
argument_list|)
expr_stmt|;
name|w11
operator|->
name|setSizePolicy
argument_list|(
name|sp
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w11
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|2
argument_list|,
literal|2
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|210
argument_list|,
literal|110
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|30100
argument_list|,
literal|30100
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|2
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|2
argument_list|,
literal|20001
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|2
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|2
argument_list|,
literal|20010
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|2
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|2
argument_list|,
literal|20100
argument_list|)
argument_list|)
expr_stmt|;
comment|// Since 20 is somewhere between "minimum width hint" (2) and
comment|// "preferred width hint" (210), it will try to do distribution by
comment|// stretching them with different factors.
comment|// Since column 1 has a "preferred width" of 200 it means that
comment|// column 1 will be a bit wider than column 0. Thus it will also be a bit
comment|// shorter than 2001, (the expected height if all columns had width=10)
name|QSizeF
name|sh
init|=
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|20
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
decl_stmt|;
comment|// column 1 cannot be wider than 19, which means that it must be taller than 20000/19~=1052
name|QVERIFY
argument_list|(
name|sh
operator|.
name|height
argument_list|()
operator|<
literal|2000
operator|+
literal|1
operator|&&
name|sh
operator|.
name|height
argument_list|()
operator|>
literal|1052
operator|+
literal|1
argument_list|)
expr_stmt|;
name|sh
operator|=
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|20
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|sh
operator|.
name|height
argument_list|()
operator|<
literal|2000
operator|+
literal|10
operator|&&
name|sh
operator|.
name|height
argument_list|()
operator|>
literal|1052
operator|+
literal|10
argument_list|)
expr_stmt|;
name|sh
operator|=
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|20
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|QVERIFY
argument_list|(
name|sh
operator|.
name|height
argument_list|()
operator|<
literal|2000
operator|+
literal|100
operator|&&
name|sh
operator|.
name|height
argument_list|()
operator|>
literal|1052
operator|+
literal|100
argument_list|)
expr_stmt|;
comment|// the height of the hfw widget is shorter than the one to the left, which is 100, so
comment|// the total height of the last row is 100 (which leaves the layout height to be 200)
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|500
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|500
argument_list|,
literal|100
operator|+
literal|100
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|widthForHeight
name|void
name|tst_QGraphicsGridLayout
operator|::
name|widthForHeight
parameter_list|()
block|{
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
decl_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|RectWidget
modifier|*
name|w00
init|=
operator|new
name|RectWidget
decl_stmt|;
name|w00
operator|->
name|setMinimumSize
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|w00
operator|->
name|setPreferredSize
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
expr_stmt|;
name|w00
operator|->
name|setMaximumSize
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w00
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|RectWidget
modifier|*
name|w01
init|=
operator|new
name|RectWidget
decl_stmt|;
name|w01
operator|->
name|setMinimumSize
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|w01
operator|->
name|setPreferredSize
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
expr_stmt|;
name|w01
operator|->
name|setMaximumSize
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w01
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|RectWidget
modifier|*
name|w10
init|=
operator|new
name|RectWidget
decl_stmt|;
name|w10
operator|->
name|setMinimumSize
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|w10
operator|->
name|setPreferredSize
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
expr_stmt|;
name|w10
operator|->
name|setMaximumSize
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w10
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|RectWidget
modifier|*
name|w11
init|=
operator|new
name|RectWidget
decl_stmt|;
name|w11
operator|->
name|setSizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|w11
operator|->
name|setSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|w11
operator|->
name|setSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|30000
argument_list|,
literal|30000
argument_list|)
argument_list|)
expr_stmt|;
comment|// This will make sure its always square.
name|w11
operator|->
name|setConstraintFunction
argument_list|(
name|wfh
argument_list|)
expr_stmt|;
name|QSizePolicy
name|sp
argument_list|(
name|QSizePolicy
operator|::
name|Preferred
argument_list|,
name|QSizePolicy
operator|::
name|Preferred
argument_list|)
decl_stmt|;
name|sp
operator|.
name|setWidthForHeight
argument_list|(
literal|true
argument_list|)
expr_stmt|;
name|w11
operator|->
name|setSizePolicy
argument_list|(
name|sp
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w11
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
comment|/*          | 1, 50, 100   | 1, 50, 100   |     -----+--------------+--------------+         1|              |              |        50|              |              |       100|              |              |     -----|--------------+--------------+         1|              |              |        50|              |  WFH         |       100|              |              |     -----------------------------------+     */
name|QSizeF
name|prefSize
init|=
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
decl_stmt|;
name|QCOMPARE
argument_list|(
name|prefSize
argument_list|,
name|QSizeF
argument_list|(
literal|50
operator|+
literal|50
argument_list|,
literal|50
operator|+
literal|50
argument_list|)
argument_list|)
expr_stmt|;
comment|// wfh(1):  = 1
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
operator|-
literal|1
argument_list|,
literal|2
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|1
operator|+
literal|1
argument_list|,
literal|2
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
operator|-
literal|1
argument_list|,
literal|2
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|50
operator|+
literal|50
argument_list|,
literal|2
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
operator|-
literal|1
argument_list|,
literal|2
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|100
operator|+
literal|100
argument_list|,
literal|2
argument_list|)
argument_list|)
expr_stmt|;
comment|// wfh(40) = 40
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
operator|-
literal|1
argument_list|,
literal|80
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|1
operator|+
literal|40
argument_list|,
literal|80
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
operator|-
literal|1
argument_list|,
literal|80
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|50
operator|+
literal|50
argument_list|,
literal|80
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
operator|-
literal|1
argument_list|,
literal|80
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|100
operator|+
literal|100
argument_list|,
literal|80
argument_list|)
argument_list|)
expr_stmt|;
comment|// wfh(80) = 80
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
operator|-
literal|1
argument_list|,
literal|160
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|1
operator|+
literal|80
argument_list|,
literal|160
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
operator|-
literal|1
argument_list|,
literal|160
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|50
operator|+
literal|80
argument_list|,
literal|160
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
operator|-
literal|1
argument_list|,
literal|160
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|100
operator|+
literal|100
argument_list|,
literal|160
argument_list|)
argument_list|)
expr_stmt|;
comment|// wfh(200) = 200
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
operator|-
literal|1
argument_list|,
literal|300
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|1
operator|+
literal|200
argument_list|,
literal|300
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
operator|-
literal|1
argument_list|,
literal|300
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|50
operator|+
literal|200
argument_list|,
literal|300
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
operator|-
literal|1
argument_list|,
literal|300
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|100
operator|+
literal|200
argument_list|,
literal|300
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|heightForWidthWithSpanning
name|void
name|tst_QGraphicsGridLayout
operator|::
name|heightForWidthWithSpanning
parameter_list|()
block|{
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
decl_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|RectWidget
modifier|*
name|w
init|=
operator|new
name|RectWidget
decl_stmt|;
name|w
operator|->
name|setSizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|w
operator|->
name|setSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|30000
argument_list|,
literal|30000
argument_list|)
argument_list|)
expr_stmt|;
name|w
operator|->
name|setConstraintFunction
argument_list|(
name|hfw
argument_list|)
expr_stmt|;
name|QSizePolicy
name|sp
argument_list|(
name|QSizePolicy
operator|::
name|Preferred
argument_list|,
name|QSizePolicy
operator|::
name|Preferred
argument_list|)
decl_stmt|;
name|sp
operator|.
name|setHeightForWidth
argument_list|(
literal|true
argument_list|)
expr_stmt|;
name|w
operator|->
name|setSizePolicy
argument_list|(
name|sp
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|200
argument_list|,
literal|100
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|30000
argument_list|,
literal|30000
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|200
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|200
argument_list|,
literal|100
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|200
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|200
argument_list|,
literal|100
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|200
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|200
argument_list|,
literal|100
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|2
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|2
argument_list|,
literal|10000
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|2
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|2
argument_list|,
literal|10000
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|2
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|2
argument_list|,
literal|10000
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|200
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|200
argument_list|,
literal|100
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|200
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|200
argument_list|,
literal|100
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|200
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|200
argument_list|,
literal|100
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_function
begin_macro
name|Q_DECLARE_METATYPE
argument_list|(
argument|QSizePolicy::Policy
argument_list|)
end_macro
begin_function
DECL|function|spanningItem2x2_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|spanningItem2x2_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|QSizePolicy
operator|::
name|Policy
argument_list|>
argument_list|(
literal|"sizePolicy"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"itemHeight"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|int
argument_list|>
argument_list|(
literal|"expectedHeight"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"A larger spanning item with 2 widgets with fixed policy"
argument_list|)
operator|<<
name|QSizePolicy
operator|::
name|Fixed
operator|<<
literal|39
operator|<<
literal|80
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"A larger spanning item with 2 widgets with preferred policy"
argument_list|)
operator|<<
name|QSizePolicy
operator|::
name|Preferred
operator|<<
literal|39
operator|<<
literal|80
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"An equally-sized spanning item with 2 widgets with fixed policy"
argument_list|)
operator|<<
name|QSizePolicy
operator|::
name|Fixed
operator|<<
literal|40
operator|<<
literal|80
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"An equally-sized spanning item with 2 widgets with preferred policy"
argument_list|)
operator|<<
name|QSizePolicy
operator|::
name|Preferred
operator|<<
literal|40
operator|<<
literal|80
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"A smaller spanning item with 2 widgets with fixed policy"
argument_list|)
operator|<<
name|QSizePolicy
operator|::
name|Fixed
operator|<<
literal|41
operator|<<
literal|82
expr_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
literal|"A smaller spanning item with 2 widgets with preferred policy"
argument_list|)
operator|<<
name|QSizePolicy
operator|::
name|Preferred
operator|<<
literal|41
operator|<<
literal|82
expr_stmt|;
block|}
end_function
begin_function
DECL|function|spanningItem2x2
name|void
name|tst_QGraphicsGridLayout
operator|::
name|spanningItem2x2
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|QSizePolicy
operator|::
name|Policy
argument_list|,
name|sizePolicy
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|int
argument_list|,
name|itemHeight
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|int
argument_list|,
name|expectedHeight
argument_list|)
expr_stmt|;
name|QGraphicsWidget
modifier|*
name|form
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|(
name|form
argument_list|)
decl_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|QGraphicsWidget
modifier|*
name|w1
init|=
operator|new
name|QGraphicsWidget
decl_stmt|;
name|w1
operator|->
name|setMinimumSize
argument_list|(
literal|80
argument_list|,
literal|80
argument_list|)
expr_stmt|;
name|w1
operator|->
name|setMaximumSize
argument_list|(
literal|80
argument_list|,
literal|80
argument_list|)
expr_stmt|;
name|QGraphicsWidget
modifier|*
name|w2
init|=
operator|new
name|QGraphicsWidget
decl_stmt|;
name|w2
operator|->
name|setMinimumSize
argument_list|(
literal|80
argument_list|,
name|itemHeight
argument_list|)
expr_stmt|;
name|w2
operator|->
name|setPreferredSize
argument_list|(
literal|80
argument_list|,
name|itemHeight
argument_list|)
expr_stmt|;
name|w2
operator|->
name|setSizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Fixed
argument_list|,
name|sizePolicy
argument_list|)
expr_stmt|;
name|QGraphicsWidget
modifier|*
name|w3
init|=
operator|new
name|QGraphicsWidget
decl_stmt|;
name|w3
operator|->
name|setMinimumSize
argument_list|(
literal|80
argument_list|,
name|itemHeight
argument_list|)
expr_stmt|;
name|w3
operator|->
name|setPreferredSize
argument_list|(
literal|80
argument_list|,
name|itemHeight
argument_list|)
expr_stmt|;
name|w3
operator|->
name|setSizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Fixed
argument_list|,
name|sizePolicy
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w1
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w2
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w3
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|minimumSize
argument_list|()
argument_list|,
name|QSizeF
argument_list|(
literal|160
argument_list|,
name|expectedHeight
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|sizePolicy
operator|==
name|QSizePolicy
operator|::
name|Fixed
condition|)
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|maximumSize
argument_list|()
argument_list|,
name|QSizeF
argument_list|(
literal|160
argument_list|,
name|expectedHeight
argument_list|)
argument_list|)
expr_stmt|;
else|else
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|maximumSize
argument_list|()
argument_list|,
name|QSizeF
argument_list|(
literal|160
argument_list|,
name|QWIDGETSIZE_MAX
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|spanningItem2x3_data
name|void
name|tst_QGraphicsGridLayout
operator|::
name|spanningItem2x3_data
parameter_list|()
block|{
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"w1_fixed"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"w2_fixed"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"w3_fixed"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"w4_fixed"
argument_list|)
expr_stmt|;
name|QTest
operator|::
name|addColumn
argument_list|<
name|bool
argument_list|>
argument_list|(
literal|"w5_fixed"
argument_list|)
expr_stmt|;
for|for
control|(
name|int
name|w1
init|=
literal|0
init|;
name|w1
operator|<
literal|2
condition|;
name|w1
operator|++
control|)
for|for
control|(
name|int
name|w2
init|=
literal|0
init|;
name|w2
operator|<
literal|2
condition|;
name|w2
operator|++
control|)
for|for
control|(
name|int
name|w3
init|=
literal|0
init|;
name|w3
operator|<
literal|2
condition|;
name|w3
operator|++
control|)
for|for
control|(
name|int
name|w4
init|=
literal|0
init|;
name|w4
operator|<
literal|2
condition|;
name|w4
operator|++
control|)
for|for
control|(
name|int
name|w5
init|=
literal|0
init|;
name|w5
operator|<
literal|2
condition|;
name|w5
operator|++
control|)
block|{
name|QString
name|description
init|=
name|QString
argument_list|(
literal|"Fixed sizes:"
argument_list|)
operator|+
operator|(
name|w1
condition|?
literal|" w1"
else|:
literal|""
operator|)
operator|+
operator|(
name|w2
condition|?
literal|" w2"
else|:
literal|""
operator|)
operator|+
operator|(
name|w3
condition|?
literal|" w3"
else|:
literal|""
operator|)
operator|+
operator|(
name|w4
condition|?
literal|" w4"
else|:
literal|""
operator|)
operator|+
operator|(
name|w5
condition|?
literal|" w5"
else|:
literal|""
operator|)
decl_stmt|;
name|QTest
operator|::
name|newRow
argument_list|(
name|description
operator|.
name|toLatin1
argument_list|()
argument_list|)
operator|<<
operator|(
name|bool
operator|)
name|w1
operator|<<
operator|(
name|bool
operator|)
name|w2
operator|<<
operator|(
name|bool
operator|)
name|w3
operator|<<
operator|(
name|bool
operator|)
name|w4
operator|<<
operator|(
name|bool
operator|)
name|w5
expr_stmt|;
block|}
block|}
end_function
begin_function
DECL|function|spanningItem2x3
name|void
name|tst_QGraphicsGridLayout
operator|::
name|spanningItem2x3
parameter_list|()
block|{
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|w1_fixed
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|w2_fixed
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|w3_fixed
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|w4_fixed
argument_list|)
expr_stmt|;
name|QFETCH
argument_list|(
name|bool
argument_list|,
name|w5_fixed
argument_list|)
expr_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
decl_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|QGraphicsWidget
modifier|*
name|w1
init|=
operator|new
name|QGraphicsWidget
decl_stmt|;
name|w1
operator|->
name|setMinimumSize
argument_list|(
literal|80
argument_list|,
literal|80
argument_list|)
expr_stmt|;
name|w1
operator|->
name|setMaximumSize
argument_list|(
literal|80
argument_list|,
literal|80
argument_list|)
expr_stmt|;
if|if
condition|(
name|w1_fixed
condition|)
name|w1
operator|->
name|setSizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Preferred
argument_list|,
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
expr_stmt|;
name|QGraphicsWidget
modifier|*
name|w2
init|=
operator|new
name|QGraphicsWidget
decl_stmt|;
name|w2
operator|->
name|setMinimumSize
argument_list|(
literal|80
argument_list|,
literal|48
argument_list|)
expr_stmt|;
name|w2
operator|->
name|setPreferredSize
argument_list|(
literal|80
argument_list|,
literal|48
argument_list|)
expr_stmt|;
if|if
condition|(
name|w2_fixed
condition|)
name|w2
operator|->
name|setSizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Preferred
argument_list|,
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
expr_stmt|;
name|QGraphicsWidget
modifier|*
name|w3
init|=
operator|new
name|QGraphicsWidget
decl_stmt|;
name|w3
operator|->
name|setMinimumSize
argument_list|(
literal|80
argument_list|,
literal|30
argument_list|)
expr_stmt|;
name|w3
operator|->
name|setPreferredSize
argument_list|(
literal|80
argument_list|,
literal|30
argument_list|)
expr_stmt|;
if|if
condition|(
name|w3_fixed
condition|)
name|w3
operator|->
name|setSizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Preferred
argument_list|,
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
expr_stmt|;
name|QGraphicsWidget
modifier|*
name|w4
init|=
operator|new
name|QGraphicsWidget
decl_stmt|;
name|w4
operator|->
name|setMinimumSize
argument_list|(
literal|80
argument_list|,
literal|30
argument_list|)
expr_stmt|;
name|w4
operator|->
name|setMaximumSize
argument_list|(
literal|80
argument_list|,
literal|30
argument_list|)
expr_stmt|;
if|if
condition|(
name|w4_fixed
condition|)
name|w4
operator|->
name|setSizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Preferred
argument_list|,
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
expr_stmt|;
name|QGraphicsWidget
modifier|*
name|w5
init|=
operator|new
name|QGraphicsWidget
decl_stmt|;
name|w5
operator|->
name|setMinimumSize
argument_list|(
literal|40
argument_list|,
literal|24
argument_list|)
expr_stmt|;
name|w5
operator|->
name|setMaximumSize
argument_list|(
literal|40
argument_list|,
literal|24
argument_list|)
expr_stmt|;
if|if
condition|(
name|w5_fixed
condition|)
name|w5
operator|->
name|setSizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Preferred
argument_list|,
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w1
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w2
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w3
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w4
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w5
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|minimumSize
argument_list|()
argument_list|,
name|QSizeF
argument_list|(
literal|240
argument_list|,
literal|80
argument_list|)
argument_list|)
expr_stmt|;
comment|// Only w2 and w3 grow vertically, so when they have a fixed vertical size policy,
comment|// the whole layout cannot grow vertically.
if|if
condition|(
name|w2_fixed
operator|&&
name|w3_fixed
condition|)
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|maximumSize
argument_list|()
argument_list|,
name|QSizeF
argument_list|(
name|QWIDGETSIZE_MAX
argument_list|,
literal|80
argument_list|)
argument_list|)
expr_stmt|;
else|else
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|maximumSize
argument_list|()
argument_list|,
name|QSizeF
argument_list|(
name|QWIDGETSIZE_MAX
argument_list|,
name|QWIDGETSIZE_MAX
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|spanningItem
name|void
name|tst_QGraphicsGridLayout
operator|::
name|spanningItem
parameter_list|()
block|{
name|QGraphicsWidget
modifier|*
name|form
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|(
name|form
argument_list|)
decl_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|QGraphicsWidget
modifier|*
name|w1
init|=
operator|new
name|QGraphicsWidget
decl_stmt|;
name|w1
operator|->
name|setMinimumSize
argument_list|(
literal|80
argument_list|,
literal|80
argument_list|)
expr_stmt|;
name|w1
operator|->
name|setMaximumSize
argument_list|(
literal|80
argument_list|,
literal|80
argument_list|)
expr_stmt|;
name|QGraphicsWidget
modifier|*
name|w2
init|=
operator|new
name|QGraphicsWidget
decl_stmt|;
name|w2
operator|->
name|setMinimumSize
argument_list|(
literal|80
argument_list|,
literal|38
argument_list|)
expr_stmt|;
name|w2
operator|->
name|setPreferredSize
argument_list|(
literal|80
argument_list|,
literal|38
argument_list|)
expr_stmt|;
name|w2
operator|->
name|setSizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Fixed
argument_list|,
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
expr_stmt|;
name|QGraphicsWidget
modifier|*
name|w3
init|=
operator|new
name|QGraphicsWidget
decl_stmt|;
name|w3
operator|->
name|setMinimumSize
argument_list|(
literal|80
argument_list|,
literal|38
argument_list|)
expr_stmt|;
name|w3
operator|->
name|setPreferredSize
argument_list|(
literal|80
argument_list|,
literal|38
argument_list|)
expr_stmt|;
name|w3
operator|->
name|setSizePolicy
argument_list|(
name|QSizePolicy
operator|::
name|Fixed
argument_list|,
name|QSizePolicy
operator|::
name|Fixed
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w1
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w2
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w3
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|minimumSize
argument_list|()
argument_list|,
name|QSizeF
argument_list|(
literal|160
argument_list|,
literal|80
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|maximumSize
argument_list|()
argument_list|,
name|QSizeF
argument_list|(
literal|160
argument_list|,
literal|80
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|spanAcrossEmptyRow
name|void
name|tst_QGraphicsGridLayout
operator|::
name|spanAcrossEmptyRow
parameter_list|()
block|{
name|QGraphicsWidget
modifier|*
name|form
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|(
name|form
argument_list|)
decl_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|RectWidget
modifier|*
name|w1
init|=
operator|new
name|RectWidget
decl_stmt|;
name|RectWidget
modifier|*
name|w2
init|=
operator|new
name|RectWidget
decl_stmt|;
name|RectWidget
modifier|*
name|w3
init|=
operator|new
name|RectWidget
decl_stmt|;
name|QSizeF
name|size
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
decl_stmt|;
for|for
control|(
name|int
name|i
init|=
literal|0
init|;
name|i
operator|<
literal|3
condition|;
operator|++
name|i
control|)
block|{
name|w1
operator|->
name|setSizeHint
argument_list|(
operator|(
name|Qt
operator|::
name|SizeHint
operator|)
name|i
argument_list|,
name|size
argument_list|)
expr_stmt|;
name|w2
operator|->
name|setSizeHint
argument_list|(
operator|(
name|Qt
operator|::
name|SizeHint
operator|)
name|i
argument_list|,
name|size
argument_list|)
expr_stmt|;
name|w3
operator|->
name|setSizeHint
argument_list|(
operator|(
name|Qt
operator|::
name|SizeHint
operator|)
name|i
argument_list|,
name|size
argument_list|)
expr_stmt|;
name|size
operator|+=
name|size
expr_stmt|;
comment|//[(10,10), (20,20), (40,40)]
block|}
name|layout
operator|->
name|addItem
argument_list|(
name|w1
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w2
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w3
argument_list|,
literal|0
argument_list|,
literal|99
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|form
operator|->
name|resize
argument_list|(
literal|60
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w1
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|20
argument_list|,
literal|20
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w2
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|20
argument_list|,
literal|0
argument_list|,
literal|20
argument_list|,
literal|20
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w3
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|40
argument_list|,
literal|0
argument_list|,
literal|20
argument_list|,
literal|20
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|30
argument_list|,
literal|10
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|60
argument_list|,
literal|20
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|effectiveSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|)
argument_list|,
name|QSizeF
argument_list|(
literal|120
argument_list|,
literal|40
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|stretchAndHeightForWidth
name|void
name|tst_QGraphicsGridLayout
operator|::
name|stretchAndHeightForWidth
parameter_list|()
block|{
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
argument_list|(
literal|0
argument_list|,
name|Qt
operator|::
name|Window
argument_list|)
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
decl_stmt|;
name|widget
operator|->
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|RectWidget
modifier|*
name|w1
init|=
operator|new
name|RectWidget
decl_stmt|;
name|w1
operator|->
name|setSizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
expr_stmt|;
name|w1
operator|->
name|setSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
expr_stmt|;
name|w1
operator|->
name|setSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|500
argument_list|,
literal|500
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w1
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|RectWidget
modifier|*
name|w2
init|=
operator|new
name|RectWidget
decl_stmt|;
name|w2
operator|->
name|setSizeHint
argument_list|(
name|Qt
operator|::
name|MinimumSize
argument_list|,
name|QSizeF
argument_list|(
literal|10
argument_list|,
literal|10
argument_list|)
argument_list|)
expr_stmt|;
name|w2
operator|->
name|setSizeHint
argument_list|(
name|Qt
operator|::
name|PreferredSize
argument_list|,
name|QSizeF
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
expr_stmt|;
name|w2
operator|->
name|setSizeHint
argument_list|(
name|Qt
operator|::
name|MaximumSize
argument_list|,
name|QSizeF
argument_list|(
literal|500
argument_list|,
literal|500
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w2
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnStretchFactor
argument_list|(
literal|1
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|sendPostedEvents
argument_list|()
expr_stmt|;
name|QGraphicsScene
name|scene
decl_stmt|;
name|QGraphicsView
modifier|*
name|view
init|=
operator|new
name|QGraphicsView
argument_list|(
operator|&
name|scene
argument_list|)
decl_stmt|;
name|scene
operator|.
name|addItem
argument_list|(
name|widget
argument_list|)
expr_stmt|;
name|view
operator|->
name|show
argument_list|()
expr_stmt|;
name|widget
operator|->
name|resize
argument_list|(
literal|500
argument_list|,
literal|100
argument_list|)
expr_stmt|;
comment|// w1 should stay at its preferred size
name|QCOMPARE
argument_list|(
name|w1
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w2
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|100
argument_list|,
literal|0
argument_list|,
literal|400
argument_list|,
literal|100
argument_list|)
argument_list|)
expr_stmt|;
comment|// only w1 has hfw
name|w1
operator|->
name|setConstraintFunction
argument_list|(
name|hfw
argument_list|)
expr_stmt|;
name|QSizePolicy
name|sp
argument_list|(
name|QSizePolicy
operator|::
name|Preferred
argument_list|,
name|QSizePolicy
operator|::
name|Preferred
argument_list|)
decl_stmt|;
name|sp
operator|.
name|setHeightForWidth
argument_list|(
literal|true
argument_list|)
expr_stmt|;
name|w1
operator|->
name|setSizePolicy
argument_list|(
name|sp
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|sendPostedEvents
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w1
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|100
argument_list|,
literal|200
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w2
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|100
argument_list|,
literal|0
argument_list|,
literal|400
argument_list|,
literal|200
argument_list|)
argument_list|)
expr_stmt|;
comment|// only w2 has hfw
name|w2
operator|->
name|setConstraintFunction
argument_list|(
name|hfw
argument_list|)
expr_stmt|;
name|w2
operator|->
name|setSizePolicy
argument_list|(
name|sp
argument_list|)
expr_stmt|;
name|w1
operator|->
name|setConstraintFunction
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|sp
operator|.
name|setHeightForWidth
argument_list|(
literal|false
argument_list|)
expr_stmt|;
name|w1
operator|->
name|setSizePolicy
argument_list|(
name|sp
argument_list|)
expr_stmt|;
name|QApplication
operator|::
name|sendPostedEvents
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w1
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w2
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|100
argument_list|,
literal|0
argument_list|,
literal|400
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|testDefaultAlignment
name|void
name|tst_QGraphicsGridLayout
operator|::
name|testDefaultAlignment
parameter_list|()
block|{
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|(
name|widget
argument_list|)
decl_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|QGraphicsWidget
modifier|*
name|w
init|=
operator|new
name|QGraphicsWidget
decl_stmt|;
name|w
operator|->
name|setMinimumSize
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
expr_stmt|;
name|w
operator|->
name|setMaximumSize
argument_list|(
literal|50
argument_list|,
literal|50
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
comment|//Default alignment should be to the top-left
comment|//First, check by forcing the layout to be bigger
name|layout
operator|->
name|setMinimumSize
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
expr_stmt|;
name|layout
operator|->
name|activate
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setMinimumSize
argument_list|(
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
comment|//Second, check by forcing the column and row to be bigger instead
name|layout
operator|->
name|setColumnMinimumWidth
argument_list|(
literal|0
argument_list|,
literal|100
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setRowMinimumHeight
argument_list|(
literal|0
argument_list|,
literal|100
argument_list|)
expr_stmt|;
name|layout
operator|->
name|activate
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setMinimumSize
argument_list|(
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setColumnMinimumWidth
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setRowMinimumHeight
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
comment|//Third, check by adding a larger item in the column
name|QGraphicsWidget
modifier|*
name|w2
init|=
operator|new
name|QGraphicsWidget
decl_stmt|;
name|w2
operator|->
name|setMinimumSize
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
expr_stmt|;
name|w2
operator|->
name|setMaximumSize
argument_list|(
literal|100
argument_list|,
literal|100
argument_list|)
expr_stmt|;
name|layout
operator|->
name|addItem
argument_list|(
name|w2
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|activate
argument_list|()
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|100
argument_list|,
literal|150
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|50
argument_list|,
literal|50
argument_list|)
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|w2
operator|->
name|geometry
argument_list|()
argument_list|,
name|QRectF
argument_list|(
literal|0
argument_list|,
literal|50
argument_list|,
literal|100
argument_list|,
literal|100
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|addWidget
specifier|static
name|RectWidget
modifier|*
name|addWidget
parameter_list|(
name|QGraphicsGridLayout
modifier|*
name|grid
parameter_list|,
name|int
name|row
parameter_list|,
name|int
name|column
parameter_list|)
block|{
name|RectWidget
modifier|*
name|w
init|=
operator|new
name|RectWidget
decl_stmt|;
name|w
operator|->
name|setPreferredSize
argument_list|(
literal|20
argument_list|,
literal|20
argument_list|)
expr_stmt|;
name|grid
operator|->
name|addItem
argument_list|(
name|w
argument_list|,
name|row
argument_list|,
name|column
argument_list|)
expr_stmt|;
return|return
name|w
return|;
block|}
end_function
begin_function
DECL|function|setVisible
specifier|static
name|void
name|setVisible
parameter_list|(
name|bool
name|visible
parameter_list|,
name|QGraphicsWidget
modifier|*
modifier|*
name|widgets
parameter_list|)
block|{
for|for
control|(
name|int
name|i
init|=
literal|0
init|;
name|i
operator|<
literal|3
condition|;
operator|++
name|i
control|)
if|if
condition|(
name|widgets
index|[
name|i
index|]
condition|)
name|widgets
index|[
name|i
index|]
operator|->
name|setVisible
argument_list|(
name|visible
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|setRetainSizeWhenHidden
specifier|static
name|void
name|setRetainSizeWhenHidden
parameter_list|(
name|bool
name|retainSize
parameter_list|,
name|QGraphicsWidget
modifier|*
modifier|*
name|widgets
parameter_list|)
block|{
name|QSizePolicy
name|sp
init|=
name|widgets
index|[
literal|0
index|]
operator|->
name|sizePolicy
argument_list|()
decl_stmt|;
name|sp
operator|.
name|setRetainSizeWhenHidden
argument_list|(
name|retainSize
argument_list|)
expr_stmt|;
for|for
control|(
name|int
name|i
init|=
literal|0
init|;
name|i
operator|<
literal|3
condition|;
operator|++
name|i
control|)
if|if
condition|(
name|widgets
index|[
name|i
index|]
condition|)
name|widgets
index|[
name|i
index|]
operator|->
name|setSizePolicy
argument_list|(
name|sp
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|hiddenItems
name|void
name|tst_QGraphicsGridLayout
operator|::
name|hiddenItems
parameter_list|()
block|{
name|QGraphicsWidget
modifier|*
name|widget
init|=
operator|new
name|QGraphicsWidget
decl_stmt|;
name|QGraphicsGridLayout
modifier|*
name|layout
init|=
operator|new
name|QGraphicsGridLayout
argument_list|(
name|widget
argument_list|)
decl_stmt|;
name|layout
operator|->
name|setContentsMargins
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|layout
operator|->
name|setSpacing
argument_list|(
literal|2
argument_list|)
expr_stmt|;
comment|// Create a 3x3 layout
name|addWidget
argument_list|(
name|layout
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|RectWidget
modifier|*
name|w01
init|=
name|addWidget
argument_list|(
name|layout
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
decl_stmt|;
name|addWidget
argument_list|(
name|layout
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|RectWidget
modifier|*
name|w10
init|=
name|addWidget
argument_list|(
name|layout
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
decl_stmt|;
name|RectWidget
modifier|*
name|w11
init|=
name|addWidget
argument_list|(
name|layout
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
decl_stmt|;
name|RectWidget
modifier|*
name|w12
init|=
name|addWidget
argument_list|(
name|layout
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|)
decl_stmt|;
name|addWidget
argument_list|(
name|layout
argument_list|,
literal|2
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|RectWidget
modifier|*
name|w21
init|=
name|addWidget
argument_list|(
name|layout
argument_list|,
literal|2
argument_list|,
literal|1
argument_list|)
decl_stmt|;
name|addWidget
argument_list|(
name|layout
argument_list|,
literal|2
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|QGraphicsWidget
modifier|*
name|middleColumn
index|[]
init|=
block|{
name|w01
block|,
name|w11
block|,
name|w21
block|}
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|topTwoOfMiddleColumn
index|[]
init|=
block|{
name|w01
block|,
name|w11
block|,
literal|0
block|}
decl_stmt|;
comment|// hide and show middle column
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredWidth
argument_list|()
argument_list|,
name|qreal
argument_list|(
literal|64
argument_list|)
argument_list|)
expr_stmt|;
name|setVisible
argument_list|(
literal|false
argument_list|,
name|middleColumn
argument_list|)
expr_stmt|;
comment|// hide middle column
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredWidth
argument_list|()
argument_list|,
name|qreal
argument_list|(
literal|42
argument_list|)
argument_list|)
expr_stmt|;
name|setVisible
argument_list|(
literal|true
argument_list|,
name|middleColumn
argument_list|)
expr_stmt|;
comment|// show middle column
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredWidth
argument_list|()
argument_list|,
name|qreal
argument_list|(
literal|64
argument_list|)
argument_list|)
expr_stmt|;
name|setRetainSizeWhenHidden
argument_list|(
literal|true
argument_list|,
name|middleColumn
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredWidth
argument_list|()
argument_list|,
name|qreal
argument_list|(
literal|64
argument_list|)
argument_list|)
expr_stmt|;
name|setVisible
argument_list|(
literal|false
argument_list|,
name|middleColumn
argument_list|)
expr_stmt|;
comment|// hide middle column
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredWidth
argument_list|()
argument_list|,
name|qreal
argument_list|(
literal|64
argument_list|)
argument_list|)
expr_stmt|;
name|setRetainSizeWhenHidden
argument_list|(
literal|false
argument_list|,
name|middleColumn
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredWidth
argument_list|()
argument_list|,
name|qreal
argument_list|(
literal|42
argument_list|)
argument_list|)
expr_stmt|;
name|setVisible
argument_list|(
literal|true
argument_list|,
name|middleColumn
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredWidth
argument_list|()
argument_list|,
name|qreal
argument_list|(
literal|64
argument_list|)
argument_list|)
expr_stmt|;
comment|// Hide only two items, => column should not collapse
name|setVisible
argument_list|(
literal|false
argument_list|,
name|topTwoOfMiddleColumn
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredWidth
argument_list|()
argument_list|,
name|qreal
argument_list|(
literal|64
argument_list|)
argument_list|)
expr_stmt|;
name|QGraphicsWidget
modifier|*
name|middleRow
index|[]
init|=
block|{
name|w10
block|,
name|w11
block|,
name|w12
block|}
decl_stmt|;
name|QGraphicsWidget
modifier|*
name|leftMostTwoOfMiddleRow
index|[]
init|=
block|{
name|w10
block|,
name|w11
block|,
literal|0
block|}
decl_stmt|;
comment|// hide and show middle row
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredHeight
argument_list|()
argument_list|,
name|qreal
argument_list|(
literal|64
argument_list|)
argument_list|)
expr_stmt|;
name|setVisible
argument_list|(
literal|false
argument_list|,
name|middleRow
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredHeight
argument_list|()
argument_list|,
name|qreal
argument_list|(
literal|42
argument_list|)
argument_list|)
expr_stmt|;
name|setVisible
argument_list|(
literal|true
argument_list|,
name|middleRow
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredHeight
argument_list|()
argument_list|,
name|qreal
argument_list|(
literal|64
argument_list|)
argument_list|)
expr_stmt|;
name|setRetainSizeWhenHidden
argument_list|(
literal|true
argument_list|,
name|middleColumn
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredHeight
argument_list|()
argument_list|,
name|qreal
argument_list|(
literal|64
argument_list|)
argument_list|)
expr_stmt|;
name|setVisible
argument_list|(
literal|false
argument_list|,
name|middleRow
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredHeight
argument_list|()
argument_list|,
name|qreal
argument_list|(
literal|64
argument_list|)
argument_list|)
expr_stmt|;
name|setRetainSizeWhenHidden
argument_list|(
literal|false
argument_list|,
name|middleRow
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredHeight
argument_list|()
argument_list|,
name|qreal
argument_list|(
literal|42
argument_list|)
argument_list|)
expr_stmt|;
name|setVisible
argument_list|(
literal|true
argument_list|,
name|middleRow
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredHeight
argument_list|()
argument_list|,
name|qreal
argument_list|(
literal|64
argument_list|)
argument_list|)
expr_stmt|;
comment|// Hide only two items => row should not collapse
name|setVisible
argument_list|(
literal|false
argument_list|,
name|leftMostTwoOfMiddleRow
argument_list|)
expr_stmt|;
name|QCOMPARE
argument_list|(
name|layout
operator|->
name|preferredHeight
argument_list|()
argument_list|,
name|qreal
argument_list|(
literal|64
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_function
begin_macro
name|QTEST_MAIN
argument_list|(
argument|tst_QGraphicsGridLayout
argument_list|)
end_macro
begin_include
include|#
directive|include
file|"tst_qgraphicsgridlayout.moc"
end_include
end_unit
