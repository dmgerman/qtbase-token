begin_unit
begin_comment
comment|/**************************************************************************** ** ** Copyright (C) 2013 Digia Plc and/or its subsidiary(-ies). ** Contact: http://www.qt-project.org/legal ** ** This file is part of the plugins of the Qt Toolkit. ** ** $QT_BEGIN_LICENSE:LGPL$ ** Commercial License Usage ** Licensees holding valid commercial Qt licenses may use this file in ** accordance with the commercial license agreement provided with the ** Software or, alternatively, in accordance with the terms contained in ** a written agreement between you and Digia.  For licensing terms and ** conditions see http://qt.digia.com/licensing.  For further information ** use the contact form at http://qt.digia.com/contact-us. ** ** GNU Lesser General Public License Usage ** Alternatively, this file may be used under the terms of the GNU Lesser ** General Public License version 2.1 as published by the Free Software ** Foundation and appearing in the file LICENSE.LGPL included in the ** packaging of this file.  Please review the following information to ** ensure the GNU Lesser General Public License version 2.1 requirements ** will be met: http://www.gnu.org/licenses/old-licenses/lgpl-2.1.html. ** ** In addition, as a special exception, Digia gives you certain additional ** rights.  These rights are described in the Digia Qt LGPL Exception ** version 1.1, included in the file LGPL_EXCEPTION.txt in this package. ** ** GNU General Public License Usage ** Alternatively, this file may be used under the terms of the GNU ** General Public License version 3.0 as published by the Free Software ** Foundation and appearing in the file LICENSE.GPL included in the ** packaging of this file.  Please review the following information to ** ensure the GNU General Public License version 3.0 requirements will be ** met: http://www.gnu.org/copyleft/gpl.html. ** ** ** $QT_END_LICENSE$ ** ****************************************************************************/
end_comment
begin_include
include|#
directive|include
file|"simplewidgets.h"
end_include
begin_include
include|#
directive|include
file|<qabstractbutton.h>
end_include
begin_include
include|#
directive|include
file|<qcheckbox.h>
end_include
begin_include
include|#
directive|include
file|<qpushbutton.h>
end_include
begin_include
include|#
directive|include
file|<qprogressbar.h>
end_include
begin_include
include|#
directive|include
file|<qstatusbar.h>
end_include
begin_include
include|#
directive|include
file|<qradiobutton.h>
end_include
begin_include
include|#
directive|include
file|<qtoolbutton.h>
end_include
begin_include
include|#
directive|include
file|<qmenu.h>
end_include
begin_include
include|#
directive|include
file|<qlabel.h>
end_include
begin_include
include|#
directive|include
file|<qgroupbox.h>
end_include
begin_include
include|#
directive|include
file|<qlcdnumber.h>
end_include
begin_include
include|#
directive|include
file|<qlineedit.h>
end_include
begin_include
include|#
directive|include
file|<private/qlineedit_p.h>
end_include
begin_include
include|#
directive|include
file|<qstyle.h>
end_include
begin_include
include|#
directive|include
file|<qstyleoption.h>
end_include
begin_include
include|#
directive|include
file|<qtextdocument.h>
end_include
begin_include
include|#
directive|include
file|<QtCore/qvarlengtharray.h>
end_include
begin_ifdef
ifdef|#
directive|ifdef
name|Q_OS_MAC
end_ifdef
begin_include
include|#
directive|include
file|<qfocusframe.h>
end_include
begin_endif
endif|#
directive|endif
end_endif
begin_function_decl
name|QT_BEGIN_NAMESPACE
ifndef|#
directive|ifndef
name|QT_NO_ACCESSIBILITY
specifier|extern
name|QList
argument_list|<
name|QWidget
modifier|*
argument_list|>
name|childWidgets
parameter_list|(
specifier|const
name|QWidget
modifier|*
name|widget
parameter_list|,
name|bool
name|includeTopLevel
init|=
literal|false
parameter_list|)
function_decl|;
end_function_decl
begin_function_decl
name|QString
name|Q_GUI_EXPORT
name|qt_accStripAmp
parameter_list|(
specifier|const
name|QString
modifier|&
name|text
parameter_list|)
function_decl|;
end_function_decl
begin_function_decl
name|QString
name|Q_GUI_EXPORT
name|qt_accHotKey
parameter_list|(
specifier|const
name|QString
modifier|&
name|text
parameter_list|)
function_decl|;
end_function_decl
begin_comment
comment|/*!   \class QAccessibleButton   \brief The QAccessibleButton class implements the QAccessibleInterface for button type widgets.   \internal    \ingroup accessibility */
end_comment
begin_comment
comment|/*!   Creates a QAccessibleButton object for \a w.   \a role is propagated to the QAccessibleWidget constructor. */
end_comment
begin_constructor
DECL|function|QAccessibleButton
name|QAccessibleButton
operator|::
name|QAccessibleButton
parameter_list|(
name|QWidget
modifier|*
name|w
parameter_list|,
name|QAccessible
operator|::
name|Role
name|role
parameter_list|)
member_init_list|:
name|QAccessibleWidget
argument_list|(
name|w
argument_list|,
name|role
argument_list|)
block|{
name|Q_ASSERT
argument_list|(
name|button
argument_list|()
argument_list|)
expr_stmt|;
if|if
condition|(
name|button
argument_list|()
operator|->
name|isCheckable
argument_list|()
condition|)
name|addControllingSignal
argument_list|(
name|QLatin1String
argument_list|(
literal|"toggled(bool)"
argument_list|)
argument_list|)
expr_stmt|;
else|else
name|addControllingSignal
argument_list|(
name|QLatin1String
argument_list|(
literal|"clicked()"
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_constructor
begin_comment
comment|/*! Returns the button. */
end_comment
begin_function
DECL|function|button
name|QAbstractButton
modifier|*
name|QAccessibleButton
operator|::
name|button
parameter_list|()
specifier|const
block|{
return|return
name|qobject_cast
argument_list|<
name|QAbstractButton
operator|*
argument_list|>
argument_list|(
name|object
argument_list|()
argument_list|)
return|;
block|}
end_function
begin_comment
comment|/*! \reimp */
end_comment
begin_function
DECL|function|text
name|QString
name|QAccessibleButton
operator|::
name|text
parameter_list|(
name|QAccessible
operator|::
name|Text
name|t
parameter_list|)
specifier|const
block|{
name|QString
name|str
decl_stmt|;
switch|switch
condition|(
name|t
condition|)
block|{
case|case
name|QAccessible
operator|::
name|Accelerator
case|:
block|{
ifndef|#
directive|ifndef
name|QT_NO_SHORTCUT
name|QPushButton
modifier|*
name|pb
init|=
name|qobject_cast
argument_list|<
name|QPushButton
operator|*
argument_list|>
argument_list|(
name|object
argument_list|()
argument_list|)
decl_stmt|;
if|if
condition|(
name|pb
operator|&&
name|pb
operator|->
name|isDefault
argument_list|()
condition|)
name|str
operator|=
name|QKeySequence
argument_list|(
name|Qt
operator|::
name|Key_Enter
argument_list|)
operator|.
name|toString
argument_list|(
name|QKeySequence
operator|::
name|NativeText
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
name|str
operator|.
name|isEmpty
argument_list|()
condition|)
name|str
operator|=
name|qt_accHotKey
argument_list|(
name|button
argument_list|()
operator|->
name|text
argument_list|()
argument_list|)
expr_stmt|;
block|}
break|break;
case|case
name|QAccessible
operator|::
name|Name
case|:
name|str
operator|=
name|widget
argument_list|()
operator|->
name|accessibleName
argument_list|()
expr_stmt|;
if|if
condition|(
name|str
operator|.
name|isEmpty
argument_list|()
condition|)
name|str
operator|=
name|button
argument_list|()
operator|->
name|text
argument_list|()
expr_stmt|;
break|break;
default|default:
break|break;
block|}
if|if
condition|(
name|str
operator|.
name|isEmpty
argument_list|()
condition|)
name|str
operator|=
name|QAccessibleWidget
operator|::
name|text
argument_list|(
name|t
argument_list|)
expr_stmt|;
return|return
name|qt_accStripAmp
argument_list|(
name|str
argument_list|)
return|;
block|}
end_function
begin_function
DECL|function|state
name|QAccessible
operator|::
name|State
name|QAccessibleButton
operator|::
name|state
parameter_list|()
specifier|const
block|{
name|QAccessible
operator|::
name|State
name|state
init|=
name|QAccessibleWidget
operator|::
name|state
argument_list|()
decl_stmt|;
name|QAbstractButton
modifier|*
name|b
init|=
name|button
argument_list|()
decl_stmt|;
name|QCheckBox
modifier|*
name|cb
init|=
name|qobject_cast
argument_list|<
name|QCheckBox
operator|*
argument_list|>
argument_list|(
name|b
argument_list|)
decl_stmt|;
if|if
condition|(
name|b
operator|->
name|isChecked
argument_list|()
condition|)
name|state
operator|.
name|checked
operator|=
literal|true
expr_stmt|;
elseif|else
if|if
condition|(
name|cb
operator|&&
name|cb
operator|->
name|checkState
argument_list|()
operator|==
name|Qt
operator|::
name|PartiallyChecked
condition|)
name|state
operator|.
name|checkStateMixed
operator|=
literal|true
expr_stmt|;
if|if
condition|(
name|b
operator|->
name|isDown
argument_list|()
condition|)
name|state
operator|.
name|pressed
operator|=
literal|true
expr_stmt|;
name|QPushButton
modifier|*
name|pb
init|=
name|qobject_cast
argument_list|<
name|QPushButton
operator|*
argument_list|>
argument_list|(
name|b
argument_list|)
decl_stmt|;
if|if
condition|(
name|pb
condition|)
block|{
if|if
condition|(
name|pb
operator|->
name|isDefault
argument_list|()
condition|)
name|state
operator|.
name|defaultButton
operator|=
literal|true
expr_stmt|;
ifndef|#
directive|ifndef
name|QT_NO_MENU
if|if
condition|(
name|pb
operator|->
name|menu
argument_list|()
condition|)
name|state
operator|.
name|hasPopup
operator|=
literal|true
expr_stmt|;
endif|#
directive|endif
block|}
return|return
name|state
return|;
block|}
end_function
begin_function
DECL|function|actionNames
name|QStringList
name|QAccessibleButton
operator|::
name|actionNames
parameter_list|()
specifier|const
block|{
name|QStringList
name|names
decl_stmt|;
if|if
condition|(
name|widget
argument_list|()
operator|->
name|isEnabled
argument_list|()
condition|)
block|{
switch|switch
condition|(
name|role
argument_list|()
condition|)
block|{
case|case
name|QAccessible
operator|::
name|ButtonMenu
case|:
name|names
operator|<<
name|showMenuAction
argument_list|()
expr_stmt|;
break|break;
case|case
name|QAccessible
operator|::
name|RadioButton
case|:
name|names
operator|<<
name|toggleAction
argument_list|()
expr_stmt|;
break|break;
default|default:
if|if
condition|(
name|button
argument_list|()
operator|->
name|isCheckable
argument_list|()
condition|)
block|{
name|names
operator|<<
name|toggleAction
argument_list|()
expr_stmt|;
block|}
else|else
block|{
name|names
operator|<<
name|pressAction
argument_list|()
expr_stmt|;
block|}
break|break;
block|}
block|}
name|names
operator|<<
name|QAccessibleWidget
operator|::
name|actionNames
argument_list|()
expr_stmt|;
return|return
name|names
return|;
block|}
end_function
begin_function
DECL|function|doAction
name|void
name|QAccessibleButton
operator|::
name|doAction
parameter_list|(
specifier|const
name|QString
modifier|&
name|actionName
parameter_list|)
block|{
if|if
condition|(
operator|!
name|widget
argument_list|()
operator|->
name|isEnabled
argument_list|()
condition|)
return|return;
if|if
condition|(
name|actionName
operator|==
name|pressAction
argument_list|()
operator|||
name|actionName
operator|==
name|showMenuAction
argument_list|()
condition|)
block|{
ifndef|#
directive|ifndef
name|QT_NO_MENU
name|QPushButton
modifier|*
name|pb
init|=
name|qobject_cast
argument_list|<
name|QPushButton
operator|*
argument_list|>
argument_list|(
name|object
argument_list|()
argument_list|)
decl_stmt|;
if|if
condition|(
name|pb
operator|&&
name|pb
operator|->
name|menu
argument_list|()
condition|)
name|pb
operator|->
name|showMenu
argument_list|()
expr_stmt|;
else|else
endif|#
directive|endif
name|button
argument_list|()
operator|->
name|animateClick
argument_list|()
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|actionName
operator|==
name|toggleAction
argument_list|()
condition|)
block|{
name|button
argument_list|()
operator|->
name|toggle
argument_list|()
expr_stmt|;
block|}
else|else
block|{
name|QAccessibleWidget
operator|::
name|doAction
argument_list|(
name|actionName
argument_list|)
expr_stmt|;
block|}
block|}
end_function
begin_function
DECL|function|keyBindingsForAction
name|QStringList
name|QAccessibleButton
operator|::
name|keyBindingsForAction
parameter_list|(
specifier|const
name|QString
modifier|&
name|actionName
parameter_list|)
specifier|const
block|{
if|if
condition|(
name|actionName
operator|==
name|pressAction
argument_list|()
condition|)
block|{
ifndef|#
directive|ifndef
name|QT_NO_SHORTCUT
return|return
name|QStringList
argument_list|()
operator|<<
name|button
argument_list|()
operator|->
name|shortcut
argument_list|()
operator|.
name|toString
argument_list|()
return|;
endif|#
directive|endif
block|}
return|return
name|QStringList
argument_list|()
return|;
block|}
end_function
begin_ifndef
ifndef|#
directive|ifndef
name|QT_NO_TOOLBUTTON
end_ifndef
begin_comment
comment|/*!   \class QAccessibleToolButton   \brief The QAccessibleToolButton class implements the QAccessibleInterface for tool buttons.   \internal    \ingroup accessibility */
end_comment
begin_comment
comment|/*!   Creates a QAccessibleToolButton object for \a w.   \a role is propagated to the QAccessibleWidget constructor. */
end_comment
begin_constructor
DECL|function|QAccessibleToolButton
name|QAccessibleToolButton
operator|::
name|QAccessibleToolButton
parameter_list|(
name|QWidget
modifier|*
name|w
parameter_list|,
name|QAccessible
operator|::
name|Role
name|role
parameter_list|)
member_init_list|:
name|QAccessibleButton
argument_list|(
name|w
argument_list|,
name|role
argument_list|)
block|{
name|Q_ASSERT
argument_list|(
name|toolButton
argument_list|()
argument_list|)
expr_stmt|;
block|}
end_constructor
begin_comment
comment|/*! Returns the button. */
end_comment
begin_function
DECL|function|toolButton
name|QToolButton
modifier|*
name|QAccessibleToolButton
operator|::
name|toolButton
parameter_list|()
specifier|const
block|{
return|return
name|qobject_cast
argument_list|<
name|QToolButton
operator|*
argument_list|>
argument_list|(
name|object
argument_list|()
argument_list|)
return|;
block|}
end_function
begin_comment
comment|/*!     Returns \c true if this tool button is a split button. */
end_comment
begin_function
DECL|function|isSplitButton
name|bool
name|QAccessibleToolButton
operator|::
name|isSplitButton
parameter_list|()
specifier|const
block|{
ifndef|#
directive|ifndef
name|QT_NO_MENU
return|return
name|toolButton
argument_list|()
operator|->
name|menu
argument_list|()
operator|&&
name|toolButton
argument_list|()
operator|->
name|popupMode
argument_list|()
operator|==
name|QToolButton
operator|::
name|MenuButtonPopup
return|;
else|#
directive|else
return|return
literal|false
return|;
endif|#
directive|endif
block|}
end_function
begin_function
DECL|function|state
name|QAccessible
operator|::
name|State
name|QAccessibleToolButton
operator|::
name|state
parameter_list|()
specifier|const
block|{
name|QAccessible
operator|::
name|State
name|st
init|=
name|QAccessibleButton
operator|::
name|state
argument_list|()
decl_stmt|;
if|if
condition|(
name|toolButton
argument_list|()
operator|->
name|autoRaise
argument_list|()
condition|)
name|st
operator|.
name|hotTracked
operator|=
literal|true
expr_stmt|;
ifndef|#
directive|ifndef
name|QT_NO_MENU
if|if
condition|(
name|toolButton
argument_list|()
operator|->
name|menu
argument_list|()
condition|)
name|st
operator|.
name|hasPopup
operator|=
literal|true
expr_stmt|;
endif|#
directive|endif
return|return
name|st
return|;
block|}
end_function
begin_function
DECL|function|childCount
name|int
name|QAccessibleToolButton
operator|::
name|childCount
parameter_list|()
specifier|const
block|{
return|return
name|isSplitButton
argument_list|()
condition|?
literal|1
else|:
literal|0
return|;
block|}
end_function
begin_function
DECL|function|child
name|QAccessibleInterface
modifier|*
name|QAccessibleToolButton
operator|::
name|child
parameter_list|(
name|int
name|index
parameter_list|)
specifier|const
block|{
ifndef|#
directive|ifndef
name|QT_NO_MENU
if|if
condition|(
name|index
operator|==
literal|0
operator|&&
name|toolButton
argument_list|()
operator|->
name|menu
argument_list|()
condition|)
block|{
return|return
name|QAccessible
operator|::
name|queryAccessibleInterface
argument_list|(
name|toolButton
argument_list|()
operator|->
name|menu
argument_list|()
argument_list|)
return|;
block|}
endif|#
directive|endif
return|return
literal|0
return|;
block|}
end_function
begin_comment
comment|/*!     \internal      Returns the button's text label, depending on the text \a t, and     the \a child. */
end_comment
begin_function
DECL|function|text
name|QString
name|QAccessibleToolButton
operator|::
name|text
parameter_list|(
name|QAccessible
operator|::
name|Text
name|t
parameter_list|)
specifier|const
block|{
name|QString
name|str
decl_stmt|;
switch|switch
condition|(
name|t
condition|)
block|{
case|case
name|QAccessible
operator|::
name|Name
case|:
name|str
operator|=
name|toolButton
argument_list|()
operator|->
name|accessibleName
argument_list|()
expr_stmt|;
if|if
condition|(
name|str
operator|.
name|isEmpty
argument_list|()
condition|)
name|str
operator|=
name|toolButton
argument_list|()
operator|->
name|text
argument_list|()
expr_stmt|;
break|break;
default|default:
break|break;
block|}
if|if
condition|(
name|str
operator|.
name|isEmpty
argument_list|()
condition|)
name|str
operator|=
name|QAccessibleButton
operator|::
name|text
argument_list|(
name|t
argument_list|)
expr_stmt|;
return|return
name|qt_accStripAmp
argument_list|(
name|str
argument_list|)
return|;
block|}
end_function
begin_comment
comment|/*    The three different tool button types can have the following actions: | DelayedPopup    | ShowMenuAction + (PressedAction || CheckedAction) | | MenuButtonPopup | ShowMenuAction + (PressedAction || CheckedAction) | | InstantPopup    | ShowMenuAction | */
end_comment
begin_function
DECL|function|actionNames
name|QStringList
name|QAccessibleToolButton
operator|::
name|actionNames
parameter_list|()
specifier|const
block|{
name|QStringList
name|names
decl_stmt|;
if|if
condition|(
name|widget
argument_list|()
operator|->
name|isEnabled
argument_list|()
condition|)
block|{
if|if
condition|(
name|toolButton
argument_list|()
operator|->
name|menu
argument_list|()
condition|)
name|names
operator|<<
name|showMenuAction
argument_list|()
expr_stmt|;
if|if
condition|(
name|toolButton
argument_list|()
operator|->
name|popupMode
argument_list|()
operator|!=
name|QToolButton
operator|::
name|InstantPopup
condition|)
name|names
operator|<<
name|QAccessibleButton
operator|::
name|actionNames
argument_list|()
expr_stmt|;
block|}
return|return
name|names
return|;
block|}
end_function
begin_function
DECL|function|doAction
name|void
name|QAccessibleToolButton
operator|::
name|doAction
parameter_list|(
specifier|const
name|QString
modifier|&
name|actionName
parameter_list|)
block|{
if|if
condition|(
operator|!
name|widget
argument_list|()
operator|->
name|isEnabled
argument_list|()
condition|)
return|return;
if|if
condition|(
name|actionName
operator|==
name|pressAction
argument_list|()
condition|)
block|{
name|button
argument_list|()
operator|->
name|click
argument_list|()
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|actionName
operator|==
name|showMenuAction
argument_list|()
condition|)
block|{
if|if
condition|(
name|toolButton
argument_list|()
operator|->
name|popupMode
argument_list|()
operator|!=
name|QToolButton
operator|::
name|InstantPopup
condition|)
block|{
name|toolButton
argument_list|()
operator|->
name|setDown
argument_list|(
literal|true
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|QT_NO_MENU
name|toolButton
argument_list|()
operator|->
name|showMenu
argument_list|()
expr_stmt|;
endif|#
directive|endif
block|}
block|}
else|else
block|{
name|QAccessibleButton
operator|::
name|doAction
argument_list|(
name|actionName
argument_list|)
expr_stmt|;
block|}
block|}
end_function
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|// QT_NO_TOOLBUTTON
end_comment
begin_comment
comment|/*!   \class QAccessibleDisplay   \brief The QAccessibleDisplay class implements the QAccessibleInterface for widgets that display information.   \internal    \ingroup accessibility */
end_comment
begin_comment
comment|/*!   Constructs a QAccessibleDisplay object for \a w.   \a role is propagated to the QAccessibleWidget constructor. */
end_comment
begin_constructor
DECL|function|QAccessibleDisplay
name|QAccessibleDisplay
operator|::
name|QAccessibleDisplay
parameter_list|(
name|QWidget
modifier|*
name|w
parameter_list|,
name|QAccessible
operator|::
name|Role
name|role
parameter_list|)
member_init_list|:
name|QAccessibleWidget
argument_list|(
name|w
argument_list|,
name|role
argument_list|)
block|{ }
end_constructor
begin_function
DECL|function|role
name|QAccessible
operator|::
name|Role
name|QAccessibleDisplay
operator|::
name|role
parameter_list|()
specifier|const
block|{
name|QLabel
modifier|*
name|l
init|=
name|qobject_cast
argument_list|<
name|QLabel
operator|*
argument_list|>
argument_list|(
name|object
argument_list|()
argument_list|)
decl_stmt|;
if|if
condition|(
name|l
condition|)
block|{
if|if
condition|(
name|l
operator|->
name|pixmap
argument_list|()
condition|)
return|return
name|QAccessible
operator|::
name|Graphic
return|;
ifndef|#
directive|ifndef
name|QT_NO_PICTURE
if|if
condition|(
name|l
operator|->
name|picture
argument_list|()
condition|)
return|return
name|QAccessible
operator|::
name|Graphic
return|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|QT_NO_MOVIE
if|if
condition|(
name|l
operator|->
name|movie
argument_list|()
condition|)
return|return
name|QAccessible
operator|::
name|Animation
return|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|QT_NO_PROGRESSBAR
block|}
elseif|else
if|if
condition|(
name|qobject_cast
argument_list|<
name|QProgressBar
operator|*
argument_list|>
argument_list|(
name|object
argument_list|()
argument_list|)
condition|)
block|{
return|return
name|QAccessible
operator|::
name|ProgressBar
return|;
endif|#
directive|endif
block|}
elseif|else
if|if
condition|(
name|qobject_cast
argument_list|<
name|QStatusBar
operator|*
argument_list|>
argument_list|(
name|object
argument_list|()
argument_list|)
condition|)
block|{
return|return
name|QAccessible
operator|::
name|StatusBar
return|;
block|}
return|return
name|QAccessibleWidget
operator|::
name|role
argument_list|()
return|;
block|}
end_function
begin_function
DECL|function|text
name|QString
name|QAccessibleDisplay
operator|::
name|text
parameter_list|(
name|QAccessible
operator|::
name|Text
name|t
parameter_list|)
specifier|const
block|{
name|QString
name|str
decl_stmt|;
switch|switch
condition|(
name|t
condition|)
block|{
case|case
name|QAccessible
operator|::
name|Name
case|:
name|str
operator|=
name|widget
argument_list|()
operator|->
name|accessibleName
argument_list|()
expr_stmt|;
if|if
condition|(
name|str
operator|.
name|isEmpty
argument_list|()
condition|)
block|{
if|if
condition|(
name|qobject_cast
argument_list|<
name|QLabel
operator|*
argument_list|>
argument_list|(
name|object
argument_list|()
argument_list|)
condition|)
block|{
name|QLabel
modifier|*
name|label
init|=
name|qobject_cast
argument_list|<
name|QLabel
operator|*
argument_list|>
argument_list|(
name|object
argument_list|()
argument_list|)
decl_stmt|;
name|str
operator|=
name|label
operator|->
name|text
argument_list|()
expr_stmt|;
if|if
condition|(
name|label
operator|->
name|textFormat
argument_list|()
operator|==
name|Qt
operator|::
name|RichText
operator|||
operator|(
name|label
operator|->
name|textFormat
argument_list|()
operator|==
name|Qt
operator|::
name|AutoText
operator|&&
name|Qt
operator|::
name|mightBeRichText
argument_list|(
name|str
argument_list|)
operator|)
condition|)
block|{
name|QTextDocument
name|doc
decl_stmt|;
name|doc
operator|.
name|setHtml
argument_list|(
name|str
argument_list|)
expr_stmt|;
name|str
operator|=
name|doc
operator|.
name|toPlainText
argument_list|()
expr_stmt|;
block|}
ifndef|#
directive|ifndef
name|QT_NO_LCDNUMBER
block|}
elseif|else
if|if
condition|(
name|qobject_cast
argument_list|<
name|QLCDNumber
operator|*
argument_list|>
argument_list|(
name|object
argument_list|()
argument_list|)
condition|)
block|{
name|QLCDNumber
modifier|*
name|l
init|=
name|qobject_cast
argument_list|<
name|QLCDNumber
operator|*
argument_list|>
argument_list|(
name|object
argument_list|()
argument_list|)
decl_stmt|;
if|if
condition|(
name|l
operator|->
name|digitCount
argument_list|()
condition|)
name|str
operator|=
name|QString
operator|::
name|number
argument_list|(
name|l
operator|->
name|value
argument_list|()
argument_list|)
expr_stmt|;
else|else
name|str
operator|=
name|QString
operator|::
name|number
argument_list|(
name|l
operator|->
name|intValue
argument_list|()
argument_list|)
expr_stmt|;
endif|#
directive|endif
block|}
elseif|else
if|if
condition|(
name|qobject_cast
argument_list|<
name|QStatusBar
operator|*
argument_list|>
argument_list|(
name|object
argument_list|()
argument_list|)
condition|)
block|{
return|return
name|qobject_cast
argument_list|<
name|QStatusBar
operator|*
argument_list|>
argument_list|(
name|object
argument_list|()
argument_list|)
operator|->
name|currentMessage
argument_list|()
return|;
block|}
block|}
break|break;
case|case
name|QAccessible
operator|::
name|Value
case|:
ifndef|#
directive|ifndef
name|QT_NO_PROGRESSBAR
if|if
condition|(
name|qobject_cast
argument_list|<
name|QProgressBar
operator|*
argument_list|>
argument_list|(
name|object
argument_list|()
argument_list|)
condition|)
name|str
operator|=
name|QString
operator|::
name|number
argument_list|(
name|qobject_cast
argument_list|<
name|QProgressBar
operator|*
argument_list|>
argument_list|(
name|object
argument_list|()
argument_list|)
operator|->
name|value
argument_list|()
argument_list|)
expr_stmt|;
endif|#
directive|endif
break|break;
default|default:
break|break;
block|}
if|if
condition|(
name|str
operator|.
name|isEmpty
argument_list|()
condition|)
name|str
operator|=
name|QAccessibleWidget
operator|::
name|text
argument_list|(
name|t
argument_list|)
expr_stmt|;
return|return
name|qt_accStripAmp
argument_list|(
name|str
argument_list|)
return|;
block|}
end_function
begin_comment
comment|/*! \reimp */
end_comment
begin_function
name|QVector
argument_list|<
name|QPair
argument_list|<
name|QAccessibleInterface
modifier|*
argument_list|,
name|QAccessible
operator|::
name|Relation
argument_list|>
argument_list|>
DECL|function|relations
name|QAccessibleDisplay
operator|::
name|relations
parameter_list|(
name|QAccessible
operator|::
name|Relation
name|match
comment|/* = QAccessible::AllRelations */
parameter_list|)
specifier|const
block|{
name|QVector
argument_list|<
name|QPair
argument_list|<
name|QAccessibleInterface
modifier|*
argument_list|,
name|QAccessible
operator|::
name|Relation
argument_list|>
argument_list|>
name|rels
init|=
name|QAccessibleWidget
operator|::
name|relations
argument_list|(
name|match
argument_list|)
decl_stmt|;
if|if
condition|(
name|match
operator|&
name|QAccessible
operator|::
name|Labelled
condition|)
block|{
name|QVarLengthArray
argument_list|<
name|QObject
modifier|*
argument_list|,
literal|4
argument_list|>
name|relatedObjects
decl_stmt|;
ifndef|#
directive|ifndef
name|QT_NO_SHORTCUT
if|if
condition|(
name|QLabel
modifier|*
name|label
init|=
name|qobject_cast
argument_list|<
name|QLabel
operator|*
argument_list|>
argument_list|(
name|object
argument_list|()
argument_list|)
condition|)
block|{
name|relatedObjects
operator|.
name|append
argument_list|(
name|label
operator|->
name|buddy
argument_list|()
argument_list|)
expr_stmt|;
block|}
endif|#
directive|endif
for|for
control|(
name|int
name|i
init|=
literal|0
init|;
name|i
operator|<
name|relatedObjects
operator|.
name|count
argument_list|()
condition|;
operator|++
name|i
control|)
block|{
specifier|const
name|QAccessible
operator|::
name|Relation
name|rel
init|=
name|QAccessible
operator|::
name|Labelled
decl_stmt|;
name|QAccessibleInterface
modifier|*
name|iface
init|=
name|QAccessible
operator|::
name|queryAccessibleInterface
argument_list|(
name|relatedObjects
operator|.
name|at
argument_list|(
name|i
argument_list|)
argument_list|)
decl_stmt|;
if|if
condition|(
name|iface
condition|)
name|rels
operator|.
name|append
argument_list|(
name|qMakePair
argument_list|(
name|iface
argument_list|,
name|rel
argument_list|)
argument_list|)
expr_stmt|;
block|}
block|}
return|return
name|rels
return|;
block|}
end_function
begin_function
DECL|function|interface_cast
name|void
modifier|*
name|QAccessibleDisplay
operator|::
name|interface_cast
parameter_list|(
name|QAccessible
operator|::
name|InterfaceType
name|t
parameter_list|)
block|{
if|if
condition|(
name|t
operator|==
name|QAccessible
operator|::
name|ImageInterface
condition|)
return|return
cast|static_cast
argument_list|<
name|QAccessibleImageInterface
operator|*
argument_list|>
argument_list|(
name|this
argument_list|)
return|;
return|return
name|QAccessibleWidget
operator|::
name|interface_cast
argument_list|(
name|t
argument_list|)
return|;
block|}
end_function
begin_comment
comment|/*! \internal */
end_comment
begin_function
DECL|function|imageDescription
name|QString
name|QAccessibleDisplay
operator|::
name|imageDescription
parameter_list|()
specifier|const
block|{
ifndef|#
directive|ifndef
name|QT_NO_TOOLTIP
return|return
name|widget
argument_list|()
operator|->
name|toolTip
argument_list|()
return|;
else|#
directive|else
return|return
name|QString
operator|::
name|null
return|;
endif|#
directive|endif
block|}
end_function
begin_comment
comment|/*! \internal */
end_comment
begin_function
DECL|function|imageSize
name|QSize
name|QAccessibleDisplay
operator|::
name|imageSize
parameter_list|()
specifier|const
block|{
name|QLabel
modifier|*
name|label
init|=
name|qobject_cast
argument_list|<
name|QLabel
operator|*
argument_list|>
argument_list|(
name|widget
argument_list|()
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|label
condition|)
return|return
name|QSize
argument_list|()
return|;
specifier|const
name|QPixmap
modifier|*
name|pixmap
init|=
name|label
operator|->
name|pixmap
argument_list|()
decl_stmt|;
if|if
condition|(
operator|!
name|pixmap
condition|)
return|return
name|QSize
argument_list|()
return|;
return|return
name|pixmap
operator|->
name|size
argument_list|()
return|;
block|}
end_function
begin_comment
comment|/*! \internal */
end_comment
begin_function
DECL|function|imagePosition
name|QRect
name|QAccessibleDisplay
operator|::
name|imagePosition
parameter_list|()
specifier|const
block|{
name|QLabel
modifier|*
name|label
init|=
name|qobject_cast
argument_list|<
name|QLabel
operator|*
argument_list|>
argument_list|(
name|widget
argument_list|()
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|label
condition|)
return|return
name|QRect
argument_list|()
return|;
specifier|const
name|QPixmap
modifier|*
name|pixmap
init|=
name|label
operator|->
name|pixmap
argument_list|()
decl_stmt|;
if|if
condition|(
operator|!
name|pixmap
condition|)
return|return
name|QRect
argument_list|()
return|;
return|return
name|QRect
argument_list|(
name|label
operator|->
name|mapToGlobal
argument_list|(
name|label
operator|->
name|pos
argument_list|()
argument_list|)
argument_list|,
name|label
operator|->
name|size
argument_list|()
argument_list|)
return|;
block|}
end_function
begin_ifndef
ifndef|#
directive|ifndef
name|QT_NO_GROUPBOX
end_ifndef
begin_constructor
DECL|function|QAccessibleGroupBox
name|QAccessibleGroupBox
operator|::
name|QAccessibleGroupBox
parameter_list|(
name|QWidget
modifier|*
name|w
parameter_list|)
member_init_list|:
name|QAccessibleWidget
argument_list|(
name|w
argument_list|)
block|{ }
end_constructor
begin_function
DECL|function|groupBox
name|QGroupBox
modifier|*
name|QAccessibleGroupBox
operator|::
name|groupBox
parameter_list|()
specifier|const
block|{
return|return
cast|static_cast
argument_list|<
name|QGroupBox
operator|*
argument_list|>
argument_list|(
name|widget
argument_list|()
argument_list|)
return|;
block|}
end_function
begin_function
DECL|function|text
name|QString
name|QAccessibleGroupBox
operator|::
name|text
parameter_list|(
name|QAccessible
operator|::
name|Text
name|t
parameter_list|)
specifier|const
block|{
name|QString
name|txt
init|=
name|QAccessibleWidget
operator|::
name|text
argument_list|(
name|t
argument_list|)
decl_stmt|;
if|if
condition|(
name|txt
operator|.
name|isEmpty
argument_list|()
condition|)
block|{
switch|switch
condition|(
name|t
condition|)
block|{
case|case
name|QAccessible
operator|::
name|Name
case|:
name|txt
operator|=
name|qt_accStripAmp
argument_list|(
name|groupBox
argument_list|()
operator|->
name|title
argument_list|()
argument_list|)
expr_stmt|;
case|case
name|QAccessible
operator|::
name|Description
case|:
name|txt
operator|=
name|qt_accStripAmp
argument_list|(
name|groupBox
argument_list|()
operator|->
name|title
argument_list|()
argument_list|)
expr_stmt|;
default|default:
break|break;
block|}
block|}
return|return
name|txt
return|;
block|}
end_function
begin_function
DECL|function|state
name|QAccessible
operator|::
name|State
name|QAccessibleGroupBox
operator|::
name|state
parameter_list|()
specifier|const
block|{
name|QAccessible
operator|::
name|State
name|st
init|=
name|QAccessibleWidget
operator|::
name|state
argument_list|()
decl_stmt|;
name|st
operator|.
name|checkable
operator|=
name|groupBox
argument_list|()
operator|->
name|isCheckable
argument_list|()
expr_stmt|;
name|st
operator|.
name|checked
operator|=
name|groupBox
argument_list|()
operator|->
name|isChecked
argument_list|()
expr_stmt|;
return|return
name|st
return|;
block|}
end_function
begin_function
DECL|function|role
name|QAccessible
operator|::
name|Role
name|QAccessibleGroupBox
operator|::
name|role
parameter_list|()
specifier|const
block|{
return|return
name|groupBox
argument_list|()
operator|->
name|isCheckable
argument_list|()
condition|?
name|QAccessible
operator|::
name|CheckBox
else|:
name|QAccessible
operator|::
name|Grouping
return|;
block|}
end_function
begin_function
name|QVector
argument_list|<
name|QPair
argument_list|<
name|QAccessibleInterface
modifier|*
argument_list|,
name|QAccessible
operator|::
name|Relation
argument_list|>
argument_list|>
DECL|function|relations
name|QAccessibleGroupBox
operator|::
name|relations
parameter_list|(
name|QAccessible
operator|::
name|Relation
name|match
comment|/* = QAccessible::AllRelations */
parameter_list|)
specifier|const
block|{
name|QVector
argument_list|<
name|QPair
argument_list|<
name|QAccessibleInterface
modifier|*
argument_list|,
name|QAccessible
operator|::
name|Relation
argument_list|>
argument_list|>
name|rels
init|=
name|QAccessibleWidget
operator|::
name|relations
argument_list|(
name|match
argument_list|)
decl_stmt|;
if|if
condition|(
operator|(
name|match
operator|&
name|QAccessible
operator|::
name|Labelled
operator|)
operator|&&
operator|(
operator|!
name|groupBox
argument_list|()
operator|->
name|title
argument_list|()
operator|.
name|isEmpty
argument_list|()
operator|)
condition|)
block|{
specifier|const
name|QList
argument_list|<
name|QWidget
modifier|*
argument_list|>
name|kids
init|=
name|childWidgets
argument_list|(
name|widget
argument_list|()
argument_list|)
decl_stmt|;
for|for
control|(
name|int
name|i
init|=
literal|0
init|;
name|i
operator|<
name|kids
operator|.
name|count
argument_list|()
condition|;
operator|++
name|i
control|)
block|{
name|QAccessibleInterface
modifier|*
name|iface
init|=
name|QAccessible
operator|::
name|queryAccessibleInterface
argument_list|(
name|kids
operator|.
name|at
argument_list|(
name|i
argument_list|)
argument_list|)
decl_stmt|;
if|if
condition|(
name|iface
condition|)
name|rels
operator|.
name|append
argument_list|(
name|qMakePair
argument_list|(
name|iface
argument_list|,
name|QAccessible
operator|::
name|Relation
argument_list|(
name|QAccessible
operator|::
name|Labelled
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
block|}
block|}
return|return
name|rels
return|;
block|}
end_function
begin_function
DECL|function|actionNames
name|QStringList
name|QAccessibleGroupBox
operator|::
name|actionNames
parameter_list|()
specifier|const
block|{
name|QStringList
name|actions
init|=
name|QAccessibleWidget
operator|::
name|actionNames
argument_list|()
decl_stmt|;
if|if
condition|(
name|groupBox
argument_list|()
operator|->
name|isCheckable
argument_list|()
condition|)
block|{
name|actions
operator|.
name|prepend
argument_list|(
name|QAccessibleActionInterface
operator|::
name|toggleAction
argument_list|()
argument_list|)
expr_stmt|;
block|}
return|return
name|actions
return|;
block|}
end_function
begin_function
DECL|function|doAction
name|void
name|QAccessibleGroupBox
operator|::
name|doAction
parameter_list|(
specifier|const
name|QString
modifier|&
name|actionName
parameter_list|)
block|{
if|if
condition|(
name|actionName
operator|==
name|QAccessibleActionInterface
operator|::
name|toggleAction
argument_list|()
condition|)
name|groupBox
argument_list|()
operator|->
name|setChecked
argument_list|(
operator|!
name|groupBox
argument_list|()
operator|->
name|isChecked
argument_list|()
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|keyBindingsForAction
name|QStringList
name|QAccessibleGroupBox
operator|::
name|keyBindingsForAction
parameter_list|(
specifier|const
name|QString
modifier|&
parameter_list|)
specifier|const
block|{
return|return
name|QStringList
argument_list|()
return|;
block|}
end_function
begin_endif
endif|#
directive|endif
end_endif
begin_ifndef
ifndef|#
directive|ifndef
name|QT_NO_LINEEDIT
end_ifndef
begin_comment
comment|/*!   \class QAccessibleLineEdit   \brief The QAccessibleLineEdit class implements the QAccessibleInterface for widgets with editable text   \internal    \ingroup accessibility */
end_comment
begin_comment
comment|/*!   Constructs a QAccessibleLineEdit object for \a w.   \a name is propagated to the QAccessibleWidget constructor. */
end_comment
begin_constructor
DECL|function|QAccessibleLineEdit
name|QAccessibleLineEdit
operator|::
name|QAccessibleLineEdit
parameter_list|(
name|QWidget
modifier|*
name|w
parameter_list|,
specifier|const
name|QString
modifier|&
name|name
parameter_list|)
member_init_list|:
name|QAccessibleWidget
argument_list|(
name|w
argument_list|,
name|QAccessible
operator|::
name|EditableText
argument_list|,
name|name
argument_list|)
block|{
name|addControllingSignal
argument_list|(
name|QLatin1String
argument_list|(
literal|"textChanged(const QString&)"
argument_list|)
argument_list|)
expr_stmt|;
name|addControllingSignal
argument_list|(
name|QLatin1String
argument_list|(
literal|"returnPressed()"
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_constructor
begin_comment
comment|/*! Returns the line edit. */
end_comment
begin_function
DECL|function|lineEdit
name|QLineEdit
modifier|*
name|QAccessibleLineEdit
operator|::
name|lineEdit
parameter_list|()
specifier|const
block|{
return|return
name|qobject_cast
argument_list|<
name|QLineEdit
operator|*
argument_list|>
argument_list|(
name|object
argument_list|()
argument_list|)
return|;
block|}
end_function
begin_function
DECL|function|text
name|QString
name|QAccessibleLineEdit
operator|::
name|text
parameter_list|(
name|QAccessible
operator|::
name|Text
name|t
parameter_list|)
specifier|const
block|{
name|QString
name|str
decl_stmt|;
switch|switch
condition|(
name|t
condition|)
block|{
case|case
name|QAccessible
operator|::
name|Value
case|:
if|if
condition|(
name|lineEdit
argument_list|()
operator|->
name|echoMode
argument_list|()
operator|==
name|QLineEdit
operator|::
name|Normal
condition|)
name|str
operator|=
name|lineEdit
argument_list|()
operator|->
name|text
argument_list|()
expr_stmt|;
break|break;
default|default:
break|break;
block|}
if|if
condition|(
name|str
operator|.
name|isEmpty
argument_list|()
condition|)
name|str
operator|=
name|QAccessibleWidget
operator|::
name|text
argument_list|(
name|t
argument_list|)
expr_stmt|;
return|return
name|qt_accStripAmp
argument_list|(
name|str
argument_list|)
return|;
block|}
end_function
begin_function
DECL|function|setText
name|void
name|QAccessibleLineEdit
operator|::
name|setText
parameter_list|(
name|QAccessible
operator|::
name|Text
name|t
parameter_list|,
specifier|const
name|QString
modifier|&
name|text
parameter_list|)
block|{
if|if
condition|(
name|t
operator|!=
name|QAccessible
operator|::
name|Value
condition|)
block|{
name|QAccessibleWidget
operator|::
name|setText
argument_list|(
name|t
argument_list|,
name|text
argument_list|)
expr_stmt|;
return|return;
block|}
name|QString
name|newText
init|=
name|text
decl_stmt|;
if|if
condition|(
name|lineEdit
argument_list|()
operator|->
name|validator
argument_list|()
condition|)
block|{
name|int
name|pos
init|=
literal|0
decl_stmt|;
if|if
condition|(
name|lineEdit
argument_list|()
operator|->
name|validator
argument_list|()
operator|->
name|validate
argument_list|(
name|newText
argument_list|,
name|pos
argument_list|)
operator|!=
name|QValidator
operator|::
name|Acceptable
condition|)
return|return;
block|}
name|lineEdit
argument_list|()
operator|->
name|setText
argument_list|(
name|newText
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|state
name|QAccessible
operator|::
name|State
name|QAccessibleLineEdit
operator|::
name|state
parameter_list|()
specifier|const
block|{
name|QAccessible
operator|::
name|State
name|state
init|=
name|QAccessibleWidget
operator|::
name|state
argument_list|()
decl_stmt|;
name|QLineEdit
modifier|*
name|l
init|=
name|lineEdit
argument_list|()
decl_stmt|;
if|if
condition|(
name|l
operator|->
name|isReadOnly
argument_list|()
condition|)
name|state
operator|.
name|readOnly
operator|=
literal|true
expr_stmt|;
else|else
name|state
operator|.
name|editable
operator|=
literal|true
expr_stmt|;
if|if
condition|(
name|l
operator|->
name|echoMode
argument_list|()
operator|!=
name|QLineEdit
operator|::
name|Normal
condition|)
name|state
operator|.
name|passwordEdit
operator|=
literal|true
expr_stmt|;
name|state
operator|.
name|selectable
operator|=
literal|true
expr_stmt|;
if|if
condition|(
name|l
operator|->
name|hasSelectedText
argument_list|()
condition|)
name|state
operator|.
name|selected
operator|=
literal|true
expr_stmt|;
if|if
condition|(
name|l
operator|->
name|contextMenuPolicy
argument_list|()
operator|!=
name|Qt
operator|::
name|NoContextMenu
operator|&&
name|l
operator|->
name|contextMenuPolicy
argument_list|()
operator|!=
name|Qt
operator|::
name|PreventContextMenu
condition|)
name|state
operator|.
name|hasPopup
operator|=
literal|true
expr_stmt|;
return|return
name|state
return|;
block|}
end_function
begin_function
DECL|function|interface_cast
name|void
modifier|*
name|QAccessibleLineEdit
operator|::
name|interface_cast
parameter_list|(
name|QAccessible
operator|::
name|InterfaceType
name|t
parameter_list|)
block|{
if|if
condition|(
name|t
operator|==
name|QAccessible
operator|::
name|TextInterface
condition|)
return|return
cast|static_cast
argument_list|<
name|QAccessibleTextInterface
operator|*
argument_list|>
argument_list|(
name|this
argument_list|)
return|;
if|if
condition|(
name|t
operator|==
name|QAccessible
operator|::
name|EditableTextInterface
condition|)
return|return
cast|static_cast
argument_list|<
name|QAccessibleEditableTextInterface
operator|*
argument_list|>
argument_list|(
name|this
argument_list|)
return|;
return|return
name|QAccessibleWidget
operator|::
name|interface_cast
argument_list|(
name|t
argument_list|)
return|;
block|}
end_function
begin_function
DECL|function|addSelection
name|void
name|QAccessibleLineEdit
operator|::
name|addSelection
parameter_list|(
name|int
name|startOffset
parameter_list|,
name|int
name|endOffset
parameter_list|)
block|{
name|setSelection
argument_list|(
literal|0
argument_list|,
name|startOffset
argument_list|,
name|endOffset
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|attributes
name|QString
name|QAccessibleLineEdit
operator|::
name|attributes
parameter_list|(
name|int
name|offset
parameter_list|,
name|int
modifier|*
name|startOffset
parameter_list|,
name|int
modifier|*
name|endOffset
parameter_list|)
specifier|const
block|{
comment|// QLineEdit doesn't have text attributes
operator|*
name|startOffset
operator|=
operator|*
name|endOffset
operator|=
name|offset
expr_stmt|;
return|return
name|QString
argument_list|()
return|;
block|}
end_function
begin_function
DECL|function|cursorPosition
name|int
name|QAccessibleLineEdit
operator|::
name|cursorPosition
parameter_list|()
specifier|const
block|{
return|return
name|lineEdit
argument_list|()
operator|->
name|cursorPosition
argument_list|()
return|;
block|}
end_function
begin_function
DECL|function|characterRect
name|QRect
name|QAccessibleLineEdit
operator|::
name|characterRect
parameter_list|(
name|int
name|offset
parameter_list|)
specifier|const
block|{
name|int
name|x
init|=
name|lineEdit
argument_list|()
operator|->
name|d_func
argument_list|()
operator|->
name|control
operator|->
name|cursorToX
argument_list|(
name|offset
argument_list|)
decl_stmt|;
name|int
name|y
decl_stmt|;
name|lineEdit
argument_list|()
operator|->
name|getTextMargins
argument_list|(
literal|0
argument_list|,
operator|&
name|y
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|QFontMetrics
name|fm
argument_list|(
name|lineEdit
argument_list|()
operator|->
name|font
argument_list|()
argument_list|)
decl_stmt|;
specifier|const
name|QString
name|ch
init|=
name|text
argument_list|(
name|offset
argument_list|,
name|offset
operator|+
literal|1
argument_list|)
decl_stmt|;
if|if
condition|(
name|ch
operator|.
name|isEmpty
argument_list|()
condition|)
return|return
name|QRect
argument_list|()
return|;
name|int
name|w
init|=
name|fm
operator|.
name|width
argument_list|(
name|ch
argument_list|)
decl_stmt|;
name|int
name|h
init|=
name|fm
operator|.
name|height
argument_list|()
decl_stmt|;
name|QRect
name|r
argument_list|(
name|x
argument_list|,
name|y
argument_list|,
name|w
argument_list|,
name|h
argument_list|)
decl_stmt|;
name|r
operator|.
name|moveTo
argument_list|(
name|lineEdit
argument_list|()
operator|->
name|mapToGlobal
argument_list|(
name|r
operator|.
name|topLeft
argument_list|()
argument_list|)
argument_list|)
expr_stmt|;
return|return
name|r
return|;
block|}
end_function
begin_function
DECL|function|selectionCount
name|int
name|QAccessibleLineEdit
operator|::
name|selectionCount
parameter_list|()
specifier|const
block|{
return|return
name|lineEdit
argument_list|()
operator|->
name|hasSelectedText
argument_list|()
condition|?
literal|1
else|:
literal|0
return|;
block|}
end_function
begin_function
DECL|function|offsetAtPoint
name|int
name|QAccessibleLineEdit
operator|::
name|offsetAtPoint
parameter_list|(
specifier|const
name|QPoint
modifier|&
name|point
parameter_list|)
specifier|const
block|{
name|QPoint
name|p
init|=
name|lineEdit
argument_list|()
operator|->
name|mapFromGlobal
argument_list|(
name|point
argument_list|)
decl_stmt|;
return|return
name|lineEdit
argument_list|()
operator|->
name|cursorPositionAt
argument_list|(
name|p
argument_list|)
return|;
block|}
end_function
begin_function
DECL|function|selection
name|void
name|QAccessibleLineEdit
operator|::
name|selection
parameter_list|(
name|int
name|selectionIndex
parameter_list|,
name|int
modifier|*
name|startOffset
parameter_list|,
name|int
modifier|*
name|endOffset
parameter_list|)
specifier|const
block|{
operator|*
name|startOffset
operator|=
operator|*
name|endOffset
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|selectionIndex
operator|!=
literal|0
condition|)
return|return;
operator|*
name|startOffset
operator|=
name|lineEdit
argument_list|()
operator|->
name|selectionStart
argument_list|()
expr_stmt|;
operator|*
name|endOffset
operator|=
operator|*
name|startOffset
operator|+
name|lineEdit
argument_list|()
operator|->
name|selectedText
argument_list|()
operator|.
name|count
argument_list|()
expr_stmt|;
block|}
end_function
begin_function
DECL|function|text
name|QString
name|QAccessibleLineEdit
operator|::
name|text
parameter_list|(
name|int
name|startOffset
parameter_list|,
name|int
name|endOffset
parameter_list|)
specifier|const
block|{
if|if
condition|(
name|startOffset
operator|>
name|endOffset
condition|)
return|return
name|QString
argument_list|()
return|;
if|if
condition|(
name|lineEdit
argument_list|()
operator|->
name|echoMode
argument_list|()
operator|!=
name|QLineEdit
operator|::
name|Normal
condition|)
return|return
name|QString
argument_list|()
return|;
return|return
name|lineEdit
argument_list|()
operator|->
name|text
argument_list|()
operator|.
name|mid
argument_list|(
name|startOffset
argument_list|,
name|endOffset
operator|-
name|startOffset
argument_list|)
return|;
block|}
end_function
begin_function
DECL|function|textBeforeOffset
name|QString
name|QAccessibleLineEdit
operator|::
name|textBeforeOffset
parameter_list|(
name|int
name|offset
parameter_list|,
name|QAccessible
operator|::
name|TextBoundaryType
name|boundaryType
parameter_list|,
name|int
modifier|*
name|startOffset
parameter_list|,
name|int
modifier|*
name|endOffset
parameter_list|)
specifier|const
block|{
if|if
condition|(
name|lineEdit
argument_list|()
operator|->
name|echoMode
argument_list|()
operator|!=
name|QLineEdit
operator|::
name|Normal
condition|)
block|{
operator|*
name|startOffset
operator|=
operator|*
name|endOffset
operator|=
operator|-
literal|1
expr_stmt|;
return|return
name|QString
argument_list|()
return|;
block|}
return|return
name|QAccessibleTextInterface
operator|::
name|textBeforeOffset
argument_list|(
name|offset
argument_list|,
name|boundaryType
argument_list|,
name|startOffset
argument_list|,
name|endOffset
argument_list|)
return|;
block|}
end_function
begin_function
DECL|function|textAfterOffset
name|QString
name|QAccessibleLineEdit
operator|::
name|textAfterOffset
parameter_list|(
name|int
name|offset
parameter_list|,
name|QAccessible
operator|::
name|TextBoundaryType
name|boundaryType
parameter_list|,
name|int
modifier|*
name|startOffset
parameter_list|,
name|int
modifier|*
name|endOffset
parameter_list|)
specifier|const
block|{
if|if
condition|(
name|lineEdit
argument_list|()
operator|->
name|echoMode
argument_list|()
operator|!=
name|QLineEdit
operator|::
name|Normal
condition|)
block|{
operator|*
name|startOffset
operator|=
operator|*
name|endOffset
operator|=
operator|-
literal|1
expr_stmt|;
return|return
name|QString
argument_list|()
return|;
block|}
return|return
name|QAccessibleTextInterface
operator|::
name|textAfterOffset
argument_list|(
name|offset
argument_list|,
name|boundaryType
argument_list|,
name|startOffset
argument_list|,
name|endOffset
argument_list|)
return|;
block|}
end_function
begin_function
DECL|function|textAtOffset
name|QString
name|QAccessibleLineEdit
operator|::
name|textAtOffset
parameter_list|(
name|int
name|offset
parameter_list|,
name|QAccessible
operator|::
name|TextBoundaryType
name|boundaryType
parameter_list|,
name|int
modifier|*
name|startOffset
parameter_list|,
name|int
modifier|*
name|endOffset
parameter_list|)
specifier|const
block|{
if|if
condition|(
name|lineEdit
argument_list|()
operator|->
name|echoMode
argument_list|()
operator|!=
name|QLineEdit
operator|::
name|Normal
condition|)
block|{
operator|*
name|startOffset
operator|=
operator|*
name|endOffset
operator|=
operator|-
literal|1
expr_stmt|;
return|return
name|QString
argument_list|()
return|;
block|}
return|return
name|QAccessibleTextInterface
operator|::
name|textAtOffset
argument_list|(
name|offset
argument_list|,
name|boundaryType
argument_list|,
name|startOffset
argument_list|,
name|endOffset
argument_list|)
return|;
block|}
end_function
begin_function
DECL|function|removeSelection
name|void
name|QAccessibleLineEdit
operator|::
name|removeSelection
parameter_list|(
name|int
name|selectionIndex
parameter_list|)
block|{
if|if
condition|(
name|selectionIndex
operator|!=
literal|0
condition|)
return|return;
name|lineEdit
argument_list|()
operator|->
name|deselect
argument_list|()
expr_stmt|;
block|}
end_function
begin_function
DECL|function|setCursorPosition
name|void
name|QAccessibleLineEdit
operator|::
name|setCursorPosition
parameter_list|(
name|int
name|position
parameter_list|)
block|{
name|lineEdit
argument_list|()
operator|->
name|setCursorPosition
argument_list|(
name|position
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|setSelection
name|void
name|QAccessibleLineEdit
operator|::
name|setSelection
parameter_list|(
name|int
name|selectionIndex
parameter_list|,
name|int
name|startOffset
parameter_list|,
name|int
name|endOffset
parameter_list|)
block|{
if|if
condition|(
name|selectionIndex
operator|!=
literal|0
condition|)
return|return;
name|lineEdit
argument_list|()
operator|->
name|setSelection
argument_list|(
name|startOffset
argument_list|,
name|endOffset
operator|-
name|startOffset
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|characterCount
name|int
name|QAccessibleLineEdit
operator|::
name|characterCount
parameter_list|()
specifier|const
block|{
return|return
name|lineEdit
argument_list|()
operator|->
name|text
argument_list|()
operator|.
name|count
argument_list|()
return|;
block|}
end_function
begin_function
DECL|function|scrollToSubstring
name|void
name|QAccessibleLineEdit
operator|::
name|scrollToSubstring
parameter_list|(
name|int
name|startIndex
parameter_list|,
name|int
name|endIndex
parameter_list|)
block|{
name|lineEdit
argument_list|()
operator|->
name|setCursorPosition
argument_list|(
name|endIndex
argument_list|)
expr_stmt|;
name|lineEdit
argument_list|()
operator|->
name|setCursorPosition
argument_list|(
name|startIndex
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|deleteText
name|void
name|QAccessibleLineEdit
operator|::
name|deleteText
parameter_list|(
name|int
name|startOffset
parameter_list|,
name|int
name|endOffset
parameter_list|)
block|{
name|lineEdit
argument_list|()
operator|->
name|setText
argument_list|(
name|lineEdit
argument_list|()
operator|->
name|text
argument_list|()
operator|.
name|remove
argument_list|(
name|startOffset
argument_list|,
name|endOffset
operator|-
name|startOffset
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|insertText
name|void
name|QAccessibleLineEdit
operator|::
name|insertText
parameter_list|(
name|int
name|offset
parameter_list|,
specifier|const
name|QString
modifier|&
name|text
parameter_list|)
block|{
name|lineEdit
argument_list|()
operator|->
name|setText
argument_list|(
name|lineEdit
argument_list|()
operator|->
name|text
argument_list|()
operator|.
name|insert
argument_list|(
name|offset
argument_list|,
name|text
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|replaceText
name|void
name|QAccessibleLineEdit
operator|::
name|replaceText
parameter_list|(
name|int
name|startOffset
parameter_list|,
name|int
name|endOffset
parameter_list|,
specifier|const
name|QString
modifier|&
name|text
parameter_list|)
block|{
name|lineEdit
argument_list|()
operator|->
name|setText
argument_list|(
name|lineEdit
argument_list|()
operator|->
name|text
argument_list|()
operator|.
name|replace
argument_list|(
name|startOffset
argument_list|,
name|endOffset
operator|-
name|startOffset
argument_list|,
name|text
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_function
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|// QT_NO_LINEEDIT
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|QT_NO_PROGRESSBAR
end_ifndef
begin_constructor
DECL|function|QAccessibleProgressBar
name|QAccessibleProgressBar
operator|::
name|QAccessibleProgressBar
parameter_list|(
name|QWidget
modifier|*
name|o
parameter_list|)
member_init_list|:
name|QAccessibleDisplay
argument_list|(
name|o
argument_list|)
block|{
name|Q_ASSERT
argument_list|(
name|progressBar
argument_list|()
argument_list|)
expr_stmt|;
block|}
end_constructor
begin_function
DECL|function|interface_cast
name|void
modifier|*
name|QAccessibleProgressBar
operator|::
name|interface_cast
parameter_list|(
name|QAccessible
operator|::
name|InterfaceType
name|t
parameter_list|)
block|{
if|if
condition|(
name|t
operator|==
name|QAccessible
operator|::
name|ValueInterface
condition|)
return|return
cast|static_cast
argument_list|<
name|QAccessibleValueInterface
operator|*
argument_list|>
argument_list|(
name|this
argument_list|)
return|;
return|return
name|QAccessibleDisplay
operator|::
name|interface_cast
argument_list|(
name|t
argument_list|)
return|;
block|}
end_function
begin_function
DECL|function|currentValue
name|QVariant
name|QAccessibleProgressBar
operator|::
name|currentValue
parameter_list|()
specifier|const
block|{
return|return
name|progressBar
argument_list|()
operator|->
name|value
argument_list|()
return|;
block|}
end_function
begin_function
DECL|function|maximumValue
name|QVariant
name|QAccessibleProgressBar
operator|::
name|maximumValue
parameter_list|()
specifier|const
block|{
return|return
name|progressBar
argument_list|()
operator|->
name|maximum
argument_list|()
return|;
block|}
end_function
begin_function
DECL|function|minimumValue
name|QVariant
name|QAccessibleProgressBar
operator|::
name|minimumValue
parameter_list|()
specifier|const
block|{
return|return
name|progressBar
argument_list|()
operator|->
name|minimum
argument_list|()
return|;
block|}
end_function
begin_function
DECL|function|minimumStepSize
name|QVariant
name|QAccessibleProgressBar
operator|::
name|minimumStepSize
parameter_list|()
specifier|const
block|{
comment|// This is arbitrary since any value between min and max is valid.
comment|// Some screen readers (orca use it to calculate how many digits to display though,
comment|// so it makes sense to return a "sensible" value. Providing 100 increments seems ok.
return|return
operator|(
name|progressBar
argument_list|()
operator|->
name|maximum
argument_list|()
operator|-
name|progressBar
argument_list|()
operator|->
name|minimum
argument_list|()
operator|)
operator|/
literal|100.0
return|;
block|}
end_function
begin_function
DECL|function|progressBar
name|QProgressBar
modifier|*
name|QAccessibleProgressBar
operator|::
name|progressBar
parameter_list|()
specifier|const
block|{
return|return
name|qobject_cast
argument_list|<
name|QProgressBar
operator|*
argument_list|>
argument_list|(
name|object
argument_list|()
argument_list|)
return|;
block|}
end_function
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|// QT_NO_ACCESSIBILITY
end_comment
begin_macro
name|QT_END_NAMESPACE
end_macro
end_unit
