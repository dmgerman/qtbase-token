begin_unit
begin_comment
comment|/**************************************************************************** ** ** Copyright (C) 2014 Digia Plc and/or its subsidiary(-ies). ** Contact: http://www.qt-project.org/legal ** ** This file is part of the plugins of the Qt Toolkit. ** ** $QT_BEGIN_LICENSE:LGPL$ ** Commercial License Usage ** Licensees holding valid commercial Qt licenses may use this file in ** accordance with the commercial license agreement provided with the ** Software or, alternatively, in accordance with the terms contained in ** a written agreement between you and Digia.  For licensing terms and ** conditions see http://qt.digia.com/licensing.  For further information ** use the contact form at http://qt.digia.com/contact-us. ** ** GNU Lesser General Public License Usage ** Alternatively, this file may be used under the terms of the GNU Lesser ** General Public License version 2.1 as published by the Free Software ** Foundation and appearing in the file LICENSE.LGPL included in the ** packaging of this file.  Please review the following information to ** ensure the GNU Lesser General Public License version 2.1 requirements ** will be met: http://www.gnu.org/licenses/old-licenses/lgpl-2.1.html. ** ** In addition, as a special exception, Digia gives you certain additional ** rights.  These rights are described in the Digia Qt LGPL Exception ** version 1.1, included in the file LGPL_EXCEPTION.txt in this package. ** ** GNU General Public License Usage ** Alternatively, this file may be used under the terms of the GNU ** General Public License version 3.0 as published by the Free Software ** Foundation and appearing in the file LICENSE.GPL included in the ** packaging of this file.  Please review the following information to ** ensure the GNU General Public License version 3.0 requirements will be ** met: http://www.gnu.org/copyleft/gpl.html. ** ** ** $QT_END_LICENSE$ ** ****************************************************************************/
end_comment
begin_include
include|#
directive|include
file|"qwindowseglcontext.h"
end_include
begin_include
include|#
directive|include
file|"qwindowscontext.h"
end_include
begin_include
include|#
directive|include
file|"qwindowswindow.h"
end_include
begin_include
include|#
directive|include
file|<QtCore/QDebug>
end_include
begin_include
include|#
directive|include
file|<QtGui/QOpenGLContext>
end_include
begin_if
if|#
directive|if
name|defined
argument_list|(
name|QT_OPENGL_ES_2_ANGLE
argument_list|)
operator|||
name|defined
argument_list|(
name|QT_OPENGL_DYNAMIC
argument_list|)
end_if
begin_include
include|#
directive|include
file|<QtANGLE/EGL/eglext.h>
end_include
begin_endif
endif|#
directive|endif
end_endif
begin_decl_stmt
name|QT_BEGIN_NAMESPACE
comment|/*!     \class QWindowsEGLStaticContext     \brief Static data for QWindowsEGLContext.      Keeps the display. The class is shared via QSharedPointer in the windows, the     contexts and in QWindowsIntegration. The display will be closed if the last instance     is deleted.      No EGL or OpenGL functions are called directly. Instead, they are resolved     dynamically. This works even if the plugin links directly to libegl/libglesv2 so     there is no need to differentiate between dynamic or Angle-only builds in here.      \internal     \ingroup qt-lighthouse-win */
DECL|member|libEGL
name|QWindowsLibEGL
name|QWindowsEGLStaticContext
operator|::
name|libEGL
decl_stmt|;
end_decl_stmt
begin_decl_stmt
DECL|member|libGLESv2
name|QWindowsLibGLESv2
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
decl_stmt|;
end_decl_stmt
begin_ifndef
ifndef|#
directive|ifndef
name|QT_STATIC
end_ifndef
begin_ifdef
ifdef|#
directive|ifdef
name|Q_CC_MINGW
end_ifdef
begin_function
DECL|function|resolveFunc
specifier|static
name|void
modifier|*
name|resolveFunc
parameter_list|(
name|HMODULE
name|lib
parameter_list|,
specifier|const
name|char
modifier|*
name|name
parameter_list|)
block|{
name|QString
name|baseNameStr
init|=
name|QString
operator|::
name|fromLatin1
argument_list|(
name|name
argument_list|)
decl_stmt|;
name|QString
name|nameStr
decl_stmt|;
name|void
modifier|*
name|proc
init|=
literal|0
decl_stmt|;
comment|// Play nice with 32-bit mingw: Try func first, then func@0, func@4,
comment|// func@8, func@12, ..., func@64. The def file does not provide any aliases
comment|// in libEGL and libGLESv2 in these builds which results in exporting
comment|// function names like eglInitialize@12. This cannot be fixed without
comment|// breaking binary compatibility. So be flexible here instead.
name|int
name|argSize
init|=
operator|-
literal|1
decl_stmt|;
while|while
condition|(
operator|!
name|proc
operator|&&
name|argSize
operator|<=
literal|64
condition|)
block|{
name|nameStr
operator|=
name|baseNameStr
expr_stmt|;
if|if
condition|(
name|argSize
operator|>=
literal|0
condition|)
name|nameStr
operator|+=
name|QLatin1Char
argument_list|(
literal|'@'
argument_list|)
operator|+
name|QString
operator|::
name|number
argument_list|(
name|argSize
argument_list|)
expr_stmt|;
name|argSize
operator|=
name|argSize
operator|<
literal|0
condition|?
literal|0
else|:
name|argSize
operator|+
literal|4
expr_stmt|;
name|proc
operator|=
operator|(
name|void
operator|*
operator|)
operator|::
name|GetProcAddress
argument_list|(
name|lib
argument_list|,
name|nameStr
operator|.
name|toLatin1
argument_list|()
operator|.
name|constData
argument_list|()
argument_list|)
expr_stmt|;
block|}
return|return
name|proc
return|;
block|}
end_function
begin_else
else|#
directive|else
end_else
begin_function
DECL|function|resolveFunc
specifier|static
name|void
modifier|*
name|resolveFunc
parameter_list|(
name|HMODULE
name|lib
parameter_list|,
specifier|const
name|char
modifier|*
name|name
parameter_list|)
block|{
ifndef|#
directive|ifndef
name|Q_OS_WINCE
return|return
operator|(
name|void
operator|*
operator|)
operator|::
name|GetProcAddress
argument_list|(
name|lib
argument_list|,
name|name
argument_list|)
return|;
else|#
directive|else
return|return
operator|(
name|void
operator|*
operator|)
operator|::
name|GetProcAddress
argument_list|(
name|lib
argument_list|,
operator|(
specifier|const
name|wchar_t
operator|*
operator|)
name|QString
operator|::
name|fromLatin1
argument_list|(
name|name
argument_list|)
operator|.
name|utf16
argument_list|()
argument_list|)
return|;
endif|#
directive|endif
comment|// Q_OS_WINCE
block|}
end_function
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|// Q_CC_MINGW
end_comment
begin_function
DECL|function|resolve
name|void
modifier|*
name|QWindowsLibEGL
operator|::
name|resolve
parameter_list|(
specifier|const
name|char
modifier|*
name|name
parameter_list|)
block|{
name|void
modifier|*
name|proc
init|=
name|m_lib
condition|?
name|resolveFunc
argument_list|(
name|m_lib
argument_list|,
name|name
argument_list|)
else|:
literal|0
decl_stmt|;
if|if
condition|(
operator|!
name|proc
condition|)
name|qErrnoWarning
argument_list|(
operator|::
name|GetLastError
argument_list|()
argument_list|,
literal|"Failed to resolve EGL function %s"
argument_list|,
name|name
argument_list|)
expr_stmt|;
return|return
name|proc
return|;
block|}
end_function
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|// !QT_STATIC
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|QT_STATIC
end_ifndef
begin_define
DECL|macro|RESOLVE
define|#
directive|define
name|RESOLVE
parameter_list|(
name|signature
parameter_list|,
name|name
parameter_list|)
value|signature(resolve( #name ));
end_define
begin_else
else|#
directive|else
end_else
begin_define
DECL|macro|RESOLVE
define|#
directive|define
name|RESOLVE
parameter_list|(
name|signature
parameter_list|,
name|name
parameter_list|)
value|signature(&::name);
end_define
begin_endif
endif|#
directive|endif
end_endif
begin_function
DECL|function|init
name|bool
name|QWindowsLibEGL
operator|::
name|init
parameter_list|()
block|{
ifdef|#
directive|ifdef
name|QT_DEBUG
specifier|const
name|char
name|dllName
index|[]
init|=
literal|"libEGLd.dll"
decl_stmt|;
else|#
directive|else
specifier|const
name|char
name|dllName
index|[]
init|=
literal|"libEGL.dll"
decl_stmt|;
endif|#
directive|endif
name|qCDebug
argument_list|(
name|lcQpaGl
argument_list|)
operator|<<
literal|"Qt: Using EGL from"
operator|<<
name|dllName
expr_stmt|;
ifndef|#
directive|ifndef
name|QT_STATIC
name|m_lib
operator|=
operator|::
name|LoadLibraryW
argument_list|(
operator|(
specifier|const
name|wchar_t
operator|*
operator|)
name|QString
operator|::
name|fromLatin1
argument_list|(
name|dllName
argument_list|)
operator|.
name|utf16
argument_list|()
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|m_lib
condition|)
block|{
name|qErrnoWarning
argument_list|(
operator|::
name|GetLastError
argument_list|()
argument_list|,
literal|"Failed to load %s"
argument_list|,
name|dllName
argument_list|)
expr_stmt|;
return|return
literal|false
return|;
block|}
endif|#
directive|endif
name|eglGetError
operator|=
name|RESOLVE
argument_list|(
operator|(
name|EGLint
argument_list|(
name|EGLAPIENTRY
operator|*
argument_list|)
argument_list|(
name|void
argument_list|)
operator|)
argument_list|,
name|eglGetError
argument_list|)
expr_stmt|;
name|eglGetDisplay
operator|=
name|RESOLVE
argument_list|(
operator|(
name|EGLDisplay
argument_list|(
name|EGLAPIENTRY
operator|*
argument_list|)
argument_list|(
name|EGLNativeDisplayType
argument_list|)
operator|)
argument_list|,
name|eglGetDisplay
argument_list|)
expr_stmt|;
name|eglGetPlatformDisplayEXT
operator|=
name|RESOLVE
argument_list|(
operator|(
name|EGLDisplay
argument_list|(
argument|EGLAPIENTRY *
argument_list|)
operator|(
name|EGLenum
name|platform
operator|,
name|void
operator|*
name|native_display
operator|,
specifier|const
name|EGLint
operator|*
name|attrib_list
operator|)
operator|)
argument_list|,
name|eglGetPlatformDisplayEXT
argument_list|)
expr_stmt|;
name|eglInitialize
operator|=
name|RESOLVE
argument_list|(
operator|(
name|EGLBoolean
argument_list|(
name|EGLAPIENTRY
operator|*
argument_list|)
argument_list|(
name|EGLDisplay
argument_list|,
name|EGLint
operator|*
argument_list|,
name|EGLint
operator|*
argument_list|)
operator|)
argument_list|,
name|eglInitialize
argument_list|)
expr_stmt|;
name|eglTerminate
operator|=
name|RESOLVE
argument_list|(
operator|(
name|EGLBoolean
argument_list|(
name|EGLAPIENTRY
operator|*
argument_list|)
argument_list|(
name|EGLDisplay
argument_list|)
operator|)
argument_list|,
name|eglTerminate
argument_list|)
expr_stmt|;
name|eglChooseConfig
operator|=
name|RESOLVE
argument_list|(
operator|(
name|EGLBoolean
argument_list|(
name|EGLAPIENTRY
operator|*
argument_list|)
argument_list|(
name|EGLDisplay
argument_list|,
specifier|const
name|EGLint
operator|*
argument_list|,
name|EGLConfig
operator|*
argument_list|,
name|EGLint
argument_list|,
name|EGLint
operator|*
argument_list|)
operator|)
argument_list|,
name|eglChooseConfig
argument_list|)
expr_stmt|;
name|eglGetConfigAttrib
operator|=
name|RESOLVE
argument_list|(
operator|(
name|EGLBoolean
argument_list|(
name|EGLAPIENTRY
operator|*
argument_list|)
argument_list|(
name|EGLDisplay
argument_list|,
name|EGLConfig
argument_list|,
name|EGLint
argument_list|,
name|EGLint
operator|*
argument_list|)
operator|)
argument_list|,
name|eglGetConfigAttrib
argument_list|)
expr_stmt|;
name|eglCreateWindowSurface
operator|=
name|RESOLVE
argument_list|(
operator|(
name|EGLSurface
argument_list|(
name|EGLAPIENTRY
operator|*
argument_list|)
argument_list|(
name|EGLDisplay
argument_list|,
name|EGLConfig
argument_list|,
name|EGLNativeWindowType
argument_list|,
specifier|const
name|EGLint
operator|*
argument_list|)
operator|)
argument_list|,
name|eglCreateWindowSurface
argument_list|)
expr_stmt|;
name|eglCreatePbufferSurface
operator|=
name|RESOLVE
argument_list|(
operator|(
name|EGLSurface
argument_list|(
name|EGLAPIENTRY
operator|*
argument_list|)
argument_list|(
name|EGLDisplay
argument_list|,
name|EGLConfig
argument_list|,
specifier|const
name|EGLint
operator|*
argument_list|)
operator|)
argument_list|,
name|eglCreatePbufferSurface
argument_list|)
expr_stmt|;
name|eglDestroySurface
operator|=
name|RESOLVE
argument_list|(
operator|(
name|EGLBoolean
argument_list|(
name|EGLAPIENTRY
operator|*
argument_list|)
argument_list|(
name|EGLDisplay
argument_list|,
name|EGLSurface
argument_list|)
operator|)
argument_list|,
name|eglDestroySurface
argument_list|)
expr_stmt|;
name|eglBindAPI
operator|=
name|RESOLVE
argument_list|(
operator|(
name|EGLBoolean
argument_list|(
name|EGLAPIENTRY
operator|*
argument_list|)
argument_list|(
name|EGLenum
argument_list|)
operator|)
argument_list|,
name|eglBindAPI
argument_list|)
expr_stmt|;
name|eglSwapInterval
operator|=
name|RESOLVE
argument_list|(
operator|(
name|EGLBoolean
argument_list|(
name|EGLAPIENTRY
operator|*
argument_list|)
argument_list|(
name|EGLDisplay
argument_list|,
name|EGLint
argument_list|)
operator|)
argument_list|,
name|eglSwapInterval
argument_list|)
expr_stmt|;
name|eglCreateContext
operator|=
name|RESOLVE
argument_list|(
operator|(
name|EGLContext
argument_list|(
name|EGLAPIENTRY
operator|*
argument_list|)
argument_list|(
name|EGLDisplay
argument_list|,
name|EGLConfig
argument_list|,
name|EGLContext
argument_list|,
specifier|const
name|EGLint
operator|*
argument_list|)
operator|)
argument_list|,
name|eglCreateContext
argument_list|)
expr_stmt|;
name|eglDestroyContext
operator|=
name|RESOLVE
argument_list|(
operator|(
name|EGLBoolean
argument_list|(
name|EGLAPIENTRY
operator|*
argument_list|)
argument_list|(
name|EGLDisplay
argument_list|,
name|EGLContext
argument_list|)
operator|)
argument_list|,
name|eglDestroyContext
argument_list|)
expr_stmt|;
name|eglMakeCurrent
operator|=
name|RESOLVE
argument_list|(
operator|(
name|EGLBoolean
argument_list|(
name|EGLAPIENTRY
operator|*
argument_list|)
argument_list|(
name|EGLDisplay
argument_list|,
name|EGLSurface
argument_list|,
name|EGLSurface
argument_list|,
name|EGLContext
argument_list|)
operator|)
argument_list|,
name|eglMakeCurrent
argument_list|)
expr_stmt|;
name|eglGetCurrentContext
operator|=
name|RESOLVE
argument_list|(
operator|(
name|EGLContext
argument_list|(
name|EGLAPIENTRY
operator|*
argument_list|)
argument_list|(
name|void
argument_list|)
operator|)
argument_list|,
name|eglGetCurrentContext
argument_list|)
expr_stmt|;
name|eglGetCurrentSurface
operator|=
name|RESOLVE
argument_list|(
operator|(
name|EGLSurface
argument_list|(
name|EGLAPIENTRY
operator|*
argument_list|)
argument_list|(
name|EGLint
argument_list|)
operator|)
argument_list|,
name|eglGetCurrentSurface
argument_list|)
expr_stmt|;
name|eglGetCurrentDisplay
operator|=
name|RESOLVE
argument_list|(
operator|(
name|EGLDisplay
argument_list|(
name|EGLAPIENTRY
operator|*
argument_list|)
argument_list|(
name|void
argument_list|)
operator|)
argument_list|,
name|eglGetCurrentDisplay
argument_list|)
expr_stmt|;
name|eglSwapBuffers
operator|=
name|RESOLVE
argument_list|(
operator|(
name|EGLBoolean
argument_list|(
name|EGLAPIENTRY
operator|*
argument_list|)
argument_list|(
name|EGLDisplay
argument_list|,
name|EGLSurface
argument_list|)
operator|)
argument_list|,
name|eglSwapBuffers
argument_list|)
expr_stmt|;
name|eglGetProcAddress
operator|=
name|RESOLVE
argument_list|(
operator|(
name|__eglMustCastToProperFunctionPointerType
argument_list|(
name|EGLAPIENTRY
operator|*
argument_list|)
argument_list|(
specifier|const
name|char
operator|*
argument_list|)
operator|)
argument_list|,
name|eglGetProcAddress
argument_list|)
expr_stmt|;
return|return
name|eglGetError
operator|&&
name|eglGetDisplay
operator|&&
name|eglInitialize
return|;
block|}
end_function
begin_ifndef
ifndef|#
directive|ifndef
name|QT_STATIC
end_ifndef
begin_function
DECL|function|resolve
name|void
modifier|*
name|QWindowsLibGLESv2
operator|::
name|resolve
parameter_list|(
specifier|const
name|char
modifier|*
name|name
parameter_list|)
block|{
name|void
modifier|*
name|proc
init|=
name|m_lib
condition|?
name|resolveFunc
argument_list|(
name|m_lib
argument_list|,
name|name
argument_list|)
else|:
literal|0
decl_stmt|;
if|if
condition|(
operator|!
name|proc
condition|)
name|qWarning
argument_list|()
operator|<<
literal|"Failed to resolve OpenGL ES function"
operator|<<
name|name
expr_stmt|;
return|return
name|proc
return|;
block|}
end_function
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|// !QT_STATIC
end_comment
begin_function
DECL|function|init
name|bool
name|QWindowsLibGLESv2
operator|::
name|init
parameter_list|()
block|{
ifdef|#
directive|ifdef
name|QT_DEBUG
specifier|const
name|char
name|dllName
index|[]
init|=
literal|"libGLESv2d.dll"
decl_stmt|;
else|#
directive|else
specifier|const
name|char
name|dllName
index|[]
init|=
literal|"libGLESv2.dll"
decl_stmt|;
endif|#
directive|endif
name|qCDebug
argument_list|(
name|lcQpaGl
argument_list|)
operator|<<
literal|"Qt: Using OpenGL ES 2.0 from"
operator|<<
name|dllName
expr_stmt|;
ifndef|#
directive|ifndef
name|QT_STATIC
name|m_lib
operator|=
operator|::
name|LoadLibraryW
argument_list|(
operator|(
specifier|const
name|wchar_t
operator|*
operator|)
name|QString
operator|::
name|fromLatin1
argument_list|(
name|dllName
argument_list|)
operator|.
name|utf16
argument_list|()
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|m_lib
condition|)
block|{
name|qErrnoWarning
argument_list|(
operator|::
name|GetLastError
argument_list|()
argument_list|,
literal|"Failed to load %s"
argument_list|,
name|dllName
argument_list|)
expr_stmt|;
return|return
literal|false
return|;
block|}
endif|#
directive|endif
comment|// !QT_STATIC
name|glBindTexture
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glBindTexture
argument_list|)
expr_stmt|;
name|glBlendFunc
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLenum
argument_list|)
operator|)
argument_list|,
name|glBlendFunc
argument_list|)
expr_stmt|;
name|glClear
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLbitfield
argument_list|)
operator|)
argument_list|,
name|glClear
argument_list|)
expr_stmt|;
name|glClearColor
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLfloat
argument_list|,
name|GLfloat
argument_list|,
name|GLfloat
argument_list|,
name|GLfloat
argument_list|)
operator|)
argument_list|,
name|glClearColor
argument_list|)
expr_stmt|;
name|glClearStencil
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|)
operator|)
argument_list|,
name|glClearStencil
argument_list|)
expr_stmt|;
name|glColorMask
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLboolean
argument_list|,
name|GLboolean
argument_list|,
name|GLboolean
argument_list|,
name|GLboolean
argument_list|)
operator|)
argument_list|,
name|glColorMask
argument_list|)
expr_stmt|;
name|glCopyTexImage2D
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLint
argument_list|,
name|GLenum
argument_list|,
name|GLint
argument_list|,
name|GLint
argument_list|,
name|GLsizei
argument_list|,
name|GLsizei
argument_list|,
name|GLint
argument_list|)
operator|)
argument_list|,
name|glCopyTexImage2D
argument_list|)
expr_stmt|;
name|glCopyTexSubImage2D
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLint
argument_list|,
name|GLint
argument_list|,
name|GLint
argument_list|,
name|GLint
argument_list|,
name|GLint
argument_list|,
name|GLsizei
argument_list|,
name|GLsizei
argument_list|)
operator|)
argument_list|,
name|glCopyTexSubImage2D
argument_list|)
expr_stmt|;
name|glCullFace
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|)
operator|)
argument_list|,
name|glCullFace
argument_list|)
expr_stmt|;
name|glDeleteTextures
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLsizei
argument_list|,
specifier|const
name|GLuint
operator|*
argument_list|)
operator|)
argument_list|,
name|glDeleteTextures
argument_list|)
expr_stmt|;
name|glDepthFunc
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|)
operator|)
argument_list|,
name|glDepthFunc
argument_list|)
expr_stmt|;
name|glDepthMask
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLboolean
argument_list|)
operator|)
argument_list|,
name|glDepthMask
argument_list|)
expr_stmt|;
name|glDisable
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|)
operator|)
argument_list|,
name|glDisable
argument_list|)
expr_stmt|;
name|glDrawArrays
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLint
argument_list|,
name|GLsizei
argument_list|)
operator|)
argument_list|,
name|glDrawArrays
argument_list|)
expr_stmt|;
name|glDrawElements
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLsizei
argument_list|,
name|GLenum
argument_list|,
specifier|const
name|GLvoid
operator|*
argument_list|)
operator|)
argument_list|,
name|glDrawElements
argument_list|)
expr_stmt|;
name|glEnable
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|)
operator|)
argument_list|,
name|glEnable
argument_list|)
expr_stmt|;
name|glFinish
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|()
operator|)
argument_list|,
name|glFinish
argument_list|)
expr_stmt|;
name|glFlush
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|()
operator|)
argument_list|,
name|glFlush
argument_list|)
expr_stmt|;
name|glFrontFace
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|)
operator|)
argument_list|,
name|glFrontFace
argument_list|)
expr_stmt|;
name|glGenTextures
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLsizei
argument_list|,
name|GLuint
operator|*
argument_list|)
operator|)
argument_list|,
name|glGenTextures
argument_list|)
expr_stmt|;
name|glGetBooleanv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLboolean
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetBooleanv
argument_list|)
expr_stmt|;
name|glGetError
operator|=
name|RESOLVE
argument_list|(
operator|(
name|GLenum
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|()
operator|)
argument_list|,
name|glGetError
argument_list|)
expr_stmt|;
name|glGetFloatv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLfloat
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetFloatv
argument_list|)
expr_stmt|;
name|glGetIntegerv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLint
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetIntegerv
argument_list|)
expr_stmt|;
name|glGetString
operator|=
name|RESOLVE
argument_list|(
operator|(
specifier|const
name|GLubyte
operator|*
operator|(
name|APIENTRY
operator|*
operator|)
operator|(
name|GLenum
operator|)
operator|)
argument_list|,
name|glGetString
argument_list|)
expr_stmt|;
name|glGetTexParameterfv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLenum
argument_list|,
name|GLfloat
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetTexParameterfv
argument_list|)
expr_stmt|;
name|glGetTexParameteriv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLenum
argument_list|,
name|GLint
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetTexParameteriv
argument_list|)
expr_stmt|;
name|glHint
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLenum
argument_list|)
operator|)
argument_list|,
name|glHint
argument_list|)
expr_stmt|;
name|glIsEnabled
operator|=
name|RESOLVE
argument_list|(
operator|(
name|GLboolean
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|)
operator|)
argument_list|,
name|glIsEnabled
argument_list|)
expr_stmt|;
name|glIsTexture
operator|=
name|RESOLVE
argument_list|(
operator|(
name|GLboolean
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glIsTexture
argument_list|)
expr_stmt|;
name|glLineWidth
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLfloat
argument_list|)
operator|)
argument_list|,
name|glLineWidth
argument_list|)
expr_stmt|;
name|glPixelStorei
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLint
argument_list|)
operator|)
argument_list|,
name|glPixelStorei
argument_list|)
expr_stmt|;
name|glPolygonOffset
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLfloat
argument_list|,
name|GLfloat
argument_list|)
operator|)
argument_list|,
name|glPolygonOffset
argument_list|)
expr_stmt|;
name|glReadPixels
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|,
name|GLint
argument_list|,
name|GLsizei
argument_list|,
name|GLsizei
argument_list|,
name|GLenum
argument_list|,
name|GLenum
argument_list|,
name|GLvoid
operator|*
argument_list|)
operator|)
argument_list|,
name|glReadPixels
argument_list|)
expr_stmt|;
name|glScissor
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|,
name|GLint
argument_list|,
name|GLsizei
argument_list|,
name|GLsizei
argument_list|)
operator|)
argument_list|,
name|glScissor
argument_list|)
expr_stmt|;
name|glStencilFunc
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLint
argument_list|,
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glStencilFunc
argument_list|)
expr_stmt|;
name|glStencilMask
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glStencilMask
argument_list|)
expr_stmt|;
name|glStencilOp
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLenum
argument_list|,
name|GLenum
argument_list|)
operator|)
argument_list|,
name|glStencilOp
argument_list|)
expr_stmt|;
name|glTexImage2D
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLint
argument_list|,
name|GLint
argument_list|,
name|GLsizei
argument_list|,
name|GLsizei
argument_list|,
name|GLint
argument_list|,
name|GLenum
argument_list|,
name|GLenum
argument_list|,
specifier|const
name|GLvoid
operator|*
argument_list|)
operator|)
argument_list|,
name|glTexImage2D
argument_list|)
expr_stmt|;
name|glTexParameterf
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLenum
argument_list|,
name|GLfloat
argument_list|)
operator|)
argument_list|,
name|glTexParameterf
argument_list|)
expr_stmt|;
name|glTexParameterfv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLenum
argument_list|,
specifier|const
name|GLfloat
operator|*
argument_list|)
operator|)
argument_list|,
name|glTexParameterfv
argument_list|)
expr_stmt|;
name|glTexParameteri
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLenum
argument_list|,
name|GLint
argument_list|)
operator|)
argument_list|,
name|glTexParameteri
argument_list|)
expr_stmt|;
name|glTexParameteriv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLenum
argument_list|,
specifier|const
name|GLint
operator|*
argument_list|)
operator|)
argument_list|,
name|glTexParameteriv
argument_list|)
expr_stmt|;
name|glTexSubImage2D
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLint
argument_list|,
name|GLint
argument_list|,
name|GLint
argument_list|,
name|GLsizei
argument_list|,
name|GLsizei
argument_list|,
name|GLenum
argument_list|,
name|GLenum
argument_list|,
specifier|const
name|GLvoid
operator|*
argument_list|)
operator|)
argument_list|,
name|glTexSubImage2D
argument_list|)
expr_stmt|;
name|glViewport
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|,
name|GLint
argument_list|,
name|GLsizei
argument_list|,
name|GLsizei
argument_list|)
operator|)
argument_list|,
name|glViewport
argument_list|)
expr_stmt|;
name|glActiveTexture
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|)
operator|)
argument_list|,
name|glActiveTexture
argument_list|)
expr_stmt|;
name|glAttachShader
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glAttachShader
argument_list|)
expr_stmt|;
name|glBindAttribLocation
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
name|GLuint
argument_list|,
specifier|const
name|GLchar
operator|*
argument_list|)
operator|)
argument_list|,
name|glBindAttribLocation
argument_list|)
expr_stmt|;
name|glBindBuffer
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glBindBuffer
argument_list|)
expr_stmt|;
name|glBindFramebuffer
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glBindFramebuffer
argument_list|)
expr_stmt|;
name|glBindRenderbuffer
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glBindRenderbuffer
argument_list|)
expr_stmt|;
name|glBlendColor
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLclampf
argument_list|,
name|GLclampf
argument_list|,
name|GLclampf
argument_list|,
name|GLclampf
argument_list|)
operator|)
argument_list|,
name|glBlendColor
argument_list|)
expr_stmt|;
name|glBlendEquation
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|)
operator|)
argument_list|,
name|glBlendEquation
argument_list|)
expr_stmt|;
name|glBlendEquationSeparate
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLenum
argument_list|)
operator|)
argument_list|,
name|glBlendEquationSeparate
argument_list|)
expr_stmt|;
name|glBlendFuncSeparate
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLenum
argument_list|,
name|GLenum
argument_list|,
name|GLenum
argument_list|)
operator|)
argument_list|,
name|glBlendFuncSeparate
argument_list|)
expr_stmt|;
name|glBufferData
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|qopengl_GLsizeiptr
argument_list|,
specifier|const
name|GLvoid
operator|*
argument_list|,
name|GLenum
argument_list|)
operator|)
argument_list|,
name|glBufferData
argument_list|)
expr_stmt|;
name|glBufferSubData
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|qopengl_GLintptr
argument_list|,
name|qopengl_GLsizeiptr
argument_list|,
specifier|const
name|GLvoid
operator|*
argument_list|)
operator|)
argument_list|,
name|glBufferSubData
argument_list|)
expr_stmt|;
name|glCheckFramebufferStatus
operator|=
name|RESOLVE
argument_list|(
operator|(
name|GLenum
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|)
operator|)
argument_list|,
name|glCheckFramebufferStatus
argument_list|)
expr_stmt|;
name|glCompileShader
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glCompileShader
argument_list|)
expr_stmt|;
name|glCompressedTexImage2D
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLint
argument_list|,
name|GLenum
argument_list|,
name|GLsizei
argument_list|,
name|GLsizei
argument_list|,
name|GLint
argument_list|,
name|GLsizei
argument_list|,
specifier|const
name|GLvoid
operator|*
argument_list|)
operator|)
argument_list|,
name|glCompressedTexImage2D
argument_list|)
expr_stmt|;
name|glCompressedTexSubImage2D
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLint
argument_list|,
name|GLint
argument_list|,
name|GLint
argument_list|,
name|GLsizei
argument_list|,
name|GLsizei
argument_list|,
name|GLenum
argument_list|,
name|GLsizei
argument_list|,
specifier|const
name|GLvoid
operator|*
argument_list|)
operator|)
argument_list|,
name|glCompressedTexSubImage2D
argument_list|)
expr_stmt|;
name|glCreateProgram
operator|=
name|RESOLVE
argument_list|(
operator|(
name|GLuint
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|void
argument_list|)
operator|)
argument_list|,
name|glCreateProgram
argument_list|)
expr_stmt|;
name|glCreateShader
operator|=
name|RESOLVE
argument_list|(
operator|(
name|GLuint
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|)
operator|)
argument_list|,
name|glCreateShader
argument_list|)
expr_stmt|;
name|glDeleteBuffers
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLsizei
argument_list|,
specifier|const
name|GLuint
operator|*
argument_list|)
operator|)
argument_list|,
name|glDeleteBuffers
argument_list|)
expr_stmt|;
name|glDeleteFramebuffers
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLsizei
argument_list|,
specifier|const
name|GLuint
operator|*
argument_list|)
operator|)
argument_list|,
name|glDeleteFramebuffers
argument_list|)
expr_stmt|;
name|glDeleteProgram
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glDeleteProgram
argument_list|)
expr_stmt|;
name|glDeleteRenderbuffers
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLsizei
argument_list|,
specifier|const
name|GLuint
operator|*
argument_list|)
operator|)
argument_list|,
name|glDeleteRenderbuffers
argument_list|)
expr_stmt|;
name|glDeleteShader
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glDeleteShader
argument_list|)
expr_stmt|;
name|glDetachShader
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glDetachShader
argument_list|)
expr_stmt|;
name|glDisableVertexAttribArray
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glDisableVertexAttribArray
argument_list|)
expr_stmt|;
name|glEnableVertexAttribArray
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glEnableVertexAttribArray
argument_list|)
expr_stmt|;
name|glFramebufferRenderbuffer
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLenum
argument_list|,
name|GLenum
argument_list|,
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glFramebufferRenderbuffer
argument_list|)
expr_stmt|;
name|glFramebufferTexture2D
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLenum
argument_list|,
name|GLenum
argument_list|,
name|GLuint
argument_list|,
name|GLint
argument_list|)
operator|)
argument_list|,
name|glFramebufferTexture2D
argument_list|)
expr_stmt|;
name|glGenBuffers
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLsizei
argument_list|,
name|GLuint
operator|*
argument_list|)
operator|)
argument_list|,
name|glGenBuffers
argument_list|)
expr_stmt|;
name|glGenerateMipmap
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|)
operator|)
argument_list|,
name|glGenerateMipmap
argument_list|)
expr_stmt|;
name|glGenFramebuffers
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLsizei
argument_list|,
name|GLuint
operator|*
argument_list|)
operator|)
argument_list|,
name|glGenFramebuffers
argument_list|)
expr_stmt|;
name|glGenRenderbuffers
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLsizei
argument_list|,
name|GLuint
operator|*
argument_list|)
operator|)
argument_list|,
name|glGenRenderbuffers
argument_list|)
expr_stmt|;
name|glGetActiveAttrib
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
name|GLuint
argument_list|,
name|GLsizei
argument_list|,
name|GLsizei
operator|*
argument_list|,
name|GLint
operator|*
argument_list|,
name|GLenum
operator|*
argument_list|,
name|GLchar
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetActiveAttrib
argument_list|)
expr_stmt|;
name|glGetActiveUniform
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
name|GLuint
argument_list|,
name|GLsizei
argument_list|,
name|GLsizei
operator|*
argument_list|,
name|GLint
operator|*
argument_list|,
name|GLenum
operator|*
argument_list|,
name|GLchar
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetActiveUniform
argument_list|)
expr_stmt|;
name|glGetAttachedShaders
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
name|GLsizei
argument_list|,
name|GLsizei
operator|*
argument_list|,
name|GLuint
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetAttachedShaders
argument_list|)
expr_stmt|;
name|glGetAttribLocation
operator|=
name|RESOLVE
argument_list|(
operator|(
name|int
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
specifier|const
name|GLchar
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetAttribLocation
argument_list|)
expr_stmt|;
name|glGetBufferParameteriv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLenum
argument_list|,
name|GLint
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetBufferParameteriv
argument_list|)
expr_stmt|;
name|glGetFramebufferAttachmentParameteriv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLenum
argument_list|,
name|GLenum
argument_list|,
name|GLint
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetFramebufferAttachmentParameteriv
argument_list|)
expr_stmt|;
name|glGetProgramiv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
name|GLenum
argument_list|,
name|GLint
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetProgramiv
argument_list|)
expr_stmt|;
name|glGetProgramInfoLog
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
name|GLsizei
argument_list|,
name|GLsizei
operator|*
argument_list|,
name|GLchar
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetProgramInfoLog
argument_list|)
expr_stmt|;
name|glGetRenderbufferParameteriv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLenum
argument_list|,
name|GLint
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetRenderbufferParameteriv
argument_list|)
expr_stmt|;
name|glGetShaderiv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
name|GLenum
argument_list|,
name|GLint
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetShaderiv
argument_list|)
expr_stmt|;
name|glGetShaderInfoLog
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
name|GLsizei
argument_list|,
name|GLsizei
operator|*
argument_list|,
name|GLchar
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetShaderInfoLog
argument_list|)
expr_stmt|;
name|glGetShaderPrecisionFormat
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLenum
argument_list|,
name|GLint
operator|*
argument_list|,
name|GLint
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetShaderPrecisionFormat
argument_list|)
expr_stmt|;
name|glGetShaderSource
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
name|GLsizei
argument_list|,
name|GLsizei
operator|*
argument_list|,
name|GLchar
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetShaderSource
argument_list|)
expr_stmt|;
name|glGetUniformfv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
name|GLint
argument_list|,
name|GLfloat
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetUniformfv
argument_list|)
expr_stmt|;
name|glGetUniformiv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
name|GLint
argument_list|,
name|GLint
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetUniformiv
argument_list|)
expr_stmt|;
name|glGetUniformLocation
operator|=
name|RESOLVE
argument_list|(
operator|(
name|int
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
specifier|const
name|GLchar
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetUniformLocation
argument_list|)
expr_stmt|;
name|glGetVertexAttribfv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
name|GLenum
argument_list|,
name|GLfloat
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetVertexAttribfv
argument_list|)
expr_stmt|;
name|glGetVertexAttribiv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
name|GLenum
argument_list|,
name|GLint
operator|*
argument_list|)
operator|)
argument_list|,
name|glGetVertexAttribiv
argument_list|)
expr_stmt|;
name|glGetVertexAttribPointerv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
name|GLenum
argument_list|,
name|GLvoid
operator|*
operator|*
name|pointer
argument_list|)
operator|)
argument_list|,
name|glGetVertexAttribPointerv
argument_list|)
expr_stmt|;
name|glIsBuffer
operator|=
name|RESOLVE
argument_list|(
operator|(
name|GLboolean
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glIsBuffer
argument_list|)
expr_stmt|;
name|glIsFramebuffer
operator|=
name|RESOLVE
argument_list|(
operator|(
name|GLboolean
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glIsFramebuffer
argument_list|)
expr_stmt|;
name|glIsProgram
operator|=
name|RESOLVE
argument_list|(
operator|(
name|GLboolean
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glIsProgram
argument_list|)
expr_stmt|;
name|glIsRenderbuffer
operator|=
name|RESOLVE
argument_list|(
operator|(
name|GLboolean
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glIsRenderbuffer
argument_list|)
expr_stmt|;
name|glIsShader
operator|=
name|RESOLVE
argument_list|(
operator|(
name|GLboolean
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glIsShader
argument_list|)
expr_stmt|;
name|glLinkProgram
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glLinkProgram
argument_list|)
expr_stmt|;
name|glReleaseShaderCompiler
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|void
argument_list|)
operator|)
argument_list|,
name|glReleaseShaderCompiler
argument_list|)
expr_stmt|;
name|glRenderbufferStorage
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLenum
argument_list|,
name|GLsizei
argument_list|,
name|GLsizei
argument_list|)
operator|)
argument_list|,
name|glRenderbufferStorage
argument_list|)
expr_stmt|;
name|glSampleCoverage
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLclampf
argument_list|,
name|GLboolean
argument_list|)
operator|)
argument_list|,
name|glSampleCoverage
argument_list|)
expr_stmt|;
name|glShaderBinary
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLsizei
argument_list|,
specifier|const
name|GLuint
operator|*
argument_list|,
name|GLenum
argument_list|,
specifier|const
name|GLvoid
operator|*
argument_list|,
name|GLsizei
argument_list|)
operator|)
argument_list|,
name|glShaderBinary
argument_list|)
expr_stmt|;
name|glShaderSource
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
name|GLsizei
argument_list|,
specifier|const
name|GLchar
operator|*
operator|*
argument_list|,
specifier|const
name|GLint
operator|*
argument_list|)
operator|)
argument_list|,
name|glShaderSource
argument_list|)
expr_stmt|;
name|glStencilFuncSeparate
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLenum
argument_list|,
name|GLint
argument_list|,
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glStencilFuncSeparate
argument_list|)
expr_stmt|;
name|glStencilMaskSeparate
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glStencilMaskSeparate
argument_list|)
expr_stmt|;
name|glStencilOpSeparate
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLenum
argument_list|,
name|GLenum
argument_list|,
name|GLenum
argument_list|,
name|GLenum
argument_list|)
operator|)
argument_list|,
name|glStencilOpSeparate
argument_list|)
expr_stmt|;
name|glUniform1f
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|,
name|GLfloat
argument_list|)
operator|)
argument_list|,
name|glUniform1f
argument_list|)
expr_stmt|;
name|glUniform1fv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|,
name|GLsizei
argument_list|,
specifier|const
name|GLfloat
operator|*
argument_list|)
operator|)
argument_list|,
name|glUniform1fv
argument_list|)
expr_stmt|;
name|glUniform1i
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|,
name|GLint
argument_list|)
operator|)
argument_list|,
name|glUniform1i
argument_list|)
expr_stmt|;
name|glUniform1iv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|,
name|GLsizei
argument_list|,
specifier|const
name|GLint
operator|*
argument_list|)
operator|)
argument_list|,
name|glUniform1iv
argument_list|)
expr_stmt|;
name|glUniform2f
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|,
name|GLfloat
argument_list|,
name|GLfloat
argument_list|)
operator|)
argument_list|,
name|glUniform2f
argument_list|)
expr_stmt|;
name|glUniform2fv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|,
name|GLsizei
argument_list|,
specifier|const
name|GLfloat
operator|*
argument_list|)
operator|)
argument_list|,
name|glUniform2fv
argument_list|)
expr_stmt|;
name|glUniform2i
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|,
name|GLint
argument_list|,
name|GLint
argument_list|)
operator|)
argument_list|,
name|glUniform2i
argument_list|)
expr_stmt|;
name|glUniform2iv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|,
name|GLsizei
argument_list|,
specifier|const
name|GLint
operator|*
argument_list|)
operator|)
argument_list|,
name|glUniform2iv
argument_list|)
expr_stmt|;
name|glUniform3f
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|,
name|GLfloat
argument_list|,
name|GLfloat
argument_list|,
name|GLfloat
argument_list|)
operator|)
argument_list|,
name|glUniform3f
argument_list|)
expr_stmt|;
name|glUniform3fv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|,
name|GLsizei
argument_list|,
specifier|const
name|GLfloat
operator|*
argument_list|)
operator|)
argument_list|,
name|glUniform3fv
argument_list|)
expr_stmt|;
name|glUniform3i
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|,
name|GLint
argument_list|,
name|GLint
argument_list|,
name|GLint
argument_list|)
operator|)
argument_list|,
name|glUniform3i
argument_list|)
expr_stmt|;
name|glUniform3iv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|,
name|GLsizei
argument_list|,
specifier|const
name|GLint
operator|*
argument_list|)
operator|)
argument_list|,
name|glUniform3iv
argument_list|)
expr_stmt|;
name|glUniform4f
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|,
name|GLfloat
argument_list|,
name|GLfloat
argument_list|,
name|GLfloat
argument_list|,
name|GLfloat
argument_list|)
operator|)
argument_list|,
name|glUniform4f
argument_list|)
expr_stmt|;
name|glUniform4fv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|,
name|GLsizei
argument_list|,
specifier|const
name|GLfloat
operator|*
argument_list|)
operator|)
argument_list|,
name|glUniform4fv
argument_list|)
expr_stmt|;
name|glUniform4i
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|,
name|GLint
argument_list|,
name|GLint
argument_list|,
name|GLint
argument_list|,
name|GLint
argument_list|)
operator|)
argument_list|,
name|glUniform4i
argument_list|)
expr_stmt|;
name|glUniform4iv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|,
name|GLsizei
argument_list|,
specifier|const
name|GLint
operator|*
argument_list|)
operator|)
argument_list|,
name|glUniform4iv
argument_list|)
expr_stmt|;
name|glUniformMatrix2fv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|,
name|GLsizei
argument_list|,
name|GLboolean
argument_list|,
specifier|const
name|GLfloat
operator|*
argument_list|)
operator|)
argument_list|,
name|glUniformMatrix2fv
argument_list|)
expr_stmt|;
name|glUniformMatrix3fv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|,
name|GLsizei
argument_list|,
name|GLboolean
argument_list|,
specifier|const
name|GLfloat
operator|*
argument_list|)
operator|)
argument_list|,
name|glUniformMatrix3fv
argument_list|)
expr_stmt|;
name|glUniformMatrix4fv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLint
argument_list|,
name|GLsizei
argument_list|,
name|GLboolean
argument_list|,
specifier|const
name|GLfloat
operator|*
argument_list|)
operator|)
argument_list|,
name|glUniformMatrix4fv
argument_list|)
expr_stmt|;
name|glUseProgram
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glUseProgram
argument_list|)
expr_stmt|;
name|glValidateProgram
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|)
operator|)
argument_list|,
name|glValidateProgram
argument_list|)
expr_stmt|;
name|glVertexAttrib1f
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
name|GLfloat
argument_list|)
operator|)
argument_list|,
name|glVertexAttrib1f
argument_list|)
expr_stmt|;
name|glVertexAttrib1fv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
specifier|const
name|GLfloat
operator|*
argument_list|)
operator|)
argument_list|,
name|glVertexAttrib1fv
argument_list|)
expr_stmt|;
name|glVertexAttrib2f
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
name|GLfloat
argument_list|,
name|GLfloat
argument_list|)
operator|)
argument_list|,
name|glVertexAttrib2f
argument_list|)
expr_stmt|;
name|glVertexAttrib2fv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
specifier|const
name|GLfloat
operator|*
argument_list|)
operator|)
argument_list|,
name|glVertexAttrib2fv
argument_list|)
expr_stmt|;
name|glVertexAttrib3f
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
name|GLfloat
argument_list|,
name|GLfloat
argument_list|,
name|GLfloat
argument_list|)
operator|)
argument_list|,
name|glVertexAttrib3f
argument_list|)
expr_stmt|;
name|glVertexAttrib3fv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
specifier|const
name|GLfloat
operator|*
argument_list|)
operator|)
argument_list|,
name|glVertexAttrib3fv
argument_list|)
expr_stmt|;
name|glVertexAttrib4f
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
name|GLfloat
argument_list|,
name|GLfloat
argument_list|,
name|GLfloat
argument_list|,
name|GLfloat
argument_list|)
operator|)
argument_list|,
name|glVertexAttrib4f
argument_list|)
expr_stmt|;
name|glVertexAttrib4fv
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
specifier|const
name|GLfloat
operator|*
argument_list|)
operator|)
argument_list|,
name|glVertexAttrib4fv
argument_list|)
expr_stmt|;
name|glVertexAttribPointer
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLuint
argument_list|,
name|GLint
argument_list|,
name|GLenum
argument_list|,
name|GLboolean
argument_list|,
name|GLsizei
argument_list|,
specifier|const
name|GLvoid
operator|*
argument_list|)
operator|)
argument_list|,
name|glVertexAttribPointer
argument_list|)
expr_stmt|;
name|glClearDepthf
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLclampf
argument_list|)
operator|)
argument_list|,
name|glClearDepthf
argument_list|)
expr_stmt|;
name|glDepthRangef
operator|=
name|RESOLVE
argument_list|(
operator|(
name|void
argument_list|(
name|APIENTRY
operator|*
argument_list|)
argument_list|(
name|GLclampf
argument_list|,
name|GLclampf
argument_list|)
operator|)
argument_list|,
name|glDepthRangef
argument_list|)
expr_stmt|;
return|return
name|glBindTexture
operator|&&
name|glCreateShader
operator|&&
name|glClearDepthf
return|;
block|}
end_function
begin_constructor
DECL|function|QWindowsEGLStaticContext
name|QWindowsEGLStaticContext
operator|::
name|QWindowsEGLStaticContext
parameter_list|(
name|EGLDisplay
name|display
parameter_list|,
name|int
name|version
parameter_list|)
member_init_list|:
name|m_display
argument_list|(
name|display
argument_list|)
member_init_list|,
name|m_version
argument_list|(
name|version
argument_list|)
block|{ }
end_constructor
begin_function
DECL|function|create
name|QWindowsEGLStaticContext
modifier|*
name|QWindowsEGLStaticContext
operator|::
name|create
parameter_list|()
block|{
specifier|const
name|HDC
name|dc
init|=
name|QWindowsContext
operator|::
name|instance
argument_list|()
operator|->
name|displayContext
argument_list|()
decl_stmt|;
if|if
condition|(
operator|!
name|dc
condition|)
block|{
name|qWarning
argument_list|(
literal|"%s: No Display"
argument_list|,
name|Q_FUNC_INFO
argument_list|)
expr_stmt|;
return|return
literal|0
return|;
block|}
if|if
condition|(
operator|!
name|libEGL
operator|.
name|init
argument_list|()
condition|)
block|{
name|qWarning
argument_list|(
literal|"%s: Failed to load and resolve libEGL functions"
argument_list|,
name|Q_FUNC_INFO
argument_list|)
expr_stmt|;
return|return
literal|0
return|;
block|}
if|if
condition|(
operator|!
name|libGLESv2
operator|.
name|init
argument_list|()
condition|)
block|{
name|qWarning
argument_list|(
literal|"%s: Failed to load and resolve libGLESv2 functions"
argument_list|,
name|Q_FUNC_INFO
argument_list|)
expr_stmt|;
return|return
literal|0
return|;
block|}
name|EGLDisplay
name|display
init|=
name|EGL_NO_DISPLAY
decl_stmt|;
ifdef|#
directive|ifdef
name|EGL_ANGLE_platform_angle_opengl
if|if
condition|(
name|libEGL
operator|.
name|eglGetPlatformDisplayEXT
operator|&&
name|qEnvironmentVariableIsSet
argument_list|(
literal|"QT_ANGLE_PLATFORM"
argument_list|)
condition|)
block|{
specifier|const
name|EGLint
name|anglePlatformAttributes
index|[]
index|[
literal|3
index|]
init|=
block|{
block|{
name|EGL_PLATFORM_ANGLE_TYPE_ANGLE
block|,
name|EGL_PLATFORM_ANGLE_TYPE_D3D11_ANGLE
block|,
name|EGL_NONE
block|}
block|,
block|{
name|EGL_PLATFORM_ANGLE_TYPE_ANGLE
block|,
name|EGL_PLATFORM_ANGLE_TYPE_D3D9_ANGLE
block|,
name|EGL_NONE
block|}
block|,
block|{
name|EGL_PLATFORM_ANGLE_TYPE_ANGLE
block|,
name|EGL_PLATFORM_ANGLE_TYPE_D3D11_WARP_ANGLE
block|,
name|EGL_NONE
block|}
block|}
decl_stmt|;
specifier|const
name|EGLint
modifier|*
name|attributes
init|=
literal|0
decl_stmt|;
specifier|const
name|QByteArray
name|anglePlatform
init|=
name|qgetenv
argument_list|(
literal|"QT_ANGLE_PLATFORM"
argument_list|)
decl_stmt|;
if|if
condition|(
name|anglePlatform
operator|==
literal|"d3d11"
condition|)
name|attributes
operator|=
name|anglePlatformAttributes
index|[
literal|0
index|]
expr_stmt|;
elseif|else
if|if
condition|(
name|anglePlatform
operator|==
literal|"d3d9"
condition|)
name|attributes
operator|=
name|anglePlatformAttributes
index|[
literal|1
index|]
expr_stmt|;
elseif|else
if|if
condition|(
name|anglePlatform
operator|==
literal|"warp"
condition|)
name|attributes
operator|=
name|anglePlatformAttributes
index|[
literal|2
index|]
expr_stmt|;
else|else
name|qCWarning
argument_list|(
name|lcQpaGl
argument_list|)
operator|<<
literal|"Invalid value set for QT_ANGLE_PLATFORM:"
operator|<<
name|anglePlatform
expr_stmt|;
if|if
condition|(
name|attributes
condition|)
name|display
operator|=
name|libEGL
operator|.
name|eglGetPlatformDisplayEXT
argument_list|(
name|EGL_PLATFORM_ANGLE_ANGLE
argument_list|,
name|dc
argument_list|,
name|attributes
argument_list|)
expr_stmt|;
block|}
endif|#
directive|endif
comment|// EGL_ANGLE_platform_angle_opengl
if|if
condition|(
name|display
operator|==
name|EGL_NO_DISPLAY
condition|)
name|display
operator|=
name|libEGL
operator|.
name|eglGetDisplay
argument_list|(
operator|(
name|EGLNativeDisplayType
operator|)
name|dc
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|display
condition|)
block|{
name|qWarning
argument_list|(
literal|"%s: Could not obtain EGL display"
argument_list|,
name|Q_FUNC_INFO
argument_list|)
expr_stmt|;
return|return
literal|0
return|;
block|}
name|EGLint
name|major
decl_stmt|;
name|EGLint
name|minor
decl_stmt|;
if|if
condition|(
operator|!
name|libEGL
operator|.
name|eglInitialize
argument_list|(
name|display
argument_list|,
operator|&
name|major
argument_list|,
operator|&
name|minor
argument_list|)
condition|)
block|{
name|int
name|err
init|=
name|libEGL
operator|.
name|eglGetError
argument_list|()
decl_stmt|;
name|qWarning
argument_list|(
literal|"%s: Could not initialize EGL display: error 0x%x\n"
argument_list|,
name|Q_FUNC_INFO
argument_list|,
name|err
argument_list|)
expr_stmt|;
if|if
condition|(
name|err
operator|==
literal|0x3001
condition|)
name|qWarning
argument_list|(
literal|"%s: When using ANGLE, check if d3dcompiler_4x.dll is available"
argument_list|,
name|Q_FUNC_INFO
argument_list|)
expr_stmt|;
return|return
literal|0
return|;
block|}
name|qCDebug
argument_list|(
name|lcQpaGl
argument_list|)
operator|<<
name|__FUNCTION__
operator|<<
literal|"Created EGL display"
operator|<<
name|display
operator|<<
literal|'v'
operator|<<
name|major
operator|<<
literal|'.'
operator|<<
name|minor
expr_stmt|;
return|return
operator|new
name|QWindowsEGLStaticContext
argument_list|(
name|display
argument_list|,
operator|(
name|major
operator|<<
literal|8
operator|)
operator||
name|minor
argument_list|)
return|;
block|}
end_function
begin_destructor
DECL|function|~QWindowsEGLStaticContext
name|QWindowsEGLStaticContext
operator|::
name|~
name|QWindowsEGLStaticContext
parameter_list|()
block|{
name|qCDebug
argument_list|(
name|lcQpaGl
argument_list|)
operator|<<
name|__FUNCTION__
operator|<<
literal|"Releasing EGL display "
operator|<<
name|m_display
expr_stmt|;
name|libEGL
operator|.
name|eglTerminate
argument_list|(
name|m_display
argument_list|)
expr_stmt|;
block|}
end_destructor
begin_function
DECL|function|createContext
name|QWindowsOpenGLContext
modifier|*
name|QWindowsEGLStaticContext
operator|::
name|createContext
parameter_list|(
name|QOpenGLContext
modifier|*
name|context
parameter_list|)
block|{
return|return
operator|new
name|QWindowsEGLContext
argument_list|(
name|this
argument_list|,
name|context
operator|->
name|format
argument_list|()
argument_list|,
name|context
operator|->
name|shareHandle
argument_list|()
argument_list|)
return|;
block|}
end_function
begin_function
DECL|function|createWindowSurface
name|void
modifier|*
name|QWindowsEGLStaticContext
operator|::
name|createWindowSurface
parameter_list|(
name|void
modifier|*
name|nativeWindow
parameter_list|,
name|void
modifier|*
name|nativeConfig
parameter_list|)
block|{
name|EGLSurface
name|surface
init|=
name|libEGL
operator|.
name|eglCreateWindowSurface
argument_list|(
name|m_display
argument_list|,
operator|(
name|EGLConfig
operator|)
name|nativeConfig
argument_list|,
operator|(
name|EGLNativeWindowType
operator|)
name|nativeWindow
argument_list|,
literal|0
argument_list|)
decl_stmt|;
if|if
condition|(
name|surface
operator|==
name|EGL_NO_SURFACE
condition|)
name|qWarning
argument_list|(
literal|"%s: Could not create the EGL window surface: 0x%x\n"
argument_list|,
name|Q_FUNC_INFO
argument_list|,
name|libEGL
operator|.
name|eglGetError
argument_list|()
argument_list|)
expr_stmt|;
return|return
name|surface
return|;
block|}
end_function
begin_function
DECL|function|destroyWindowSurface
name|void
name|QWindowsEGLStaticContext
operator|::
name|destroyWindowSurface
parameter_list|(
name|void
modifier|*
name|nativeSurface
parameter_list|)
block|{
name|libEGL
operator|.
name|eglDestroySurface
argument_list|(
name|m_display
argument_list|,
operator|(
name|EGLSurface
operator|)
name|nativeSurface
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|formatFromConfig
name|QSurfaceFormat
name|QWindowsEGLStaticContext
operator|::
name|formatFromConfig
parameter_list|(
name|EGLDisplay
name|display
parameter_list|,
name|EGLConfig
name|config
parameter_list|,
specifier|const
name|QSurfaceFormat
modifier|&
name|referenceFormat
parameter_list|)
block|{
name|QSurfaceFormat
name|format
decl_stmt|;
name|EGLint
name|redSize
init|=
literal|0
decl_stmt|;
name|EGLint
name|greenSize
init|=
literal|0
decl_stmt|;
name|EGLint
name|blueSize
init|=
literal|0
decl_stmt|;
name|EGLint
name|alphaSize
init|=
literal|0
decl_stmt|;
name|EGLint
name|depthSize
init|=
literal|0
decl_stmt|;
name|EGLint
name|stencilSize
init|=
literal|0
decl_stmt|;
name|EGLint
name|sampleCount
init|=
literal|0
decl_stmt|;
name|libEGL
operator|.
name|eglGetConfigAttrib
argument_list|(
name|display
argument_list|,
name|config
argument_list|,
name|EGL_RED_SIZE
argument_list|,
operator|&
name|redSize
argument_list|)
expr_stmt|;
name|libEGL
operator|.
name|eglGetConfigAttrib
argument_list|(
name|display
argument_list|,
name|config
argument_list|,
name|EGL_GREEN_SIZE
argument_list|,
operator|&
name|greenSize
argument_list|)
expr_stmt|;
name|libEGL
operator|.
name|eglGetConfigAttrib
argument_list|(
name|display
argument_list|,
name|config
argument_list|,
name|EGL_BLUE_SIZE
argument_list|,
operator|&
name|blueSize
argument_list|)
expr_stmt|;
name|libEGL
operator|.
name|eglGetConfigAttrib
argument_list|(
name|display
argument_list|,
name|config
argument_list|,
name|EGL_ALPHA_SIZE
argument_list|,
operator|&
name|alphaSize
argument_list|)
expr_stmt|;
name|libEGL
operator|.
name|eglGetConfigAttrib
argument_list|(
name|display
argument_list|,
name|config
argument_list|,
name|EGL_DEPTH_SIZE
argument_list|,
operator|&
name|depthSize
argument_list|)
expr_stmt|;
name|libEGL
operator|.
name|eglGetConfigAttrib
argument_list|(
name|display
argument_list|,
name|config
argument_list|,
name|EGL_STENCIL_SIZE
argument_list|,
operator|&
name|stencilSize
argument_list|)
expr_stmt|;
name|libEGL
operator|.
name|eglGetConfigAttrib
argument_list|(
name|display
argument_list|,
name|config
argument_list|,
name|EGL_SAMPLES
argument_list|,
operator|&
name|sampleCount
argument_list|)
expr_stmt|;
name|format
operator|.
name|setRenderableType
argument_list|(
name|QSurfaceFormat
operator|::
name|OpenGLES
argument_list|)
expr_stmt|;
name|format
operator|.
name|setVersion
argument_list|(
name|referenceFormat
operator|.
name|majorVersion
argument_list|()
argument_list|,
name|referenceFormat
operator|.
name|minorVersion
argument_list|()
argument_list|)
expr_stmt|;
name|format
operator|.
name|setProfile
argument_list|(
name|referenceFormat
operator|.
name|profile
argument_list|()
argument_list|)
expr_stmt|;
name|format
operator|.
name|setOptions
argument_list|(
name|referenceFormat
operator|.
name|options
argument_list|()
argument_list|)
expr_stmt|;
name|format
operator|.
name|setRedBufferSize
argument_list|(
name|redSize
argument_list|)
expr_stmt|;
name|format
operator|.
name|setGreenBufferSize
argument_list|(
name|greenSize
argument_list|)
expr_stmt|;
name|format
operator|.
name|setBlueBufferSize
argument_list|(
name|blueSize
argument_list|)
expr_stmt|;
name|format
operator|.
name|setAlphaBufferSize
argument_list|(
name|alphaSize
argument_list|)
expr_stmt|;
name|format
operator|.
name|setDepthBufferSize
argument_list|(
name|depthSize
argument_list|)
expr_stmt|;
name|format
operator|.
name|setStencilBufferSize
argument_list|(
name|stencilSize
argument_list|)
expr_stmt|;
name|format
operator|.
name|setSamples
argument_list|(
name|sampleCount
argument_list|)
expr_stmt|;
name|format
operator|.
name|setStereo
argument_list|(
literal|false
argument_list|)
expr_stmt|;
name|format
operator|.
name|setSwapInterval
argument_list|(
name|referenceFormat
operator|.
name|swapInterval
argument_list|()
argument_list|)
expr_stmt|;
comment|// Clear the EGL error state because some of the above may
comment|// have errored out because the attribute is not applicable
comment|// to the surface type.  Such errors don't matter.
name|libEGL
operator|.
name|eglGetError
argument_list|()
expr_stmt|;
return|return
name|format
return|;
block|}
end_function
begin_comment
comment|/*!     \class QWindowsEGLContext     \brief Open EGL context.      \section1 Using QWindowsEGLContext for Desktop with ANGLE     \section2 Build Instructions     \list     \o Install the Direct X SDK     \o Checkout and build ANGLE (SVN repository) as explained here:        \l{http://code.google.com/p/angleproject/wiki/DevSetup}{ANGLE-Project}.        When building for 64bit, de-activate the "WarnAsError" option        in every project file (as otherwise integer conversion        warnings will break the build).     \o Run configure.exe with the options "-opengl es2".     \o Build qtbase and test some examples.     \endlist      \internal     \ingroup qt-lighthouse-win */
end_comment
begin_constructor
DECL|function|QWindowsEGLContext
name|QWindowsEGLContext
operator|::
name|QWindowsEGLContext
parameter_list|(
name|QWindowsEGLStaticContext
modifier|*
name|staticContext
parameter_list|,
specifier|const
name|QSurfaceFormat
modifier|&
name|format
parameter_list|,
name|QPlatformOpenGLContext
modifier|*
name|share
parameter_list|)
member_init_list|:
name|m_staticContext
argument_list|(
name|staticContext
argument_list|)
member_init_list|,
name|m_eglDisplay
argument_list|(
name|staticContext
operator|->
name|display
argument_list|()
argument_list|)
member_init_list|,
name|m_api
argument_list|(
name|EGL_OPENGL_ES_API
argument_list|)
member_init_list|,
name|m_swapInterval
argument_list|(
operator|-
literal|1
argument_list|)
block|{
if|if
condition|(
operator|!
name|m_staticContext
condition|)
return|return;
name|m_eglConfig
operator|=
name|chooseConfig
argument_list|(
name|format
argument_list|)
expr_stmt|;
name|m_format
operator|=
name|m_staticContext
operator|->
name|formatFromConfig
argument_list|(
name|m_eglDisplay
argument_list|,
name|m_eglConfig
argument_list|,
name|format
argument_list|)
expr_stmt|;
name|m_shareContext
operator|=
name|share
condition|?
cast|static_cast
argument_list|<
name|QWindowsEGLContext
operator|*
argument_list|>
argument_list|(
name|share
argument_list|)
operator|->
name|m_eglContext
else|:
literal|0
expr_stmt|;
name|QVector
argument_list|<
name|EGLint
argument_list|>
name|contextAttrs
decl_stmt|;
name|contextAttrs
operator|.
name|append
argument_list|(
name|EGL_CONTEXT_CLIENT_VERSION
argument_list|)
expr_stmt|;
name|contextAttrs
operator|.
name|append
argument_list|(
name|m_format
operator|.
name|majorVersion
argument_list|()
argument_list|)
expr_stmt|;
name|contextAttrs
operator|.
name|append
argument_list|(
name|EGL_NONE
argument_list|)
expr_stmt|;
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglBindAPI
argument_list|(
name|m_api
argument_list|)
expr_stmt|;
name|m_eglContext
operator|=
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglCreateContext
argument_list|(
name|m_eglDisplay
argument_list|,
name|m_eglConfig
argument_list|,
name|m_shareContext
argument_list|,
name|contextAttrs
operator|.
name|constData
argument_list|()
argument_list|)
expr_stmt|;
if|if
condition|(
name|m_eglContext
operator|==
name|EGL_NO_CONTEXT
operator|&&
name|m_shareContext
operator|!=
name|EGL_NO_CONTEXT
condition|)
block|{
name|m_shareContext
operator|=
literal|0
expr_stmt|;
name|m_eglContext
operator|=
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglCreateContext
argument_list|(
name|m_eglDisplay
argument_list|,
name|m_eglConfig
argument_list|,
literal|0
argument_list|,
name|contextAttrs
operator|.
name|constData
argument_list|()
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|m_eglContext
operator|==
name|EGL_NO_CONTEXT
condition|)
block|{
name|qWarning
argument_list|(
literal|"QWindowsEGLContext: eglError: %x, this: %p \n"
argument_list|,
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglGetError
argument_list|()
argument_list|,
name|this
argument_list|)
expr_stmt|;
return|return;
block|}
comment|// Make the context current to ensure the GL version query works. This needs a surface too.
specifier|const
name|EGLint
name|pbufferAttributes
index|[]
init|=
block|{
name|EGL_WIDTH
block|,
literal|1
block|,
name|EGL_HEIGHT
block|,
literal|1
block|,
name|EGL_LARGEST_PBUFFER
block|,
name|EGL_FALSE
block|,
name|EGL_NONE
block|}
decl_stmt|;
name|EGLSurface
name|pbuffer
init|=
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglCreatePbufferSurface
argument_list|(
name|m_eglDisplay
argument_list|,
name|m_eglConfig
argument_list|,
name|pbufferAttributes
argument_list|)
decl_stmt|;
if|if
condition|(
name|pbuffer
operator|==
name|EGL_NO_SURFACE
condition|)
return|return;
name|EGLDisplay
name|prevDisplay
init|=
name|eglGetCurrentDisplay
argument_list|()
decl_stmt|;
if|if
condition|(
name|prevDisplay
operator|==
name|EGL_NO_DISPLAY
condition|)
comment|// when no context is current
name|prevDisplay
operator|=
name|m_eglDisplay
expr_stmt|;
name|EGLContext
name|prevContext
init|=
name|eglGetCurrentContext
argument_list|()
decl_stmt|;
name|EGLSurface
name|prevSurfaceDraw
init|=
name|eglGetCurrentSurface
argument_list|(
name|EGL_DRAW
argument_list|)
decl_stmt|;
name|EGLSurface
name|prevSurfaceRead
init|=
name|eglGetCurrentSurface
argument_list|(
name|EGL_READ
argument_list|)
decl_stmt|;
if|if
condition|(
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglMakeCurrent
argument_list|(
name|m_eglDisplay
argument_list|,
name|pbuffer
argument_list|,
name|pbuffer
argument_list|,
name|m_eglContext
argument_list|)
condition|)
block|{
specifier|const
name|GLubyte
modifier|*
name|s
init|=
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetString
argument_list|(
name|GL_VERSION
argument_list|)
decl_stmt|;
if|if
condition|(
name|s
condition|)
block|{
name|QByteArray
name|version
init|=
name|QByteArray
argument_list|(
cast|reinterpret_cast
argument_list|<
specifier|const
name|char
operator|*
argument_list|>
argument_list|(
name|s
argument_list|)
argument_list|)
decl_stmt|;
name|int
name|major
decl_stmt|,
name|minor
decl_stmt|;
if|if
condition|(
name|QPlatformOpenGLContext
operator|::
name|parseOpenGLVersion
argument_list|(
name|version
argument_list|,
name|major
argument_list|,
name|minor
argument_list|)
condition|)
block|{
name|m_format
operator|.
name|setMajorVersion
argument_list|(
name|major
argument_list|)
expr_stmt|;
name|m_format
operator|.
name|setMinorVersion
argument_list|(
name|minor
argument_list|)
expr_stmt|;
block|}
block|}
name|m_format
operator|.
name|setProfile
argument_list|(
name|QSurfaceFormat
operator|::
name|NoProfile
argument_list|)
expr_stmt|;
name|m_format
operator|.
name|setOptions
argument_list|(
name|QSurfaceFormat
operator|::
name|FormatOptions
argument_list|()
argument_list|)
expr_stmt|;
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglMakeCurrent
argument_list|(
name|prevDisplay
argument_list|,
name|prevSurfaceDraw
argument_list|,
name|prevSurfaceRead
argument_list|,
name|prevContext
argument_list|)
expr_stmt|;
block|}
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglDestroySurface
argument_list|(
name|m_eglDisplay
argument_list|,
name|pbuffer
argument_list|)
expr_stmt|;
block|}
end_constructor
begin_destructor
DECL|function|~QWindowsEGLContext
name|QWindowsEGLContext
operator|::
name|~
name|QWindowsEGLContext
parameter_list|()
block|{
if|if
condition|(
name|m_eglContext
operator|!=
name|EGL_NO_CONTEXT
condition|)
block|{
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglDestroyContext
argument_list|(
name|m_eglDisplay
argument_list|,
name|m_eglContext
argument_list|)
expr_stmt|;
name|m_eglContext
operator|=
name|EGL_NO_CONTEXT
expr_stmt|;
block|}
block|}
end_destructor
begin_function
DECL|function|makeCurrent
name|bool
name|QWindowsEGLContext
operator|::
name|makeCurrent
parameter_list|(
name|QPlatformSurface
modifier|*
name|surface
parameter_list|)
block|{
name|Q_ASSERT
argument_list|(
name|surface
operator|->
name|surface
argument_list|()
operator|->
name|supportsOpenGL
argument_list|()
argument_list|)
expr_stmt|;
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglBindAPI
argument_list|(
name|m_api
argument_list|)
expr_stmt|;
name|QWindowsWindow
modifier|*
name|window
init|=
cast|static_cast
argument_list|<
name|QWindowsWindow
operator|*
argument_list|>
argument_list|(
name|surface
argument_list|)
decl_stmt|;
name|EGLSurface
name|eglSurface
init|=
cast|static_cast
argument_list|<
name|EGLSurface
argument_list|>
argument_list|(
name|window
operator|->
name|surface
argument_list|(
name|m_eglConfig
argument_list|)
argument_list|)
decl_stmt|;
name|Q_ASSERT
argument_list|(
name|eglSurface
argument_list|)
expr_stmt|;
comment|// shortcut: on some GPUs, eglMakeCurrent is not a cheap operation
if|if
condition|(
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglGetCurrentContext
argument_list|()
operator|==
name|m_eglContext
operator|&&
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglGetCurrentDisplay
argument_list|()
operator|==
name|m_eglDisplay
operator|&&
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglGetCurrentSurface
argument_list|(
name|EGL_READ
argument_list|)
operator|==
name|eglSurface
operator|&&
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglGetCurrentSurface
argument_list|(
name|EGL_DRAW
argument_list|)
operator|==
name|eglSurface
condition|)
block|{
return|return
literal|true
return|;
block|}
specifier|const
name|bool
name|ok
init|=
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglMakeCurrent
argument_list|(
name|m_eglDisplay
argument_list|,
name|eglSurface
argument_list|,
name|eglSurface
argument_list|,
name|m_eglContext
argument_list|)
decl_stmt|;
if|if
condition|(
name|ok
condition|)
block|{
specifier|const
name|int
name|requestedSwapInterval
init|=
name|surface
operator|->
name|format
argument_list|()
operator|.
name|swapInterval
argument_list|()
decl_stmt|;
if|if
condition|(
name|requestedSwapInterval
operator|>=
literal|0
operator|&&
name|m_swapInterval
operator|!=
name|requestedSwapInterval
condition|)
block|{
name|m_swapInterval
operator|=
name|requestedSwapInterval
expr_stmt|;
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglSwapInterval
argument_list|(
name|m_staticContext
operator|->
name|display
argument_list|()
argument_list|,
name|m_swapInterval
argument_list|)
expr_stmt|;
block|}
block|}
else|else
block|{
name|qWarning
argument_list|(
literal|"QWindowsEGLContext::makeCurrent: eglError: %x, this: %p \n"
argument_list|,
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglGetError
argument_list|()
argument_list|,
name|this
argument_list|)
expr_stmt|;
block|}
return|return
name|ok
return|;
block|}
end_function
begin_function
DECL|function|doneCurrent
name|void
name|QWindowsEGLContext
operator|::
name|doneCurrent
parameter_list|()
block|{
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglBindAPI
argument_list|(
name|m_api
argument_list|)
expr_stmt|;
name|bool
name|ok
init|=
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglMakeCurrent
argument_list|(
name|m_eglDisplay
argument_list|,
name|EGL_NO_SURFACE
argument_list|,
name|EGL_NO_SURFACE
argument_list|,
name|EGL_NO_CONTEXT
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|ok
condition|)
name|qWarning
argument_list|(
literal|"QWindowsEGLContext::doneCurrent: eglError: %d, this: %p \n"
argument_list|,
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglGetError
argument_list|()
argument_list|,
name|this
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|swapBuffers
name|void
name|QWindowsEGLContext
operator|::
name|swapBuffers
parameter_list|(
name|QPlatformSurface
modifier|*
name|surface
parameter_list|)
block|{
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglBindAPI
argument_list|(
name|m_api
argument_list|)
expr_stmt|;
name|QWindowsWindow
modifier|*
name|window
init|=
cast|static_cast
argument_list|<
name|QWindowsWindow
operator|*
argument_list|>
argument_list|(
name|surface
argument_list|)
decl_stmt|;
name|EGLSurface
name|eglSurface
init|=
cast|static_cast
argument_list|<
name|EGLSurface
argument_list|>
argument_list|(
name|window
operator|->
name|surface
argument_list|(
name|m_eglConfig
argument_list|)
argument_list|)
decl_stmt|;
name|Q_ASSERT
argument_list|(
name|eglSurface
argument_list|)
expr_stmt|;
name|bool
name|ok
init|=
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglSwapBuffers
argument_list|(
name|m_eglDisplay
argument_list|,
name|eglSurface
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|ok
condition|)
name|qWarning
argument_list|(
literal|"QWindowsEGLContext::swapBuffers: eglError: %d, this: %p \n"
argument_list|,
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglGetError
argument_list|()
argument_list|,
name|this
argument_list|)
expr_stmt|;
block|}
end_function
begin_function
DECL|function|getProcAddress
name|QFunctionPointer
name|QWindowsEGLContext
operator|::
name|getProcAddress
parameter_list|(
specifier|const
name|QByteArray
modifier|&
name|procName
parameter_list|)
block|{
comment|// We support AllGLFunctionsQueryable, which means this function must be able to
comment|// return a function pointer for standard GLES2 functions too. These are not
comment|// guaranteed to be queryable via eglGetProcAddress().
specifier|static
struct|struct
name|StdFunc
block|{
specifier|const
name|char
modifier|*
name|name
decl_stmt|;
name|void
modifier|*
name|func
decl_stmt|;
block|}
name|standardFuncs
index|[]
init|=
block|{
block|{
literal|"glBindTexture"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glBindTexture
block|}
block|,
block|{
literal|"glBlendFunc"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glBlendFunc
block|}
block|,
block|{
literal|"glClear"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glClear
block|}
block|,
block|{
literal|"glClearColor"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glClearColor
block|}
block|,
block|{
literal|"glClearStencil"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glClearStencil
block|}
block|,
block|{
literal|"glColorMask"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glColorMask
block|}
block|,
block|{
literal|"glCopyTexImage2D"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glCopyTexImage2D
block|}
block|,
block|{
literal|"glCopyTexSubImage2D"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glCopyTexSubImage2D
block|}
block|,
block|{
literal|"glCullFace"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glCullFace
block|}
block|,
block|{
literal|"glDeleteTextures"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glDeleteTextures
block|}
block|,
block|{
literal|"glDepthFunc"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glDepthFunc
block|}
block|,
block|{
literal|"glDepthMask"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glDepthMask
block|}
block|,
block|{
literal|"glDisable"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glDisable
block|}
block|,
block|{
literal|"glDrawArrays"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glDrawArrays
block|}
block|,
block|{
literal|"glDrawElements"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glDrawElements
block|}
block|,
block|{
literal|"glEnable"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glEnable
block|}
block|,
block|{
literal|"glFinish"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glFinish
block|}
block|,
block|{
literal|"glFlush"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glFlush
block|}
block|,
block|{
literal|"glFrontFace"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glFrontFace
block|}
block|,
block|{
literal|"glGenTextures"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGenTextures
block|}
block|,
block|{
literal|"glGetBooleanv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetBooleanv
block|}
block|,
block|{
literal|"glGetError"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetError
block|}
block|,
block|{
literal|"glGetFloatv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetFloatv
block|}
block|,
block|{
literal|"glGetIntegerv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetIntegerv
block|}
block|,
block|{
literal|"glGetString"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetString
block|}
block|,
block|{
literal|"glGetTexParameterfv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetTexParameterfv
block|}
block|,
block|{
literal|"glGetTexParameteriv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetTexParameteriv
block|}
block|,
block|{
literal|"glHint"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glHint
block|}
block|,
block|{
literal|"glIsEnabled"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glIsEnabled
block|}
block|,
block|{
literal|"glIsTexture"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glIsTexture
block|}
block|,
block|{
literal|"glLineWidth"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glLineWidth
block|}
block|,
block|{
literal|"glPixelStorei"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glPixelStorei
block|}
block|,
block|{
literal|"glPolygonOffset"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glPolygonOffset
block|}
block|,
block|{
literal|"glReadPixels"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glReadPixels
block|}
block|,
block|{
literal|"glScissor"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glScissor
block|}
block|,
block|{
literal|"glStencilFunc"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glStencilFunc
block|}
block|,
block|{
literal|"glStencilMask"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glStencilMask
block|}
block|,
block|{
literal|"glStencilOp"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glStencilOp
block|}
block|,
block|{
literal|"glTexImage2D"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glTexImage2D
block|}
block|,
block|{
literal|"glTexParameterf"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glTexParameterf
block|}
block|,
block|{
literal|"glTexParameterfv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glTexParameterfv
block|}
block|,
block|{
literal|"glTexParameteri"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glTexParameteri
block|}
block|,
block|{
literal|"glTexParameteriv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glTexParameteriv
block|}
block|,
block|{
literal|"glTexSubImage2D"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glTexSubImage2D
block|}
block|,
block|{
literal|"glViewport"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glViewport
block|}
block|,
block|{
literal|"glActiveTexture"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glActiveTexture
block|}
block|,
block|{
literal|"glAttachShader"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glAttachShader
block|}
block|,
block|{
literal|"glBindAttribLocation"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glBindAttribLocation
block|}
block|,
block|{
literal|"glBindBuffer"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glBindBuffer
block|}
block|,
block|{
literal|"glBindFramebuffer"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glBindFramebuffer
block|}
block|,
block|{
literal|"glBindRenderbuffer"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glBindRenderbuffer
block|}
block|,
block|{
literal|"glBlendColor"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glBlendColor
block|}
block|,
block|{
literal|"glBlendEquation"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glBlendEquation
block|}
block|,
block|{
literal|"glBlendEquationSeparate"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glBlendEquationSeparate
block|}
block|,
block|{
literal|"glBlendFuncSeparate"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glBlendFuncSeparate
block|}
block|,
block|{
literal|"glBufferData"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glBufferData
block|}
block|,
block|{
literal|"glBufferSubData"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glBufferSubData
block|}
block|,
block|{
literal|"glCheckFramebufferStatus"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glCheckFramebufferStatus
block|}
block|,
block|{
literal|"glCompileShader"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glCompileShader
block|}
block|,
block|{
literal|"glCompressedTexImage2D"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glCompressedTexImage2D
block|}
block|,
block|{
literal|"glCompressedTexSubImage2D"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glCompressedTexSubImage2D
block|}
block|,
block|{
literal|"glCreateProgram"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glCreateProgram
block|}
block|,
block|{
literal|"glCreateShader"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glCreateShader
block|}
block|,
block|{
literal|"glDeleteBuffers"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glDeleteBuffers
block|}
block|,
block|{
literal|"glDeleteFramebuffers"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glDeleteFramebuffers
block|}
block|,
block|{
literal|"glDeleteProgram"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glDeleteProgram
block|}
block|,
block|{
literal|"glDeleteRenderbuffers"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glDeleteRenderbuffers
block|}
block|,
block|{
literal|"glDeleteShader"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glDeleteShader
block|}
block|,
block|{
literal|"glDetachShader"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glDetachShader
block|}
block|,
block|{
literal|"glDisableVertexAttribArray"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glDisableVertexAttribArray
block|}
block|,
block|{
literal|"glEnableVertexAttribArray"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glEnableVertexAttribArray
block|}
block|,
block|{
literal|"glFramebufferRenderbuffer"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glFramebufferRenderbuffer
block|}
block|,
block|{
literal|"glFramebufferTexture2D"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glFramebufferTexture2D
block|}
block|,
block|{
literal|"glGenBuffers"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGenBuffers
block|}
block|,
block|{
literal|"glGenerateMipmap"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGenerateMipmap
block|}
block|,
block|{
literal|"glGenFramebuffers"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGenFramebuffers
block|}
block|,
block|{
literal|"glGenRenderbuffers"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGenRenderbuffers
block|}
block|,
block|{
literal|"glGetActiveAttrib"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetActiveAttrib
block|}
block|,
block|{
literal|"glGetActiveUniform"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetActiveUniform
block|}
block|,
block|{
literal|"glGetAttachedShaders"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetAttachedShaders
block|}
block|,
block|{
literal|"glGetAttribLocation"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetAttribLocation
block|}
block|,
block|{
literal|"glGetBufferParameteriv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetBufferParameteriv
block|}
block|,
block|{
literal|"glGetFramebufferAttachmentParameteriv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetFramebufferAttachmentParameteriv
block|}
block|,
block|{
literal|"glGetProgramiv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetProgramiv
block|}
block|,
block|{
literal|"glGetProgramInfoLog"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetProgramInfoLog
block|}
block|,
block|{
literal|"glGetRenderbufferParameteriv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetRenderbufferParameteriv
block|}
block|,
block|{
literal|"glGetShaderiv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetShaderiv
block|}
block|,
block|{
literal|"glGetShaderInfoLog"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetShaderInfoLog
block|}
block|,
block|{
literal|"glGetShaderPrecisionFormat"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetShaderPrecisionFormat
block|}
block|,
block|{
literal|"glGetShaderSource"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetShaderSource
block|}
block|,
block|{
literal|"glGetUniformfv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetUniformfv
block|}
block|,
block|{
literal|"glGetUniformiv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetUniformiv
block|}
block|,
block|{
literal|"glGetUniformLocation"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetUniformLocation
block|}
block|,
block|{
literal|"glGetVertexAttribfv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetVertexAttribfv
block|}
block|,
block|{
literal|"glGetVertexAttribiv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetVertexAttribiv
block|}
block|,
block|{
literal|"glGetVertexAttribPointerv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glGetVertexAttribPointerv
block|}
block|,
block|{
literal|"glIsBuffer"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glIsBuffer
block|}
block|,
block|{
literal|"glIsFramebuffer"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glIsFramebuffer
block|}
block|,
block|{
literal|"glIsProgram"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glIsProgram
block|}
block|,
block|{
literal|"glIsRenderbuffer"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glIsRenderbuffer
block|}
block|,
block|{
literal|"glIsShader"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glIsShader
block|}
block|,
block|{
literal|"glLinkProgram"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glLinkProgram
block|}
block|,
block|{
literal|"glReleaseShaderCompiler"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glReleaseShaderCompiler
block|}
block|,
block|{
literal|"glRenderbufferStorage"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glRenderbufferStorage
block|}
block|,
block|{
literal|"glSampleCoverage"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glSampleCoverage
block|}
block|,
block|{
literal|"glShaderBinary"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glShaderBinary
block|}
block|,
block|{
literal|"glShaderSource"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glShaderSource
block|}
block|,
block|{
literal|"glStencilFuncSeparate"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glStencilFuncSeparate
block|}
block|,
block|{
literal|"glStencilMaskSeparate"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glStencilMaskSeparate
block|}
block|,
block|{
literal|"glStencilOpSeparate"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glStencilOpSeparate
block|}
block|,
block|{
literal|"glUniform1f"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glUniform1f
block|}
block|,
block|{
literal|"glUniform1fv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glUniform1fv
block|}
block|,
block|{
literal|"glUniform1i"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glUniform1i
block|}
block|,
block|{
literal|"glUniform1iv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glUniform1iv
block|}
block|,
block|{
literal|"glUniform2f"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glUniform2f
block|}
block|,
block|{
literal|"glUniform2fv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glUniform2fv
block|}
block|,
block|{
literal|"glUniform2i"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glUniform2i
block|}
block|,
block|{
literal|"glUniform2iv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glUniform2iv
block|}
block|,
block|{
literal|"glUniform3f"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glUniform3f
block|}
block|,
block|{
literal|"glUniform3fv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glUniform3fv
block|}
block|,
block|{
literal|"glUniform3i"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glUniform3i
block|}
block|,
block|{
literal|"glUniform3iv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glUniform3iv
block|}
block|,
block|{
literal|"glUniform4f"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glUniform4f
block|}
block|,
block|{
literal|"glUniform4fv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glUniform4fv
block|}
block|,
block|{
literal|"glUniform4i"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glUniform4i
block|}
block|,
block|{
literal|"glUniform4iv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glUniform4iv
block|}
block|,
block|{
literal|"glUniformMatrix2fv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glUniformMatrix2fv
block|}
block|,
block|{
literal|"glUniformMatrix3fv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glUniformMatrix3fv
block|}
block|,
block|{
literal|"glUniformMatrix4fv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glUniformMatrix4fv
block|}
block|,
block|{
literal|"glUseProgram"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glUseProgram
block|}
block|,
block|{
literal|"glValidateProgram"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glValidateProgram
block|}
block|,
block|{
literal|"glVertexAttrib1f"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glVertexAttrib1f
block|}
block|,
block|{
literal|"glVertexAttrib1fv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glVertexAttrib1fv
block|}
block|,
block|{
literal|"glVertexAttrib2f"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glVertexAttrib2f
block|}
block|,
block|{
literal|"glVertexAttrib2fv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glVertexAttrib2fv
block|}
block|,
block|{
literal|"glVertexAttrib3f"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glVertexAttrib3f
block|}
block|,
block|{
literal|"glVertexAttrib3fv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glVertexAttrib3fv
block|}
block|,
block|{
literal|"glVertexAttrib4f"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glVertexAttrib4f
block|}
block|,
block|{
literal|"glVertexAttrib4fv"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glVertexAttrib4fv
block|}
block|,
block|{
literal|"glVertexAttribPointer"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glVertexAttribPointer
block|}
block|,
block|{
literal|"glClearDepthf"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glClearDepthf
block|}
block|,
block|{
literal|"glDepthRangef"
block|,
operator|(
name|void
operator|*
operator|)
name|QWindowsEGLStaticContext
operator|::
name|libGLESv2
operator|.
name|glDepthRangef
block|}
block|}
struct|;
for|for
control|(
name|size_t
name|i
init|=
literal|0
init|;
name|i
operator|<
sizeof|sizeof
argument_list|(
name|standardFuncs
argument_list|)
operator|/
sizeof|sizeof
argument_list|(
name|StdFunc
argument_list|)
condition|;
operator|++
name|i
control|)
if|if
condition|(
name|procName
operator|==
name|standardFuncs
index|[
name|i
index|]
operator|.
name|name
condition|)
return|return
cast|reinterpret_cast
argument_list|<
name|QFunctionPointer
argument_list|>
argument_list|(
name|standardFuncs
index|[
name|i
index|]
operator|.
name|func
argument_list|)
return|;
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglBindAPI
argument_list|(
name|m_api
argument_list|)
expr_stmt|;
name|QFunctionPointer
name|procAddress
init|=
cast|reinterpret_cast
argument_list|<
name|QFunctionPointer
argument_list|>
argument_list|(
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglGetProcAddress
argument_list|(
name|procName
operator|.
name|constData
argument_list|()
argument_list|)
argument_list|)
decl_stmt|;
if|if
condition|(
name|QWindowsContext
operator|::
name|verbose
operator|>
literal|1
condition|)
name|qCDebug
argument_list|(
name|lcQpaGl
argument_list|)
operator|<<
name|__FUNCTION__
operator|<<
name|procName
operator|<<
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglGetCurrentContext
argument_list|()
operator|<<
literal|"returns"
operator|<<
name|procAddress
expr_stmt|;
if|if
condition|(
operator|!
name|procAddress
operator|&&
name|QWindowsContext
operator|::
name|verbose
condition|)
name|qWarning
argument_list|(
literal|"%s: Unable to resolve '%s'"
argument_list|,
name|__FUNCTION__
argument_list|,
name|procName
operator|.
name|constData
argument_list|()
argument_list|)
expr_stmt|;
return|return
name|procAddress
return|;
block|}
end_function
begin_function
DECL|function|createConfigAttributesFromFormat
specifier|static
name|QVector
argument_list|<
name|EGLint
argument_list|>
name|createConfigAttributesFromFormat
parameter_list|(
specifier|const
name|QSurfaceFormat
modifier|&
name|format
parameter_list|)
block|{
name|int
name|redSize
init|=
name|format
operator|.
name|redBufferSize
argument_list|()
decl_stmt|;
name|int
name|greenSize
init|=
name|format
operator|.
name|greenBufferSize
argument_list|()
decl_stmt|;
name|int
name|blueSize
init|=
name|format
operator|.
name|blueBufferSize
argument_list|()
decl_stmt|;
name|int
name|alphaSize
init|=
name|format
operator|.
name|alphaBufferSize
argument_list|()
decl_stmt|;
name|int
name|depthSize
init|=
name|format
operator|.
name|depthBufferSize
argument_list|()
decl_stmt|;
name|int
name|stencilSize
init|=
name|format
operator|.
name|stencilBufferSize
argument_list|()
decl_stmt|;
name|int
name|sampleCount
init|=
name|format
operator|.
name|samples
argument_list|()
decl_stmt|;
name|QVector
argument_list|<
name|EGLint
argument_list|>
name|configAttributes
decl_stmt|;
name|configAttributes
operator|.
name|reserve
argument_list|(
literal|16
argument_list|)
expr_stmt|;
name|configAttributes
operator|.
name|append
argument_list|(
name|EGL_RED_SIZE
argument_list|)
expr_stmt|;
name|configAttributes
operator|.
name|append
argument_list|(
name|redSize
operator|>
literal|0
condition|?
name|redSize
else|:
literal|0
argument_list|)
expr_stmt|;
name|configAttributes
operator|.
name|append
argument_list|(
name|EGL_GREEN_SIZE
argument_list|)
expr_stmt|;
name|configAttributes
operator|.
name|append
argument_list|(
name|greenSize
operator|>
literal|0
condition|?
name|greenSize
else|:
literal|0
argument_list|)
expr_stmt|;
name|configAttributes
operator|.
name|append
argument_list|(
name|EGL_BLUE_SIZE
argument_list|)
expr_stmt|;
name|configAttributes
operator|.
name|append
argument_list|(
name|blueSize
operator|>
literal|0
condition|?
name|blueSize
else|:
literal|0
argument_list|)
expr_stmt|;
name|configAttributes
operator|.
name|append
argument_list|(
name|EGL_ALPHA_SIZE
argument_list|)
expr_stmt|;
name|configAttributes
operator|.
name|append
argument_list|(
name|alphaSize
operator|>
literal|0
condition|?
name|alphaSize
else|:
literal|0
argument_list|)
expr_stmt|;
name|configAttributes
operator|.
name|append
argument_list|(
name|EGL_DEPTH_SIZE
argument_list|)
expr_stmt|;
name|configAttributes
operator|.
name|append
argument_list|(
name|depthSize
operator|>
literal|0
condition|?
name|depthSize
else|:
literal|0
argument_list|)
expr_stmt|;
name|configAttributes
operator|.
name|append
argument_list|(
name|EGL_STENCIL_SIZE
argument_list|)
expr_stmt|;
name|configAttributes
operator|.
name|append
argument_list|(
name|stencilSize
operator|>
literal|0
condition|?
name|stencilSize
else|:
literal|0
argument_list|)
expr_stmt|;
name|configAttributes
operator|.
name|append
argument_list|(
name|EGL_SAMPLES
argument_list|)
expr_stmt|;
name|configAttributes
operator|.
name|append
argument_list|(
name|sampleCount
operator|>
literal|0
condition|?
name|sampleCount
else|:
literal|0
argument_list|)
expr_stmt|;
name|configAttributes
operator|.
name|append
argument_list|(
name|EGL_SAMPLE_BUFFERS
argument_list|)
expr_stmt|;
name|configAttributes
operator|.
name|append
argument_list|(
name|sampleCount
operator|>
literal|0
argument_list|)
expr_stmt|;
return|return
name|configAttributes
return|;
block|}
end_function
begin_function
DECL|function|reduceConfigAttributes
specifier|static
name|bool
name|reduceConfigAttributes
parameter_list|(
name|QVector
argument_list|<
name|EGLint
argument_list|>
modifier|*
name|configAttributes
parameter_list|)
block|{
name|int
name|i
init|=
operator|-
literal|1
decl_stmt|;
name|i
operator|=
name|configAttributes
operator|->
name|indexOf
argument_list|(
name|EGL_SWAP_BEHAVIOR
argument_list|)
expr_stmt|;
if|if
condition|(
name|i
operator|>=
literal|0
condition|)
block|{
name|configAttributes
operator|->
name|remove
argument_list|(
name|i
argument_list|,
literal|2
argument_list|)
expr_stmt|;
block|}
name|i
operator|=
name|configAttributes
operator|->
name|indexOf
argument_list|(
name|EGL_BUFFER_SIZE
argument_list|)
expr_stmt|;
if|if
condition|(
name|i
operator|>=
literal|0
condition|)
block|{
if|if
condition|(
name|configAttributes
operator|->
name|at
argument_list|(
name|i
operator|+
literal|1
argument_list|)
operator|==
literal|16
condition|)
block|{
name|configAttributes
operator|->
name|remove
argument_list|(
name|i
argument_list|,
literal|2
argument_list|)
expr_stmt|;
return|return
literal|true
return|;
block|}
block|}
name|i
operator|=
name|configAttributes
operator|->
name|indexOf
argument_list|(
name|EGL_SAMPLES
argument_list|)
expr_stmt|;
if|if
condition|(
name|i
operator|>=
literal|0
condition|)
block|{
name|EGLint
name|value
init|=
name|configAttributes
operator|->
name|value
argument_list|(
name|i
operator|+
literal|1
argument_list|,
literal|0
argument_list|)
decl_stmt|;
if|if
condition|(
name|value
operator|>
literal|1
condition|)
name|configAttributes
operator|->
name|replace
argument_list|(
name|i
operator|+
literal|1
argument_list|,
name|qMin
argument_list|(
name|EGLint
argument_list|(
literal|16
argument_list|)
argument_list|,
name|value
operator|/
literal|2
argument_list|)
argument_list|)
expr_stmt|;
else|else
name|configAttributes
operator|->
name|remove
argument_list|(
name|i
argument_list|,
literal|2
argument_list|)
expr_stmt|;
return|return
literal|true
return|;
block|}
name|i
operator|=
name|configAttributes
operator|->
name|indexOf
argument_list|(
name|EGL_SAMPLE_BUFFERS
argument_list|)
expr_stmt|;
if|if
condition|(
name|i
operator|>=
literal|0
condition|)
block|{
name|configAttributes
operator|->
name|remove
argument_list|(
name|i
argument_list|,
literal|2
argument_list|)
expr_stmt|;
return|return
literal|true
return|;
block|}
name|i
operator|=
name|configAttributes
operator|->
name|indexOf
argument_list|(
name|EGL_ALPHA_SIZE
argument_list|)
expr_stmt|;
if|if
condition|(
name|i
operator|>=
literal|0
condition|)
block|{
name|configAttributes
operator|->
name|remove
argument_list|(
name|i
argument_list|,
literal|2
argument_list|)
expr_stmt|;
if|#
directive|if
name|defined
argument_list|(
name|EGL_BIND_TO_TEXTURE_RGBA
argument_list|)
operator|&&
name|defined
argument_list|(
name|EGL_BIND_TO_TEXTURE_RGB
argument_list|)
name|i
operator|=
name|configAttributes
operator|->
name|indexOf
argument_list|(
name|EGL_BIND_TO_TEXTURE_RGBA
argument_list|)
expr_stmt|;
if|if
condition|(
name|i
operator|>=
literal|0
condition|)
block|{
name|configAttributes
operator|->
name|replace
argument_list|(
name|i
argument_list|,
name|EGL_BIND_TO_TEXTURE_RGB
argument_list|)
expr_stmt|;
name|configAttributes
operator|->
name|replace
argument_list|(
name|i
operator|+
literal|1
argument_list|,
literal|true
argument_list|)
expr_stmt|;
block|}
endif|#
directive|endif
return|return
literal|true
return|;
block|}
name|i
operator|=
name|configAttributes
operator|->
name|indexOf
argument_list|(
name|EGL_STENCIL_SIZE
argument_list|)
expr_stmt|;
if|if
condition|(
name|i
operator|>=
literal|0
condition|)
block|{
if|if
condition|(
name|configAttributes
operator|->
name|at
argument_list|(
name|i
operator|+
literal|1
argument_list|)
operator|>
literal|1
condition|)
name|configAttributes
operator|->
name|replace
argument_list|(
name|i
operator|+
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
else|else
name|configAttributes
operator|->
name|remove
argument_list|(
name|i
argument_list|,
literal|2
argument_list|)
expr_stmt|;
return|return
literal|true
return|;
block|}
name|i
operator|=
name|configAttributes
operator|->
name|indexOf
argument_list|(
name|EGL_DEPTH_SIZE
argument_list|)
expr_stmt|;
if|if
condition|(
name|i
operator|>=
literal|0
condition|)
block|{
if|if
condition|(
name|configAttributes
operator|->
name|at
argument_list|(
name|i
operator|+
literal|1
argument_list|)
operator|>
literal|1
condition|)
name|configAttributes
operator|->
name|replace
argument_list|(
name|i
operator|+
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
else|else
name|configAttributes
operator|->
name|remove
argument_list|(
name|i
argument_list|,
literal|2
argument_list|)
expr_stmt|;
return|return
literal|true
return|;
block|}
ifdef|#
directive|ifdef
name|EGL_BIND_TO_TEXTURE_RGB
name|i
operator|=
name|configAttributes
operator|->
name|indexOf
argument_list|(
name|EGL_BIND_TO_TEXTURE_RGB
argument_list|)
expr_stmt|;
if|if
condition|(
name|i
operator|>=
literal|0
condition|)
block|{
name|configAttributes
operator|->
name|remove
argument_list|(
name|i
argument_list|,
literal|2
argument_list|)
expr_stmt|;
return|return
literal|true
return|;
block|}
endif|#
directive|endif
return|return
literal|false
return|;
block|}
end_function
begin_function
DECL|function|chooseConfig
name|EGLConfig
name|QWindowsEGLContext
operator|::
name|chooseConfig
parameter_list|(
specifier|const
name|QSurfaceFormat
modifier|&
name|format
parameter_list|)
block|{
name|QVector
argument_list|<
name|EGLint
argument_list|>
name|configureAttributes
init|=
name|createConfigAttributesFromFormat
argument_list|(
name|format
argument_list|)
decl_stmt|;
name|configureAttributes
operator|.
name|append
argument_list|(
name|EGL_SURFACE_TYPE
argument_list|)
expr_stmt|;
name|configureAttributes
operator|.
name|append
argument_list|(
name|EGL_WINDOW_BIT
argument_list|)
expr_stmt|;
name|configureAttributes
operator|.
name|append
argument_list|(
name|EGL_RENDERABLE_TYPE
argument_list|)
expr_stmt|;
name|configureAttributes
operator|.
name|append
argument_list|(
name|EGL_OPENGL_ES2_BIT
argument_list|)
expr_stmt|;
name|configureAttributes
operator|.
name|append
argument_list|(
name|EGL_NONE
argument_list|)
expr_stmt|;
name|EGLDisplay
name|display
init|=
name|m_staticContext
operator|->
name|display
argument_list|()
decl_stmt|;
name|EGLConfig
name|cfg
init|=
literal|0
decl_stmt|;
do|do
block|{
comment|// Get the number of matching configurations for this set of properties.
name|EGLint
name|matching
init|=
literal|0
decl_stmt|;
if|if
condition|(
operator|!
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglChooseConfig
argument_list|(
name|display
argument_list|,
name|configureAttributes
operator|.
name|constData
argument_list|()
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
operator|&
name|matching
argument_list|)
operator|||
operator|!
name|matching
condition|)
continue|continue;
comment|// Fetch all of the matching configurations and find the
comment|// first that matches the pixel format we wanted.
name|int
name|i
init|=
name|configureAttributes
operator|.
name|indexOf
argument_list|(
name|EGL_RED_SIZE
argument_list|)
decl_stmt|;
name|int
name|confAttrRed
init|=
name|configureAttributes
operator|.
name|at
argument_list|(
name|i
operator|+
literal|1
argument_list|)
decl_stmt|;
name|i
operator|=
name|configureAttributes
operator|.
name|indexOf
argument_list|(
name|EGL_GREEN_SIZE
argument_list|)
expr_stmt|;
name|int
name|confAttrGreen
init|=
name|configureAttributes
operator|.
name|at
argument_list|(
name|i
operator|+
literal|1
argument_list|)
decl_stmt|;
name|i
operator|=
name|configureAttributes
operator|.
name|indexOf
argument_list|(
name|EGL_BLUE_SIZE
argument_list|)
expr_stmt|;
name|int
name|confAttrBlue
init|=
name|configureAttributes
operator|.
name|at
argument_list|(
name|i
operator|+
literal|1
argument_list|)
decl_stmt|;
name|i
operator|=
name|configureAttributes
operator|.
name|indexOf
argument_list|(
name|EGL_ALPHA_SIZE
argument_list|)
expr_stmt|;
name|int
name|confAttrAlpha
init|=
name|i
operator|==
operator|-
literal|1
condition|?
literal|0
else|:
name|configureAttributes
operator|.
name|at
argument_list|(
name|i
operator|+
literal|1
argument_list|)
decl_stmt|;
name|QVector
argument_list|<
name|EGLConfig
argument_list|>
name|configs
argument_list|(
name|matching
argument_list|)
decl_stmt|;
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglChooseConfig
argument_list|(
name|display
argument_list|,
name|configureAttributes
operator|.
name|constData
argument_list|()
argument_list|,
name|configs
operator|.
name|data
argument_list|()
argument_list|,
name|configs
operator|.
name|size
argument_list|()
argument_list|,
operator|&
name|matching
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|cfg
operator|&&
name|matching
operator|>
literal|0
condition|)
name|cfg
operator|=
name|configs
operator|.
name|first
argument_list|()
expr_stmt|;
name|EGLint
name|red
init|=
literal|0
decl_stmt|;
name|EGLint
name|green
init|=
literal|0
decl_stmt|;
name|EGLint
name|blue
init|=
literal|0
decl_stmt|;
name|EGLint
name|alpha
init|=
literal|0
decl_stmt|;
for|for
control|(
name|int
name|i
init|=
literal|0
init|;
name|i
operator|<
name|configs
operator|.
name|size
argument_list|()
condition|;
operator|++
name|i
control|)
block|{
if|if
condition|(
name|confAttrRed
condition|)
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglGetConfigAttrib
argument_list|(
name|display
argument_list|,
name|configs
index|[
name|i
index|]
argument_list|,
name|EGL_RED_SIZE
argument_list|,
operator|&
name|red
argument_list|)
expr_stmt|;
if|if
condition|(
name|confAttrGreen
condition|)
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglGetConfigAttrib
argument_list|(
name|display
argument_list|,
name|configs
index|[
name|i
index|]
argument_list|,
name|EGL_GREEN_SIZE
argument_list|,
operator|&
name|green
argument_list|)
expr_stmt|;
if|if
condition|(
name|confAttrBlue
condition|)
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglGetConfigAttrib
argument_list|(
name|display
argument_list|,
name|configs
index|[
name|i
index|]
argument_list|,
name|EGL_BLUE_SIZE
argument_list|,
operator|&
name|blue
argument_list|)
expr_stmt|;
if|if
condition|(
name|confAttrAlpha
condition|)
name|QWindowsEGLStaticContext
operator|::
name|libEGL
operator|.
name|eglGetConfigAttrib
argument_list|(
name|display
argument_list|,
name|configs
index|[
name|i
index|]
argument_list|,
name|EGL_ALPHA_SIZE
argument_list|,
operator|&
name|alpha
argument_list|)
expr_stmt|;
if|if
condition|(
name|red
operator|==
name|confAttrRed
operator|&&
name|green
operator|==
name|confAttrGreen
operator|&&
name|blue
operator|==
name|confAttrBlue
operator|&&
name|alpha
operator|==
name|confAttrAlpha
condition|)
return|return
name|configs
index|[
name|i
index|]
return|;
block|}
block|}
do|while
condition|(
name|reduceConfigAttributes
argument_list|(
operator|&
name|configureAttributes
argument_list|)
condition|)
do|;
if|if
condition|(
operator|!
name|cfg
condition|)
name|qWarning
argument_list|(
literal|"Cannot find EGLConfig, returning null config"
argument_list|)
expr_stmt|;
return|return
name|cfg
return|;
block|}
end_function
begin_macro
name|QT_END_NAMESPACE
end_macro
end_unit
