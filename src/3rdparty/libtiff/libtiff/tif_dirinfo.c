begin_unit
begin_comment
comment|/* $Id: tif_dirinfo.c,v 1.65.2.7 2009-09-17 18:00:28 bfriesen Exp $ */
end_comment
begin_comment
comment|/*  * Copyright (c) 1988-1997 Sam Leffler  * Copyright (c) 1991-1997 Silicon Graphics, Inc.  *  * Permission to use, copy, modify, distribute, and sell this software and   * its documentation for any purpose is hereby granted without fee, provided  * that (i) the above copyright notices and this permission notice appear in  * all copies of the software and related documentation, and (ii) the names of  * Sam Leffler and Silicon Graphics may not be used in any advertising or  * publicity relating to the software without the specific, prior written  * permission of Sam Leffler and Silicon Graphics.  *   * THE SOFTWARE IS PROVIDED "AS-IS" AND WITHOUT WARRANTY OF ANY KIND,   * EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY   * WARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.    *   * IN NO EVENT SHALL SAM LEFFLER OR SILICON GRAPHICS BE LIABLE FOR  * ANY SPECIAL, INCIDENTAL, INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND,  * OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS,  * WHETHER OR NOT ADVISED OF THE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF   * LIABILITY, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE   * OF THIS SOFTWARE.  */
end_comment
begin_comment
comment|/*  * TIFF Library.  *  * Core Directory Tag Support.  */
end_comment
begin_include
include|#
directive|include
file|"tiffiop.h"
end_include
begin_include
include|#
directive|include
file|<stdlib.h>
end_include
begin_include
include|#
directive|include
file|<string.h>
end_include
begin_comment
comment|/*  * NB: NB: THIS ARRAY IS ASSUMED TO BE SORTED BY TAG.  *       If a tag can have both LONG and SHORT types then the LONG must be  *       placed before the SHORT for writing to work properly.  *  * NOTE: The second field (field_readcount) and third field (field_writecount)  *       sometimes use the values TIFF_VARIABLE (-1), TIFF_VARIABLE2 (-3)  *       and TIFFTAG_SPP (-2). The macros should be used but would throw off   *       the formatting of the code, so please interprete the -1, -2 and -3   *       values accordingly.  */
end_comment
begin_decl_stmt
specifier|static
specifier|const
name|TIFFFieldInfo
DECL|variable|tiffFieldInfo
name|tiffFieldInfo
index|[]
init|=
block|{
block|{
name|TIFFTAG_SUBFILETYPE
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_SUBFILETYPE
block|,
literal|1
block|,
literal|0
block|,
literal|"SubfileType"
block|}
block|,
comment|/* XXX SHORT for compatibility w/ old versions of the library */
block|{
name|TIFFTAG_SUBFILETYPE
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_SUBFILETYPE
block|,
literal|1
block|,
literal|0
block|,
literal|"SubfileType"
block|}
block|,
block|{
name|TIFFTAG_OSUBFILETYPE
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_SUBFILETYPE
block|,
literal|1
block|,
literal|0
block|,
literal|"OldSubfileType"
block|}
block|,
block|{
name|TIFFTAG_IMAGEWIDTH
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_IMAGEDIMENSIONS
block|,
literal|0
block|,
literal|0
block|,
literal|"ImageWidth"
block|}
block|,
block|{
name|TIFFTAG_IMAGEWIDTH
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_IMAGEDIMENSIONS
block|,
literal|0
block|,
literal|0
block|,
literal|"ImageWidth"
block|}
block|,
block|{
name|TIFFTAG_IMAGELENGTH
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_IMAGEDIMENSIONS
block|,
literal|1
block|,
literal|0
block|,
literal|"ImageLength"
block|}
block|,
block|{
name|TIFFTAG_IMAGELENGTH
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_IMAGEDIMENSIONS
block|,
literal|1
block|,
literal|0
block|,
literal|"ImageLength"
block|}
block|,
block|{
name|TIFFTAG_BITSPERSAMPLE
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_BITSPERSAMPLE
block|,
literal|0
block|,
literal|0
block|,
literal|"BitsPerSample"
block|}
block|,
comment|/* XXX LONG for compatibility with some broken TIFF writers */
block|{
name|TIFFTAG_BITSPERSAMPLE
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_BITSPERSAMPLE
block|,
literal|0
block|,
literal|0
block|,
literal|"BitsPerSample"
block|}
block|,
block|{
name|TIFFTAG_COMPRESSION
block|,
operator|-
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_COMPRESSION
block|,
literal|0
block|,
literal|0
block|,
literal|"Compression"
block|}
block|,
comment|/* XXX LONG for compatibility with some broken TIFF writers */
block|{
name|TIFFTAG_COMPRESSION
block|,
operator|-
literal|1
block|,
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_COMPRESSION
block|,
literal|0
block|,
literal|0
block|,
literal|"Compression"
block|}
block|,
block|{
name|TIFFTAG_PHOTOMETRIC
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_PHOTOMETRIC
block|,
literal|0
block|,
literal|0
block|,
literal|"PhotometricInterpretation"
block|}
block|,
comment|/* XXX LONG for compatibility with some broken TIFF writers */
block|{
name|TIFFTAG_PHOTOMETRIC
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_PHOTOMETRIC
block|,
literal|0
block|,
literal|0
block|,
literal|"PhotometricInterpretation"
block|}
block|,
block|{
name|TIFFTAG_THRESHHOLDING
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_THRESHHOLDING
block|,
literal|1
block|,
literal|0
block|,
literal|"Threshholding"
block|}
block|,
block|{
name|TIFFTAG_CELLWIDTH
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_IGNORE
block|,
literal|1
block|,
literal|0
block|,
literal|"CellWidth"
block|}
block|,
block|{
name|TIFFTAG_CELLLENGTH
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_IGNORE
block|,
literal|1
block|,
literal|0
block|,
literal|"CellLength"
block|}
block|,
block|{
name|TIFFTAG_FILLORDER
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_FILLORDER
block|,
literal|0
block|,
literal|0
block|,
literal|"FillOrder"
block|}
block|,
block|{
name|TIFFTAG_DOCUMENTNAME
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"DocumentName"
block|}
block|,
block|{
name|TIFFTAG_IMAGEDESCRIPTION
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"ImageDescription"
block|}
block|,
block|{
name|TIFFTAG_MAKE
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"Make"
block|}
block|,
block|{
name|TIFFTAG_MODEL
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"Model"
block|}
block|,
block|{
name|TIFFTAG_STRIPOFFSETS
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_STRIPOFFSETS
block|,
literal|0
block|,
literal|0
block|,
literal|"StripOffsets"
block|}
block|,
block|{
name|TIFFTAG_STRIPOFFSETS
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_STRIPOFFSETS
block|,
literal|0
block|,
literal|0
block|,
literal|"StripOffsets"
block|}
block|,
block|{
name|TIFFTAG_ORIENTATION
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_ORIENTATION
block|,
literal|0
block|,
literal|0
block|,
literal|"Orientation"
block|}
block|,
block|{
name|TIFFTAG_SAMPLESPERPIXEL
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_SAMPLESPERPIXEL
block|,
literal|0
block|,
literal|0
block|,
literal|"SamplesPerPixel"
block|}
block|,
block|{
name|TIFFTAG_ROWSPERSTRIP
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_ROWSPERSTRIP
block|,
literal|0
block|,
literal|0
block|,
literal|"RowsPerStrip"
block|}
block|,
block|{
name|TIFFTAG_ROWSPERSTRIP
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_ROWSPERSTRIP
block|,
literal|0
block|,
literal|0
block|,
literal|"RowsPerStrip"
block|}
block|,
block|{
name|TIFFTAG_STRIPBYTECOUNTS
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_STRIPBYTECOUNTS
block|,
literal|0
block|,
literal|0
block|,
literal|"StripByteCounts"
block|}
block|,
block|{
name|TIFFTAG_STRIPBYTECOUNTS
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_STRIPBYTECOUNTS
block|,
literal|0
block|,
literal|0
block|,
literal|"StripByteCounts"
block|}
block|,
block|{
name|TIFFTAG_MINSAMPLEVALUE
block|,
operator|-
literal|2
block|,
operator|-
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_MINSAMPLEVALUE
block|,
literal|1
block|,
literal|0
block|,
literal|"MinSampleValue"
block|}
block|,
block|{
name|TIFFTAG_MAXSAMPLEVALUE
block|,
operator|-
literal|2
block|,
operator|-
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_MAXSAMPLEVALUE
block|,
literal|1
block|,
literal|0
block|,
literal|"MaxSampleValue"
block|}
block|,
block|{
name|TIFFTAG_XRESOLUTION
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_RESOLUTION
block|,
literal|1
block|,
literal|0
block|,
literal|"XResolution"
block|}
block|,
block|{
name|TIFFTAG_YRESOLUTION
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_RESOLUTION
block|,
literal|1
block|,
literal|0
block|,
literal|"YResolution"
block|}
block|,
block|{
name|TIFFTAG_PLANARCONFIG
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_PLANARCONFIG
block|,
literal|0
block|,
literal|0
block|,
literal|"PlanarConfiguration"
block|}
block|,
block|{
name|TIFFTAG_PAGENAME
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"PageName"
block|}
block|,
block|{
name|TIFFTAG_XPOSITION
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_POSITION
block|,
literal|1
block|,
literal|0
block|,
literal|"XPosition"
block|}
block|,
block|{
name|TIFFTAG_YPOSITION
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_POSITION
block|,
literal|1
block|,
literal|0
block|,
literal|"YPosition"
block|}
block|,
block|{
name|TIFFTAG_FREEOFFSETS
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_IGNORE
block|,
literal|0
block|,
literal|0
block|,
literal|"FreeOffsets"
block|}
block|,
block|{
name|TIFFTAG_FREEBYTECOUNTS
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_IGNORE
block|,
literal|0
block|,
literal|0
block|,
literal|"FreeByteCounts"
block|}
block|,
block|{
name|TIFFTAG_GRAYRESPONSEUNIT
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_IGNORE
block|,
literal|1
block|,
literal|0
block|,
literal|"GrayResponseUnit"
block|}
block|,
block|{
name|TIFFTAG_GRAYRESPONSECURVE
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_IGNORE
block|,
literal|1
block|,
literal|0
block|,
literal|"GrayResponseCurve"
block|}
block|,
block|{
name|TIFFTAG_RESOLUTIONUNIT
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_RESOLUTIONUNIT
block|,
literal|1
block|,
literal|0
block|,
literal|"ResolutionUnit"
block|}
block|,
block|{
name|TIFFTAG_PAGENUMBER
block|,
literal|2
block|,
literal|2
block|,
name|TIFF_SHORT
block|,
name|FIELD_PAGENUMBER
block|,
literal|1
block|,
literal|0
block|,
literal|"PageNumber"
block|}
block|,
block|{
name|TIFFTAG_COLORRESPONSEUNIT
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_IGNORE
block|,
literal|1
block|,
literal|0
block|,
literal|"ColorResponseUnit"
block|}
block|,
block|{
name|TIFFTAG_TRANSFERFUNCTION
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_TRANSFERFUNCTION
block|,
literal|1
block|,
literal|0
block|,
literal|"TransferFunction"
block|}
block|,
block|{
name|TIFFTAG_SOFTWARE
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"Software"
block|}
block|,
block|{
name|TIFFTAG_DATETIME
block|,
literal|20
block|,
literal|20
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"DateTime"
block|}
block|,
block|{
name|TIFFTAG_ARTIST
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"Artist"
block|}
block|,
block|{
name|TIFFTAG_HOSTCOMPUTER
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"HostComputer"
block|}
block|,
block|{
name|TIFFTAG_WHITEPOINT
block|,
literal|2
block|,
literal|2
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"WhitePoint"
block|}
block|,
block|{
name|TIFFTAG_PRIMARYCHROMATICITIES
block|,
literal|6
block|,
literal|6
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"PrimaryChromaticities"
block|}
block|,
block|{
name|TIFFTAG_COLORMAP
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_COLORMAP
block|,
literal|1
block|,
literal|0
block|,
literal|"ColorMap"
block|}
block|,
block|{
name|TIFFTAG_HALFTONEHINTS
block|,
literal|2
block|,
literal|2
block|,
name|TIFF_SHORT
block|,
name|FIELD_HALFTONEHINTS
block|,
literal|1
block|,
literal|0
block|,
literal|"HalftoneHints"
block|}
block|,
block|{
name|TIFFTAG_TILEWIDTH
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_TILEDIMENSIONS
block|,
literal|0
block|,
literal|0
block|,
literal|"TileWidth"
block|}
block|,
block|{
name|TIFFTAG_TILEWIDTH
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_TILEDIMENSIONS
block|,
literal|0
block|,
literal|0
block|,
literal|"TileWidth"
block|}
block|,
block|{
name|TIFFTAG_TILELENGTH
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_TILEDIMENSIONS
block|,
literal|0
block|,
literal|0
block|,
literal|"TileLength"
block|}
block|,
block|{
name|TIFFTAG_TILELENGTH
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_TILEDIMENSIONS
block|,
literal|0
block|,
literal|0
block|,
literal|"TileLength"
block|}
block|,
block|{
name|TIFFTAG_TILEOFFSETS
block|,
operator|-
literal|1
block|,
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_STRIPOFFSETS
block|,
literal|0
block|,
literal|0
block|,
literal|"TileOffsets"
block|}
block|,
block|{
name|TIFFTAG_TILEBYTECOUNTS
block|,
operator|-
literal|1
block|,
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_STRIPBYTECOUNTS
block|,
literal|0
block|,
literal|0
block|,
literal|"TileByteCounts"
block|}
block|,
block|{
name|TIFFTAG_TILEBYTECOUNTS
block|,
operator|-
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_STRIPBYTECOUNTS
block|,
literal|0
block|,
literal|0
block|,
literal|"TileByteCounts"
block|}
block|,
block|{
name|TIFFTAG_SUBIFD
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_IFD
block|,
name|FIELD_SUBIFD
block|,
literal|1
block|,
literal|1
block|,
literal|"SubIFD"
block|}
block|,
block|{
name|TIFFTAG_SUBIFD
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_SUBIFD
block|,
literal|1
block|,
literal|1
block|,
literal|"SubIFD"
block|}
block|,
block|{
name|TIFFTAG_INKSET
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"InkSet"
block|}
block|,
block|{
name|TIFFTAG_INKNAMES
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_ASCII
block|,
name|FIELD_INKNAMES
block|,
literal|1
block|,
literal|1
block|,
literal|"InkNames"
block|}
block|,
block|{
name|TIFFTAG_NUMBEROFINKS
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"NumberOfInks"
block|}
block|,
block|{
name|TIFFTAG_DOTRANGE
block|,
literal|2
block|,
literal|2
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"DotRange"
block|}
block|,
block|{
name|TIFFTAG_DOTRANGE
block|,
literal|2
block|,
literal|2
block|,
name|TIFF_BYTE
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"DotRange"
block|}
block|,
block|{
name|TIFFTAG_TARGETPRINTER
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"TargetPrinter"
block|}
block|,
block|{
name|TIFFTAG_EXTRASAMPLES
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_EXTRASAMPLES
block|,
literal|0
block|,
literal|1
block|,
literal|"ExtraSamples"
block|}
block|,
comment|/* XXX for bogus Adobe Photoshop v2.5 files */
block|{
name|TIFFTAG_EXTRASAMPLES
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_BYTE
block|,
name|FIELD_EXTRASAMPLES
block|,
literal|0
block|,
literal|1
block|,
literal|"ExtraSamples"
block|}
block|,
block|{
name|TIFFTAG_SAMPLEFORMAT
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_SAMPLEFORMAT
block|,
literal|0
block|,
literal|0
block|,
literal|"SampleFormat"
block|}
block|,
block|{
name|TIFFTAG_SMINSAMPLEVALUE
block|,
operator|-
literal|2
block|,
operator|-
literal|1
block|,
name|TIFF_ANY
block|,
name|FIELD_SMINSAMPLEVALUE
block|,
literal|1
block|,
literal|0
block|,
literal|"SMinSampleValue"
block|}
block|,
block|{
name|TIFFTAG_SMAXSAMPLEVALUE
block|,
operator|-
literal|2
block|,
operator|-
literal|1
block|,
name|TIFF_ANY
block|,
name|FIELD_SMAXSAMPLEVALUE
block|,
literal|1
block|,
literal|0
block|,
literal|"SMaxSampleValue"
block|}
block|,
block|{
name|TIFFTAG_CLIPPATH
block|,
operator|-
literal|1
block|,
operator|-
literal|3
block|,
name|TIFF_BYTE
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"ClipPath"
block|}
block|,
block|{
name|TIFFTAG_XCLIPPATHUNITS
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SLONG
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"XClipPathUnits"
block|}
block|,
block|{
name|TIFFTAG_XCLIPPATHUNITS
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SSHORT
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"XClipPathUnits"
block|}
block|,
block|{
name|TIFFTAG_XCLIPPATHUNITS
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SBYTE
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"XClipPathUnits"
block|}
block|,
block|{
name|TIFFTAG_YCLIPPATHUNITS
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SLONG
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"YClipPathUnits"
block|}
block|,
block|{
name|TIFFTAG_YCLIPPATHUNITS
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SSHORT
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"YClipPathUnits"
block|}
block|,
block|{
name|TIFFTAG_YCLIPPATHUNITS
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SBYTE
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"YClipPathUnits"
block|}
block|,
block|{
name|TIFFTAG_YCBCRCOEFFICIENTS
block|,
literal|3
block|,
literal|3
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"YCbCrCoefficients"
block|}
block|,
block|{
name|TIFFTAG_YCBCRSUBSAMPLING
block|,
literal|2
block|,
literal|2
block|,
name|TIFF_SHORT
block|,
name|FIELD_YCBCRSUBSAMPLING
block|,
literal|0
block|,
literal|0
block|,
literal|"YCbCrSubsampling"
block|}
block|,
block|{
name|TIFFTAG_YCBCRPOSITIONING
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_YCBCRPOSITIONING
block|,
literal|0
block|,
literal|0
block|,
literal|"YCbCrPositioning"
block|}
block|,
block|{
name|TIFFTAG_REFERENCEBLACKWHITE
block|,
literal|6
block|,
literal|6
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"ReferenceBlackWhite"
block|}
block|,
comment|/* XXX temporarily accept LONG for backwards compatibility */
block|{
name|TIFFTAG_REFERENCEBLACKWHITE
block|,
literal|6
block|,
literal|6
block|,
name|TIFF_LONG
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"ReferenceBlackWhite"
block|}
block|,
block|{
name|TIFFTAG_XMLPACKET
block|,
operator|-
literal|3
block|,
operator|-
literal|3
block|,
name|TIFF_BYTE
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"XMLPacket"
block|}
block|,
comment|/* begin SGI tags */
block|{
name|TIFFTAG_MATTEING
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_EXTRASAMPLES
block|,
literal|0
block|,
literal|0
block|,
literal|"Matteing"
block|}
block|,
block|{
name|TIFFTAG_DATATYPE
block|,
operator|-
literal|2
block|,
operator|-
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_SAMPLEFORMAT
block|,
literal|0
block|,
literal|0
block|,
literal|"DataType"
block|}
block|,
block|{
name|TIFFTAG_IMAGEDEPTH
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_IMAGEDEPTH
block|,
literal|0
block|,
literal|0
block|,
literal|"ImageDepth"
block|}
block|,
block|{
name|TIFFTAG_IMAGEDEPTH
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_IMAGEDEPTH
block|,
literal|0
block|,
literal|0
block|,
literal|"ImageDepth"
block|}
block|,
block|{
name|TIFFTAG_TILEDEPTH
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_TILEDEPTH
block|,
literal|0
block|,
literal|0
block|,
literal|"TileDepth"
block|}
block|,
block|{
name|TIFFTAG_TILEDEPTH
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_TILEDEPTH
block|,
literal|0
block|,
literal|0
block|,
literal|"TileDepth"
block|}
block|,
comment|/* end SGI tags */
comment|/* begin Pixar tags */
block|{
name|TIFFTAG_PIXAR_IMAGEFULLWIDTH
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"ImageFullWidth"
block|}
block|,
block|{
name|TIFFTAG_PIXAR_IMAGEFULLLENGTH
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"ImageFullLength"
block|}
block|,
block|{
name|TIFFTAG_PIXAR_TEXTUREFORMAT
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"TextureFormat"
block|}
block|,
block|{
name|TIFFTAG_PIXAR_WRAPMODES
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"TextureWrapModes"
block|}
block|,
block|{
name|TIFFTAG_PIXAR_FOVCOT
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_FLOAT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"FieldOfViewCotangent"
block|}
block|,
block|{
name|TIFFTAG_PIXAR_MATRIX_WORLDTOSCREEN
block|,
literal|16
block|,
literal|16
block|,
name|TIFF_FLOAT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"MatrixWorldToScreen"
block|}
block|,
block|{
name|TIFFTAG_PIXAR_MATRIX_WORLDTOCAMERA
block|,
literal|16
block|,
literal|16
block|,
name|TIFF_FLOAT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"MatrixWorldToCamera"
block|}
block|,
block|{
name|TIFFTAG_COPYRIGHT
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"Copyright"
block|}
block|,
comment|/* end Pixar tags */
block|{
name|TIFFTAG_RICHTIFFIPTC
block|,
operator|-
literal|3
block|,
operator|-
literal|3
block|,
name|TIFF_LONG
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"RichTIFFIPTC"
block|}
block|,
block|{
name|TIFFTAG_PHOTOSHOP
block|,
operator|-
literal|3
block|,
operator|-
literal|3
block|,
name|TIFF_BYTE
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"Photoshop"
block|}
block|,
block|{
name|TIFFTAG_EXIFIFD
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"EXIFIFDOffset"
block|}
block|,
block|{
name|TIFFTAG_ICCPROFILE
block|,
operator|-
literal|3
block|,
operator|-
literal|3
block|,
name|TIFF_UNDEFINED
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"ICC Profile"
block|}
block|,
block|{
name|TIFFTAG_GPSIFD
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"GPSIFDOffset"
block|}
block|,
block|{
name|TIFFTAG_STONITS
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_DOUBLE
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"StoNits"
block|}
block|,
block|{
name|TIFFTAG_INTEROPERABILITYIFD
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"InteroperabilityIFDOffset"
block|}
block|,
comment|/* begin DNG tags */
block|{
name|TIFFTAG_DNGVERSION
block|,
literal|4
block|,
literal|4
block|,
name|TIFF_BYTE
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"DNGVersion"
block|}
block|,
block|{
name|TIFFTAG_DNGBACKWARDVERSION
block|,
literal|4
block|,
literal|4
block|,
name|TIFF_BYTE
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"DNGBackwardVersion"
block|}
block|,
block|{
name|TIFFTAG_UNIQUECAMERAMODEL
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"UniqueCameraModel"
block|}
block|,
block|{
name|TIFFTAG_LOCALIZEDCAMERAMODEL
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"LocalizedCameraModel"
block|}
block|,
block|{
name|TIFFTAG_LOCALIZEDCAMERAMODEL
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_BYTE
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|1
block|,
literal|"LocalizedCameraModel"
block|}
block|,
block|{
name|TIFFTAG_CFAPLANECOLOR
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_BYTE
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"CFAPlaneColor"
block|}
block|,
block|{
name|TIFFTAG_CFALAYOUT
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"CFALayout"
block|}
block|,
block|{
name|TIFFTAG_LINEARIZATIONTABLE
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"LinearizationTable"
block|}
block|,
block|{
name|TIFFTAG_BLACKLEVELREPEATDIM
block|,
literal|2
block|,
literal|2
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"BlackLevelRepeatDim"
block|}
block|,
block|{
name|TIFFTAG_BLACKLEVEL
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"BlackLevel"
block|}
block|,
block|{
name|TIFFTAG_BLACKLEVEL
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"BlackLevel"
block|}
block|,
block|{
name|TIFFTAG_BLACKLEVEL
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"BlackLevel"
block|}
block|,
block|{
name|TIFFTAG_BLACKLEVELDELTAH
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SRATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"BlackLevelDeltaH"
block|}
block|,
block|{
name|TIFFTAG_BLACKLEVELDELTAV
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SRATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"BlackLevelDeltaV"
block|}
block|,
block|{
name|TIFFTAG_WHITELEVEL
block|,
operator|-
literal|2
block|,
operator|-
literal|2
block|,
name|TIFF_LONG
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"WhiteLevel"
block|}
block|,
block|{
name|TIFFTAG_WHITELEVEL
block|,
operator|-
literal|2
block|,
operator|-
literal|2
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"WhiteLevel"
block|}
block|,
block|{
name|TIFFTAG_DEFAULTSCALE
block|,
literal|2
block|,
literal|2
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"DefaultScale"
block|}
block|,
block|{
name|TIFFTAG_BESTQUALITYSCALE
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"BestQualityScale"
block|}
block|,
block|{
name|TIFFTAG_DEFAULTCROPORIGIN
block|,
literal|2
block|,
literal|2
block|,
name|TIFF_LONG
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"DefaultCropOrigin"
block|}
block|,
block|{
name|TIFFTAG_DEFAULTCROPORIGIN
block|,
literal|2
block|,
literal|2
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"DefaultCropOrigin"
block|}
block|,
block|{
name|TIFFTAG_DEFAULTCROPORIGIN
block|,
literal|2
block|,
literal|2
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"DefaultCropOrigin"
block|}
block|,
block|{
name|TIFFTAG_DEFAULTCROPSIZE
block|,
literal|2
block|,
literal|2
block|,
name|TIFF_LONG
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"DefaultCropSize"
block|}
block|,
block|{
name|TIFFTAG_DEFAULTCROPSIZE
block|,
literal|2
block|,
literal|2
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"DefaultCropSize"
block|}
block|,
block|{
name|TIFFTAG_DEFAULTCROPSIZE
block|,
literal|2
block|,
literal|2
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"DefaultCropSize"
block|}
block|,
block|{
name|TIFFTAG_COLORMATRIX1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SRATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"ColorMatrix1"
block|}
block|,
block|{
name|TIFFTAG_COLORMATRIX2
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SRATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"ColorMatrix2"
block|}
block|,
block|{
name|TIFFTAG_CAMERACALIBRATION1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SRATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"CameraCalibration1"
block|}
block|,
block|{
name|TIFFTAG_CAMERACALIBRATION2
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SRATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"CameraCalibration2"
block|}
block|,
block|{
name|TIFFTAG_REDUCTIONMATRIX1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SRATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"ReductionMatrix1"
block|}
block|,
block|{
name|TIFFTAG_REDUCTIONMATRIX2
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SRATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"ReductionMatrix2"
block|}
block|,
block|{
name|TIFFTAG_ANALOGBALANCE
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"AnalogBalance"
block|}
block|,
block|{
name|TIFFTAG_ASSHOTNEUTRAL
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"AsShotNeutral"
block|}
block|,
block|{
name|TIFFTAG_ASSHOTNEUTRAL
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"AsShotNeutral"
block|}
block|,
block|{
name|TIFFTAG_ASSHOTWHITEXY
block|,
literal|2
block|,
literal|2
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"AsShotWhiteXY"
block|}
block|,
block|{
name|TIFFTAG_BASELINEEXPOSURE
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SRATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"BaselineExposure"
block|}
block|,
block|{
name|TIFFTAG_BASELINENOISE
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"BaselineNoise"
block|}
block|,
block|{
name|TIFFTAG_BASELINESHARPNESS
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"BaselineSharpness"
block|}
block|,
block|{
name|TIFFTAG_BAYERGREENSPLIT
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"BayerGreenSplit"
block|}
block|,
block|{
name|TIFFTAG_LINEARRESPONSELIMIT
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"LinearResponseLimit"
block|}
block|,
block|{
name|TIFFTAG_CAMERASERIALNUMBER
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"CameraSerialNumber"
block|}
block|,
block|{
name|TIFFTAG_LENSINFO
block|,
literal|4
block|,
literal|4
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"LensInfo"
block|}
block|,
block|{
name|TIFFTAG_CHROMABLURRADIUS
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"ChromaBlurRadius"
block|}
block|,
block|{
name|TIFFTAG_ANTIALIASSTRENGTH
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"AntiAliasStrength"
block|}
block|,
block|{
name|TIFFTAG_SHADOWSCALE
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"ShadowScale"
block|}
block|,
block|{
name|TIFFTAG_DNGPRIVATEDATA
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_BYTE
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"DNGPrivateData"
block|}
block|,
block|{
name|TIFFTAG_MAKERNOTESAFETY
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"MakerNoteSafety"
block|}
block|,
block|{
name|TIFFTAG_CALIBRATIONILLUMINANT1
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"CalibrationIlluminant1"
block|}
block|,
block|{
name|TIFFTAG_CALIBRATIONILLUMINANT2
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"CalibrationIlluminant2"
block|}
block|,
block|{
name|TIFFTAG_RAWDATAUNIQUEID
block|,
literal|16
block|,
literal|16
block|,
name|TIFF_BYTE
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"RawDataUniqueID"
block|}
block|,
block|{
name|TIFFTAG_ORIGINALRAWFILENAME
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"OriginalRawFileName"
block|}
block|,
block|{
name|TIFFTAG_ORIGINALRAWFILENAME
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_BYTE
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|1
block|,
literal|"OriginalRawFileName"
block|}
block|,
block|{
name|TIFFTAG_ORIGINALRAWFILEDATA
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_UNDEFINED
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"OriginalRawFileData"
block|}
block|,
block|{
name|TIFFTAG_ACTIVEAREA
block|,
literal|4
block|,
literal|4
block|,
name|TIFF_LONG
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"ActiveArea"
block|}
block|,
block|{
name|TIFFTAG_ACTIVEAREA
block|,
literal|4
block|,
literal|4
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|0
block|,
literal|"ActiveArea"
block|}
block|,
block|{
name|TIFFTAG_MASKEDAREAS
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"MaskedAreas"
block|}
block|,
block|{
name|TIFFTAG_ASSHOTICCPROFILE
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_UNDEFINED
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"AsShotICCProfile"
block|}
block|,
block|{
name|TIFFTAG_ASSHOTPREPROFILEMATRIX
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SRATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"AsShotPreProfileMatrix"
block|}
block|,
block|{
name|TIFFTAG_CURRENTICCPROFILE
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_UNDEFINED
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"CurrentICCProfile"
block|}
block|,
block|{
name|TIFFTAG_CURRENTPREPROFILEMATRIX
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SRATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|0
block|,
literal|1
block|,
literal|"CurrentPreProfileMatrix"
block|}
block|,
comment|/* end DNG tags */
block|}
decl_stmt|;
end_decl_stmt
begin_decl_stmt
specifier|static
specifier|const
name|TIFFFieldInfo
DECL|variable|exifFieldInfo
name|exifFieldInfo
index|[]
init|=
block|{
block|{
name|EXIFTAG_EXPOSURETIME
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"ExposureTime"
block|}
block|,
block|{
name|EXIFTAG_FNUMBER
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"FNumber"
block|}
block|,
block|{
name|EXIFTAG_EXPOSUREPROGRAM
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"ExposureProgram"
block|}
block|,
block|{
name|EXIFTAG_SPECTRALSENSITIVITY
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"SpectralSensitivity"
block|}
block|,
block|{
name|EXIFTAG_ISOSPEEDRATINGS
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|1
block|,
literal|"ISOSpeedRatings"
block|}
block|,
block|{
name|EXIFTAG_OECF
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_UNDEFINED
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|1
block|,
literal|"OptoelectricConversionFactor"
block|}
block|,
block|{
name|EXIFTAG_EXIFVERSION
block|,
literal|4
block|,
literal|4
block|,
name|TIFF_UNDEFINED
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"ExifVersion"
block|}
block|,
block|{
name|EXIFTAG_DATETIMEORIGINAL
block|,
literal|20
block|,
literal|20
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"DateTimeOriginal"
block|}
block|,
block|{
name|EXIFTAG_DATETIMEDIGITIZED
block|,
literal|20
block|,
literal|20
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"DateTimeDigitized"
block|}
block|,
block|{
name|EXIFTAG_COMPONENTSCONFIGURATION
block|,
literal|4
block|,
literal|4
block|,
name|TIFF_UNDEFINED
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"ComponentsConfiguration"
block|}
block|,
block|{
name|EXIFTAG_COMPRESSEDBITSPERPIXEL
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"CompressedBitsPerPixel"
block|}
block|,
block|{
name|EXIFTAG_SHUTTERSPEEDVALUE
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SRATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"ShutterSpeedValue"
block|}
block|,
block|{
name|EXIFTAG_APERTUREVALUE
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"ApertureValue"
block|}
block|,
block|{
name|EXIFTAG_BRIGHTNESSVALUE
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SRATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"BrightnessValue"
block|}
block|,
block|{
name|EXIFTAG_EXPOSUREBIASVALUE
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SRATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"ExposureBiasValue"
block|}
block|,
block|{
name|EXIFTAG_MAXAPERTUREVALUE
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"MaxApertureValue"
block|}
block|,
block|{
name|EXIFTAG_SUBJECTDISTANCE
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"SubjectDistance"
block|}
block|,
block|{
name|EXIFTAG_METERINGMODE
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"MeteringMode"
block|}
block|,
block|{
name|EXIFTAG_LIGHTSOURCE
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"LightSource"
block|}
block|,
block|{
name|EXIFTAG_FLASH
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"Flash"
block|}
block|,
block|{
name|EXIFTAG_FOCALLENGTH
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"FocalLength"
block|}
block|,
block|{
name|EXIFTAG_SUBJECTAREA
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|1
block|,
literal|"SubjectArea"
block|}
block|,
block|{
name|EXIFTAG_MAKERNOTE
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_UNDEFINED
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|1
block|,
literal|"MakerNote"
block|}
block|,
block|{
name|EXIFTAG_USERCOMMENT
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_UNDEFINED
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|1
block|,
literal|"UserComment"
block|}
block|,
block|{
name|EXIFTAG_SUBSECTIME
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"SubSecTime"
block|}
block|,
block|{
name|EXIFTAG_SUBSECTIMEORIGINAL
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"SubSecTimeOriginal"
block|}
block|,
block|{
name|EXIFTAG_SUBSECTIMEDIGITIZED
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"SubSecTimeDigitized"
block|}
block|,
block|{
name|EXIFTAG_FLASHPIXVERSION
block|,
literal|4
block|,
literal|4
block|,
name|TIFF_UNDEFINED
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"FlashpixVersion"
block|}
block|,
block|{
name|EXIFTAG_COLORSPACE
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"ColorSpace"
block|}
block|,
block|{
name|EXIFTAG_PIXELXDIMENSION
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"PixelXDimension"
block|}
block|,
block|{
name|EXIFTAG_PIXELXDIMENSION
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"PixelXDimension"
block|}
block|,
block|{
name|EXIFTAG_PIXELYDIMENSION
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_LONG
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"PixelYDimension"
block|}
block|,
block|{
name|EXIFTAG_PIXELYDIMENSION
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"PixelYDimension"
block|}
block|,
block|{
name|EXIFTAG_RELATEDSOUNDFILE
block|,
literal|13
block|,
literal|13
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"RelatedSoundFile"
block|}
block|,
block|{
name|EXIFTAG_FLASHENERGY
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"FlashEnergy"
block|}
block|,
block|{
name|EXIFTAG_SPATIALFREQUENCYRESPONSE
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_UNDEFINED
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|1
block|,
literal|"SpatialFrequencyResponse"
block|}
block|,
block|{
name|EXIFTAG_FOCALPLANEXRESOLUTION
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"FocalPlaneXResolution"
block|}
block|,
block|{
name|EXIFTAG_FOCALPLANEYRESOLUTION
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"FocalPlaneYResolution"
block|}
block|,
block|{
name|EXIFTAG_FOCALPLANERESOLUTIONUNIT
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"FocalPlaneResolutionUnit"
block|}
block|,
block|{
name|EXIFTAG_SUBJECTLOCATION
block|,
literal|2
block|,
literal|2
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"SubjectLocation"
block|}
block|,
block|{
name|EXIFTAG_EXPOSUREINDEX
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"ExposureIndex"
block|}
block|,
block|{
name|EXIFTAG_SENSINGMETHOD
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"SensingMethod"
block|}
block|,
block|{
name|EXIFTAG_FILESOURCE
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_UNDEFINED
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"FileSource"
block|}
block|,
block|{
name|EXIFTAG_SCENETYPE
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_UNDEFINED
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"SceneType"
block|}
block|,
block|{
name|EXIFTAG_CFAPATTERN
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_UNDEFINED
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|1
block|,
literal|"CFAPattern"
block|}
block|,
block|{
name|EXIFTAG_CUSTOMRENDERED
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"CustomRendered"
block|}
block|,
block|{
name|EXIFTAG_EXPOSUREMODE
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"ExposureMode"
block|}
block|,
block|{
name|EXIFTAG_WHITEBALANCE
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"WhiteBalance"
block|}
block|,
block|{
name|EXIFTAG_DIGITALZOOMRATIO
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"DigitalZoomRatio"
block|}
block|,
block|{
name|EXIFTAG_FOCALLENGTHIN35MMFILM
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"FocalLengthIn35mmFilm"
block|}
block|,
block|{
name|EXIFTAG_SCENECAPTURETYPE
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"SceneCaptureType"
block|}
block|,
block|{
name|EXIFTAG_GAINCONTROL
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_RATIONAL
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"GainControl"
block|}
block|,
block|{
name|EXIFTAG_CONTRAST
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"Contrast"
block|}
block|,
block|{
name|EXIFTAG_SATURATION
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"Saturation"
block|}
block|,
block|{
name|EXIFTAG_SHARPNESS
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"Sharpness"
block|}
block|,
block|{
name|EXIFTAG_DEVICESETTINGDESCRIPTION
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
name|TIFF_UNDEFINED
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|1
block|,
literal|"DeviceSettingDescription"
block|}
block|,
block|{
name|EXIFTAG_SUBJECTDISTANCERANGE
block|,
literal|1
block|,
literal|1
block|,
name|TIFF_SHORT
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"SubjectDistanceRange"
block|}
block|,
block|{
name|EXIFTAG_IMAGEUNIQUEID
block|,
literal|33
block|,
literal|33
block|,
name|TIFF_ASCII
block|,
name|FIELD_CUSTOM
block|,
literal|1
block|,
literal|0
block|,
literal|"ImageUniqueID"
block|}
block|}
decl_stmt|;
end_decl_stmt
begin_function
specifier|const
name|TIFFFieldInfo
modifier|*
DECL|function|_TIFFGetFieldInfo
name|_TIFFGetFieldInfo
parameter_list|(
name|size_t
modifier|*
name|size
parameter_list|)
block|{
operator|*
name|size
operator|=
name|TIFFArrayCount
argument_list|(
name|tiffFieldInfo
argument_list|)
expr_stmt|;
return|return
name|tiffFieldInfo
return|;
block|}
end_function
begin_function
specifier|const
name|TIFFFieldInfo
modifier|*
DECL|function|_TIFFGetExifFieldInfo
name|_TIFFGetExifFieldInfo
parameter_list|(
name|size_t
modifier|*
name|size
parameter_list|)
block|{
operator|*
name|size
operator|=
name|TIFFArrayCount
argument_list|(
name|exifFieldInfo
argument_list|)
expr_stmt|;
return|return
name|exifFieldInfo
return|;
block|}
end_function
begin_function
name|void
DECL|function|_TIFFSetupFieldInfo
name|_TIFFSetupFieldInfo
parameter_list|(
name|TIFF
modifier|*
name|tif
parameter_list|,
specifier|const
name|TIFFFieldInfo
name|info
index|[]
parameter_list|,
name|size_t
name|n
parameter_list|)
block|{
if|if
condition|(
name|tif
operator|->
name|tif_fieldinfo
condition|)
block|{
name|size_t
name|i
decl_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|tif
operator|->
name|tif_nfields
condition|;
name|i
operator|++
control|)
block|{
name|TIFFFieldInfo
modifier|*
name|fld
init|=
name|tif
operator|->
name|tif_fieldinfo
index|[
name|i
index|]
decl_stmt|;
if|if
condition|(
name|fld
operator|->
name|field_bit
operator|==
name|FIELD_CUSTOM
operator|&&
name|strncmp
argument_list|(
literal|"Tag "
argument_list|,
name|fld
operator|->
name|field_name
argument_list|,
literal|4
argument_list|)
operator|==
literal|0
condition|)
block|{
name|_TIFFfree
argument_list|(
name|fld
operator|->
name|field_name
argument_list|)
expr_stmt|;
name|_TIFFfree
argument_list|(
name|fld
argument_list|)
expr_stmt|;
block|}
block|}
name|_TIFFfree
argument_list|(
name|tif
operator|->
name|tif_fieldinfo
argument_list|)
expr_stmt|;
name|tif
operator|->
name|tif_nfields
operator|=
literal|0
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|_TIFFMergeFieldInfo
argument_list|(
name|tif
argument_list|,
name|info
argument_list|,
name|n
argument_list|)
condition|)
block|{
name|TIFFErrorExt
argument_list|(
name|tif
operator|->
name|tif_clientdata
argument_list|,
literal|"_TIFFSetupFieldInfo"
argument_list|,
literal|"Setting up field info failed"
argument_list|)
expr_stmt|;
block|}
block|}
end_function
begin_function
specifier|static
name|int
DECL|function|tagCompare
name|tagCompare
parameter_list|(
specifier|const
name|void
modifier|*
name|a
parameter_list|,
specifier|const
name|void
modifier|*
name|b
parameter_list|)
block|{
specifier|const
name|TIFFFieldInfo
modifier|*
name|ta
init|=
operator|*
operator|(
specifier|const
name|TIFFFieldInfo
operator|*
operator|*
operator|)
name|a
decl_stmt|;
specifier|const
name|TIFFFieldInfo
modifier|*
name|tb
init|=
operator|*
operator|(
specifier|const
name|TIFFFieldInfo
operator|*
operator|*
operator|)
name|b
decl_stmt|;
comment|/* NB: be careful of return values for 16-bit platforms */
if|if
condition|(
name|ta
operator|->
name|field_tag
operator|!=
name|tb
operator|->
name|field_tag
condition|)
return|return
operator|(
name|int
operator|)
name|ta
operator|->
name|field_tag
operator|-
operator|(
name|int
operator|)
name|tb
operator|->
name|field_tag
return|;
else|else
return|return
operator|(
name|ta
operator|->
name|field_type
operator|==
name|TIFF_ANY
operator|)
condition|?
literal|0
else|:
operator|(
operator|(
name|int
operator|)
name|tb
operator|->
name|field_type
operator|-
operator|(
name|int
operator|)
name|ta
operator|->
name|field_type
operator|)
return|;
block|}
end_function
begin_function
specifier|static
name|int
DECL|function|tagNameCompare
name|tagNameCompare
parameter_list|(
specifier|const
name|void
modifier|*
name|a
parameter_list|,
specifier|const
name|void
modifier|*
name|b
parameter_list|)
block|{
specifier|const
name|TIFFFieldInfo
modifier|*
name|ta
init|=
operator|*
operator|(
specifier|const
name|TIFFFieldInfo
operator|*
operator|*
operator|)
name|a
decl_stmt|;
specifier|const
name|TIFFFieldInfo
modifier|*
name|tb
init|=
operator|*
operator|(
specifier|const
name|TIFFFieldInfo
operator|*
operator|*
operator|)
name|b
decl_stmt|;
name|int
name|ret
init|=
name|strcmp
argument_list|(
name|ta
operator|->
name|field_name
argument_list|,
name|tb
operator|->
name|field_name
argument_list|)
decl_stmt|;
if|if
condition|(
name|ret
condition|)
return|return
name|ret
return|;
else|else
return|return
operator|(
name|ta
operator|->
name|field_type
operator|==
name|TIFF_ANY
operator|)
condition|?
literal|0
else|:
operator|(
operator|(
name|int
operator|)
name|tb
operator|->
name|field_type
operator|-
operator|(
name|int
operator|)
name|ta
operator|->
name|field_type
operator|)
return|;
block|}
end_function
begin_function
name|void
DECL|function|TIFFMergeFieldInfo
name|TIFFMergeFieldInfo
parameter_list|(
name|TIFF
modifier|*
name|tif
parameter_list|,
specifier|const
name|TIFFFieldInfo
name|info
index|[]
parameter_list|,
name|int
name|n
parameter_list|)
block|{
if|if
condition|(
name|_TIFFMergeFieldInfo
argument_list|(
name|tif
argument_list|,
name|info
argument_list|,
name|n
argument_list|)
operator|<
literal|0
condition|)
block|{
name|TIFFErrorExt
argument_list|(
name|tif
operator|->
name|tif_clientdata
argument_list|,
literal|"TIFFMergeFieldInfo"
argument_list|,
literal|"Merging block of %d fields failed"
argument_list|,
name|n
argument_list|)
expr_stmt|;
block|}
block|}
end_function
begin_function
name|int
DECL|function|_TIFFMergeFieldInfo
name|_TIFFMergeFieldInfo
parameter_list|(
name|TIFF
modifier|*
name|tif
parameter_list|,
specifier|const
name|TIFFFieldInfo
name|info
index|[]
parameter_list|,
name|int
name|n
parameter_list|)
block|{
specifier|static
specifier|const
name|char
name|module
index|[]
init|=
literal|"_TIFFMergeFieldInfo"
decl_stmt|;
specifier|static
specifier|const
name|char
name|reason
index|[]
init|=
literal|"for field info array"
decl_stmt|;
name|TIFFFieldInfo
modifier|*
modifier|*
name|tp
decl_stmt|;
name|int
name|i
decl_stmt|;
name|tif
operator|->
name|tif_foundfield
operator|=
name|NULL
expr_stmt|;
if|if
condition|(
name|tif
operator|->
name|tif_nfields
operator|>
literal|0
condition|)
block|{
name|tif
operator|->
name|tif_fieldinfo
operator|=
operator|(
name|TIFFFieldInfo
operator|*
operator|*
operator|)
name|_TIFFCheckRealloc
argument_list|(
name|tif
argument_list|,
name|tif
operator|->
name|tif_fieldinfo
argument_list|,
operator|(
name|tif
operator|->
name|tif_nfields
operator|+
name|n
operator|)
argument_list|,
sizeof|sizeof
argument_list|(
name|TIFFFieldInfo
operator|*
argument_list|)
argument_list|,
name|reason
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|tif
operator|->
name|tif_fieldinfo
operator|=
operator|(
name|TIFFFieldInfo
operator|*
operator|*
operator|)
name|_TIFFCheckMalloc
argument_list|(
name|tif
argument_list|,
name|n
argument_list|,
sizeof|sizeof
argument_list|(
name|TIFFFieldInfo
operator|*
argument_list|)
argument_list|,
name|reason
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|tif
operator|->
name|tif_fieldinfo
condition|)
block|{
name|TIFFErrorExt
argument_list|(
name|tif
operator|->
name|tif_clientdata
argument_list|,
name|module
argument_list|,
literal|"Failed to allocate field info array"
argument_list|)
expr_stmt|;
return|return
literal|0
return|;
block|}
name|tp
operator|=
name|tif
operator|->
name|tif_fieldinfo
operator|+
name|tif
operator|->
name|tif_nfields
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|n
condition|;
name|i
operator|++
control|)
block|{
specifier|const
name|TIFFFieldInfo
modifier|*
name|fip
init|=
name|_TIFFFindFieldInfo
argument_list|(
name|tif
argument_list|,
name|info
index|[
name|i
index|]
operator|.
name|field_tag
argument_list|,
name|info
index|[
name|i
index|]
operator|.
name|field_type
argument_list|)
decl_stmt|;
comment|/* only add definitions that aren't already present */
if|if
condition|(
operator|!
name|fip
condition|)
block|{
operator|*
name|tp
operator|++
operator|=
operator|(
name|TIFFFieldInfo
operator|*
operator|)
operator|(
name|info
operator|+
name|i
operator|)
expr_stmt|;
name|tif
operator|->
name|tif_nfields
operator|++
expr_stmt|;
block|}
block|}
comment|/* Sort the field info by tag number */
name|qsort
argument_list|(
name|tif
operator|->
name|tif_fieldinfo
argument_list|,
name|tif
operator|->
name|tif_nfields
argument_list|,
sizeof|sizeof
argument_list|(
name|TIFFFieldInfo
operator|*
argument_list|)
argument_list|,
name|tagCompare
argument_list|)
expr_stmt|;
return|return
name|n
return|;
block|}
end_function
begin_function
name|void
DECL|function|_TIFFPrintFieldInfo
name|_TIFFPrintFieldInfo
parameter_list|(
name|TIFF
modifier|*
name|tif
parameter_list|,
name|FILE
modifier|*
name|fd
parameter_list|)
block|{
name|size_t
name|i
decl_stmt|;
name|fprintf
argument_list|(
name|fd
argument_list|,
literal|"%s: \n"
argument_list|,
name|tif
operator|->
name|tif_name
argument_list|)
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|tif
operator|->
name|tif_nfields
condition|;
name|i
operator|++
control|)
block|{
specifier|const
name|TIFFFieldInfo
modifier|*
name|fip
init|=
name|tif
operator|->
name|tif_fieldinfo
index|[
name|i
index|]
decl_stmt|;
name|fprintf
argument_list|(
name|fd
argument_list|,
literal|"field[%2d] %5lu, %2d, %2d, %d, %2d, %5s, %5s, %s\n"
argument_list|,
operator|(
name|int
operator|)
name|i
argument_list|,
operator|(
name|unsigned
name|long
operator|)
name|fip
operator|->
name|field_tag
argument_list|,
name|fip
operator|->
name|field_readcount
argument_list|,
name|fip
operator|->
name|field_writecount
argument_list|,
name|fip
operator|->
name|field_type
argument_list|,
name|fip
operator|->
name|field_bit
argument_list|,
name|fip
operator|->
name|field_oktochange
condition|?
literal|"TRUE"
else|:
literal|"FALSE"
argument_list|,
name|fip
operator|->
name|field_passcount
condition|?
literal|"TRUE"
else|:
literal|"FALSE"
argument_list|,
name|fip
operator|->
name|field_name
argument_list|)
expr_stmt|;
block|}
block|}
end_function
begin_comment
comment|/*  * Return size of TIFFDataType in bytes  */
end_comment
begin_function
name|int
DECL|function|TIFFDataWidth
name|TIFFDataWidth
parameter_list|(
name|TIFFDataType
name|type
parameter_list|)
block|{
switch|switch
condition|(
name|type
condition|)
block|{
case|case
literal|0
case|:
comment|/* nothing */
case|case
literal|1
case|:
comment|/* TIFF_BYTE */
case|case
literal|2
case|:
comment|/* TIFF_ASCII */
case|case
literal|6
case|:
comment|/* TIFF_SBYTE */
case|case
literal|7
case|:
comment|/* TIFF_UNDEFINED */
return|return
literal|1
return|;
case|case
literal|3
case|:
comment|/* TIFF_SHORT */
case|case
literal|8
case|:
comment|/* TIFF_SSHORT */
return|return
literal|2
return|;
case|case
literal|4
case|:
comment|/* TIFF_LONG */
case|case
literal|9
case|:
comment|/* TIFF_SLONG */
case|case
literal|11
case|:
comment|/* TIFF_FLOAT */
case|case
literal|13
case|:
comment|/* TIFF_IFD */
return|return
literal|4
return|;
case|case
literal|5
case|:
comment|/* TIFF_RATIONAL */
case|case
literal|10
case|:
comment|/* TIFF_SRATIONAL */
case|case
literal|12
case|:
comment|/* TIFF_DOUBLE */
return|return
literal|8
return|;
default|default:
return|return
literal|0
return|;
comment|/* will return 0 for unknown types */
block|}
block|}
end_function
begin_comment
comment|/*  * Return size of TIFFDataType in bytes.  *  * XXX: We need a separate function to determine the space needed  * to store the value. For TIFF_RATIONAL values TIFFDataWidth() returns 8,  * but we use 4-byte float to represent rationals.  */
end_comment
begin_function
name|int
DECL|function|_TIFFDataSize
name|_TIFFDataSize
parameter_list|(
name|TIFFDataType
name|type
parameter_list|)
block|{
switch|switch
condition|(
name|type
condition|)
block|{
case|case
name|TIFF_BYTE
case|:
case|case
name|TIFF_SBYTE
case|:
case|case
name|TIFF_ASCII
case|:
case|case
name|TIFF_UNDEFINED
case|:
return|return
literal|1
return|;
case|case
name|TIFF_SHORT
case|:
case|case
name|TIFF_SSHORT
case|:
return|return
literal|2
return|;
case|case
name|TIFF_LONG
case|:
case|case
name|TIFF_SLONG
case|:
case|case
name|TIFF_FLOAT
case|:
case|case
name|TIFF_IFD
case|:
case|case
name|TIFF_RATIONAL
case|:
case|case
name|TIFF_SRATIONAL
case|:
return|return
literal|4
return|;
case|case
name|TIFF_DOUBLE
case|:
return|return
literal|8
return|;
default|default:
return|return
literal|0
return|;
block|}
block|}
end_function
begin_comment
comment|/*  * Return nearest TIFFDataType to the sample type of an image.  */
end_comment
begin_function
name|TIFFDataType
DECL|function|_TIFFSampleToTagType
name|_TIFFSampleToTagType
parameter_list|(
name|TIFF
modifier|*
name|tif
parameter_list|)
block|{
name|uint32
name|bps
init|=
name|TIFFhowmany8
argument_list|(
name|tif
operator|->
name|tif_dir
operator|.
name|td_bitspersample
argument_list|)
decl_stmt|;
switch|switch
condition|(
name|tif
operator|->
name|tif_dir
operator|.
name|td_sampleformat
condition|)
block|{
case|case
name|SAMPLEFORMAT_IEEEFP
case|:
return|return
operator|(
name|bps
operator|==
literal|4
condition|?
name|TIFF_FLOAT
else|:
name|TIFF_DOUBLE
operator|)
return|;
case|case
name|SAMPLEFORMAT_INT
case|:
return|return
operator|(
name|bps
operator|<=
literal|1
condition|?
name|TIFF_SBYTE
else|:
name|bps
operator|<=
literal|2
condition|?
name|TIFF_SSHORT
else|:
name|TIFF_SLONG
operator|)
return|;
case|case
name|SAMPLEFORMAT_UINT
case|:
return|return
operator|(
name|bps
operator|<=
literal|1
condition|?
name|TIFF_BYTE
else|:
name|bps
operator|<=
literal|2
condition|?
name|TIFF_SHORT
else|:
name|TIFF_LONG
operator|)
return|;
case|case
name|SAMPLEFORMAT_VOID
case|:
return|return
operator|(
name|TIFF_UNDEFINED
operator|)
return|;
block|}
comment|/*NOTREACHED*/
return|return
operator|(
name|TIFF_UNDEFINED
operator|)
return|;
block|}
end_function
begin_function
specifier|const
name|TIFFFieldInfo
modifier|*
DECL|function|_TIFFFindFieldInfo
name|_TIFFFindFieldInfo
parameter_list|(
name|TIFF
modifier|*
name|tif
parameter_list|,
name|ttag_t
name|tag
parameter_list|,
name|TIFFDataType
name|dt
parameter_list|)
block|{
name|TIFFFieldInfo
name|key
init|=
block|{
literal|0
block|,
literal|0
block|,
literal|0
block|,
name|TIFF_NOTYPE
block|,
literal|0
block|,
literal|0
block|,
literal|0
block|,
literal|0
block|}
decl_stmt|;
name|TIFFFieldInfo
modifier|*
name|pkey
init|=
operator|&
name|key
decl_stmt|;
specifier|const
name|TIFFFieldInfo
modifier|*
modifier|*
name|ret
decl_stmt|;
if|if
condition|(
name|tif
operator|->
name|tif_foundfield
operator|&&
name|tif
operator|->
name|tif_foundfield
operator|->
name|field_tag
operator|==
name|tag
operator|&&
operator|(
name|dt
operator|==
name|TIFF_ANY
operator|||
name|dt
operator|==
name|tif
operator|->
name|tif_foundfield
operator|->
name|field_type
operator|)
condition|)
return|return
name|tif
operator|->
name|tif_foundfield
return|;
comment|/* If we are invoked with no field information, then just return. */
if|if
condition|(
operator|!
name|tif
operator|->
name|tif_fieldinfo
condition|)
block|{
return|return
name|NULL
return|;
block|}
comment|/* NB: use sorted search (e.g. binary search) */
name|key
operator|.
name|field_tag
operator|=
name|tag
expr_stmt|;
name|key
operator|.
name|field_type
operator|=
name|dt
expr_stmt|;
name|ret
operator|=
operator|(
specifier|const
name|TIFFFieldInfo
operator|*
operator|*
operator|)
name|bsearch
argument_list|(
operator|&
name|pkey
argument_list|,
name|tif
operator|->
name|tif_fieldinfo
argument_list|,
name|tif
operator|->
name|tif_nfields
argument_list|,
sizeof|sizeof
argument_list|(
name|TIFFFieldInfo
operator|*
argument_list|)
argument_list|,
name|tagCompare
argument_list|)
expr_stmt|;
return|return
name|tif
operator|->
name|tif_foundfield
operator|=
operator|(
name|ret
condition|?
operator|*
name|ret
else|:
name|NULL
operator|)
return|;
block|}
end_function
begin_function
specifier|const
name|TIFFFieldInfo
modifier|*
DECL|function|_TIFFFindFieldInfoByName
name|_TIFFFindFieldInfoByName
parameter_list|(
name|TIFF
modifier|*
name|tif
parameter_list|,
specifier|const
name|char
modifier|*
name|field_name
parameter_list|,
name|TIFFDataType
name|dt
parameter_list|)
block|{
name|TIFFFieldInfo
name|key
init|=
block|{
literal|0
block|,
literal|0
block|,
literal|0
block|,
name|TIFF_NOTYPE
block|,
literal|0
block|,
literal|0
block|,
literal|0
block|,
literal|0
block|}
decl_stmt|;
name|TIFFFieldInfo
modifier|*
name|pkey
init|=
operator|&
name|key
decl_stmt|;
specifier|const
name|TIFFFieldInfo
modifier|*
modifier|*
name|ret
decl_stmt|;
if|if
condition|(
name|tif
operator|->
name|tif_foundfield
operator|&&
name|streq
argument_list|(
name|tif
operator|->
name|tif_foundfield
operator|->
name|field_name
argument_list|,
name|field_name
argument_list|)
operator|&&
operator|(
name|dt
operator|==
name|TIFF_ANY
operator|||
name|dt
operator|==
name|tif
operator|->
name|tif_foundfield
operator|->
name|field_type
operator|)
condition|)
return|return
operator|(
name|tif
operator|->
name|tif_foundfield
operator|)
return|;
comment|/* If we are invoked with no field information, then just return. */
if|if
condition|(
operator|!
name|tif
operator|->
name|tif_fieldinfo
condition|)
block|{
return|return
name|NULL
return|;
block|}
comment|/* NB: use sorted search (e.g. binary search) */
name|key
operator|.
name|field_name
operator|=
operator|(
name|char
operator|*
operator|)
name|field_name
expr_stmt|;
name|key
operator|.
name|field_type
operator|=
name|dt
expr_stmt|;
name|ret
operator|=
operator|(
specifier|const
name|TIFFFieldInfo
operator|*
operator|*
operator|)
name|lfind
argument_list|(
operator|&
name|pkey
argument_list|,
name|tif
operator|->
name|tif_fieldinfo
argument_list|,
operator|&
name|tif
operator|->
name|tif_nfields
argument_list|,
sizeof|sizeof
argument_list|(
name|TIFFFieldInfo
operator|*
argument_list|)
argument_list|,
name|tagNameCompare
argument_list|)
expr_stmt|;
return|return
name|tif
operator|->
name|tif_foundfield
operator|=
operator|(
name|ret
condition|?
operator|*
name|ret
else|:
name|NULL
operator|)
return|;
block|}
end_function
begin_function
specifier|const
name|TIFFFieldInfo
modifier|*
DECL|function|_TIFFFieldWithTag
name|_TIFFFieldWithTag
parameter_list|(
name|TIFF
modifier|*
name|tif
parameter_list|,
name|ttag_t
name|tag
parameter_list|)
block|{
specifier|const
name|TIFFFieldInfo
modifier|*
name|fip
init|=
name|_TIFFFindFieldInfo
argument_list|(
name|tif
argument_list|,
name|tag
argument_list|,
name|TIFF_ANY
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|fip
condition|)
block|{
name|TIFFErrorExt
argument_list|(
name|tif
operator|->
name|tif_clientdata
argument_list|,
literal|"TIFFFieldWithTag"
argument_list|,
literal|"Internal error, unknown tag 0x%x"
argument_list|,
operator|(
name|unsigned
name|int
operator|)
name|tag
argument_list|)
expr_stmt|;
name|assert
argument_list|(
name|fip
operator|!=
name|NULL
argument_list|)
expr_stmt|;
comment|/*NOTREACHED*/
block|}
return|return
operator|(
name|fip
operator|)
return|;
block|}
end_function
begin_function
specifier|const
name|TIFFFieldInfo
modifier|*
DECL|function|_TIFFFieldWithName
name|_TIFFFieldWithName
parameter_list|(
name|TIFF
modifier|*
name|tif
parameter_list|,
specifier|const
name|char
modifier|*
name|field_name
parameter_list|)
block|{
specifier|const
name|TIFFFieldInfo
modifier|*
name|fip
init|=
name|_TIFFFindFieldInfoByName
argument_list|(
name|tif
argument_list|,
name|field_name
argument_list|,
name|TIFF_ANY
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|fip
condition|)
block|{
name|TIFFErrorExt
argument_list|(
name|tif
operator|->
name|tif_clientdata
argument_list|,
literal|"TIFFFieldWithName"
argument_list|,
literal|"Internal error, unknown tag %s"
argument_list|,
name|field_name
argument_list|)
expr_stmt|;
name|assert
argument_list|(
name|fip
operator|!=
name|NULL
argument_list|)
expr_stmt|;
comment|/*NOTREACHED*/
block|}
return|return
operator|(
name|fip
operator|)
return|;
block|}
end_function
begin_function
specifier|const
name|TIFFFieldInfo
modifier|*
DECL|function|_TIFFFindOrRegisterFieldInfo
name|_TIFFFindOrRegisterFieldInfo
parameter_list|(
name|TIFF
modifier|*
name|tif
parameter_list|,
name|ttag_t
name|tag
parameter_list|,
name|TIFFDataType
name|dt
parameter_list|)
block|{
specifier|const
name|TIFFFieldInfo
modifier|*
name|fld
decl_stmt|;
name|fld
operator|=
name|_TIFFFindFieldInfo
argument_list|(
name|tif
argument_list|,
name|tag
argument_list|,
name|dt
argument_list|)
expr_stmt|;
if|if
condition|(
name|fld
operator|==
name|NULL
condition|)
block|{
name|fld
operator|=
name|_TIFFCreateAnonFieldInfo
argument_list|(
name|tif
argument_list|,
name|tag
argument_list|,
name|dt
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|_TIFFMergeFieldInfo
argument_list|(
name|tif
argument_list|,
name|fld
argument_list|,
literal|1
argument_list|)
condition|)
return|return
name|NULL
return|;
block|}
return|return
name|fld
return|;
block|}
end_function
begin_function
name|TIFFFieldInfo
modifier|*
DECL|function|_TIFFCreateAnonFieldInfo
name|_TIFFCreateAnonFieldInfo
parameter_list|(
name|TIFF
modifier|*
name|tif
parameter_list|,
name|ttag_t
name|tag
parameter_list|,
name|TIFFDataType
name|field_type
parameter_list|)
block|{
name|TIFFFieldInfo
modifier|*
name|fld
decl_stmt|;
operator|(
name|void
operator|)
name|tif
expr_stmt|;
name|fld
operator|=
operator|(
name|TIFFFieldInfo
operator|*
operator|)
name|_TIFFmalloc
argument_list|(
sizeof|sizeof
argument_list|(
name|TIFFFieldInfo
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|fld
operator|==
name|NULL
condition|)
return|return
name|NULL
return|;
name|_TIFFmemset
argument_list|(
name|fld
argument_list|,
literal|0
argument_list|,
sizeof|sizeof
argument_list|(
name|TIFFFieldInfo
argument_list|)
argument_list|)
expr_stmt|;
name|fld
operator|->
name|field_tag
operator|=
name|tag
expr_stmt|;
name|fld
operator|->
name|field_readcount
operator|=
name|TIFF_VARIABLE2
expr_stmt|;
name|fld
operator|->
name|field_writecount
operator|=
name|TIFF_VARIABLE2
expr_stmt|;
name|fld
operator|->
name|field_type
operator|=
name|field_type
expr_stmt|;
name|fld
operator|->
name|field_bit
operator|=
name|FIELD_CUSTOM
expr_stmt|;
name|fld
operator|->
name|field_oktochange
operator|=
name|TRUE
expr_stmt|;
name|fld
operator|->
name|field_passcount
operator|=
name|TRUE
expr_stmt|;
name|fld
operator|->
name|field_name
operator|=
operator|(
name|char
operator|*
operator|)
name|_TIFFmalloc
argument_list|(
literal|32
argument_list|)
expr_stmt|;
if|if
condition|(
name|fld
operator|->
name|field_name
operator|==
name|NULL
condition|)
block|{
name|_TIFFfree
argument_list|(
name|fld
argument_list|)
expr_stmt|;
return|return
name|NULL
return|;
block|}
comment|/*  	 * note that this name is a special sign to TIFFClose() and 	 * _TIFFSetupFieldInfo() to free the field 	 */
name|sprintf
argument_list|(
name|fld
operator|->
name|field_name
argument_list|,
literal|"Tag %d"
argument_list|,
operator|(
name|int
operator|)
name|tag
argument_list|)
expr_stmt|;
return|return
name|fld
return|;
block|}
end_function
begin_comment
comment|/* vim: set ts=8 sts=8 sw=8 noet: */
end_comment
end_unit
