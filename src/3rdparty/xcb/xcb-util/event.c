begin_unit
begin_comment
comment|/*  * Copyright Â© 2008-2009 Julien Danjou<julien@danjou.info>  *  * Permission is hereby granted, free of charge, to any person  * obtaining a copy of this software and associated documentation  * files (the "Software"), to deal in the Software without  * restriction, including without limitation the rights to use, copy,  * modify, merge, publish, distribute, sublicense, and/or sell copies  * of the Software, and to permit persons to whom the Software is  * furnished to do so, subject to the following conditions:  *  * The above copyright notice and this permission notice shall be  * included in all copies or substantial portions of the Software.  *  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,  * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF  * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND  * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY  * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF  * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION  * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.  *  * Except as contained in this notice, the names of the authors or  * their institutions shall not be used in advertising or otherwise to  * promote the sale, use or other dealings in this Software without  * prior written authorization from the authors.  */
end_comment
begin_include
include|#
directive|include
file|<assert.h>
end_include
begin_include
include|#
directive|include
file|<stdlib.h>
end_include
begin_include
include|#
directive|include
file|<string.h>
end_include
begin_include
include|#
directive|include
file|"xcb_event.h"
end_include
begin_ifdef
ifdef|#
directive|ifdef
name|HAVE_SYS_TYPES_H
end_ifdef
begin_include
include|#
directive|include
file|<sys/types.h>
end_include
begin_endif
endif|#
directive|endif
end_endif
begin_define
DECL|macro|ssizeof
define|#
directive|define
name|ssizeof
parameter_list|(
name|foo
parameter_list|)
value|(ssize_t)sizeof(foo)
end_define
begin_define
DECL|macro|countof
define|#
directive|define
name|countof
parameter_list|(
name|foo
parameter_list|)
value|(ssizeof(foo) / ssizeof(foo[0]))
end_define
begin_decl_stmt
DECL|variable|labelError
specifier|static
specifier|const
name|char
modifier|*
name|labelError
index|[]
init|=
block|{
literal|"Success"
block|,
literal|"BadRequest"
block|,
literal|"BadValue"
block|,
literal|"BadWindow"
block|,
literal|"BadPixmap"
block|,
literal|"BadAtom"
block|,
literal|"BadCursor"
block|,
literal|"BadFont"
block|,
literal|"BadMatch"
block|,
literal|"BadDrawable"
block|,
literal|"BadAccess"
block|,
literal|"BadAlloc"
block|,
literal|"BadColor"
block|,
literal|"BadGC"
block|,
literal|"BadIDChoice"
block|,
literal|"BadName"
block|,
literal|"BadLength"
block|,
literal|"BadImplementation"
block|, }
decl_stmt|;
end_decl_stmt
begin_decl_stmt
DECL|variable|labelRequest
specifier|static
specifier|const
name|char
modifier|*
name|labelRequest
index|[]
init|=
block|{
literal|"no request"
block|,
literal|"CreateWindow"
block|,
literal|"ChangeWindowAttributes"
block|,
literal|"GetWindowAttributes"
block|,
literal|"DestroyWindow"
block|,
literal|"DestroySubwindows"
block|,
literal|"ChangeSaveSet"
block|,
literal|"ReparentWindow"
block|,
literal|"MapWindow"
block|,
literal|"MapSubwindows"
block|,
literal|"UnmapWindow"
block|,
literal|"UnmapSubwindows"
block|,
literal|"ConfigureWindow"
block|,
literal|"CirculateWindow"
block|,
literal|"GetGeometry"
block|,
literal|"QueryTree"
block|,
literal|"InternAtom"
block|,
literal|"GetAtomName"
block|,
literal|"ChangeProperty"
block|,
literal|"DeleteProperty"
block|,
literal|"GetProperty"
block|,
literal|"ListProperties"
block|,
literal|"SetSelectionOwner"
block|,
literal|"GetSelectionOwner"
block|,
literal|"ConvertSelection"
block|,
literal|"SendEvent"
block|,
literal|"GrabPointer"
block|,
literal|"UngrabPointer"
block|,
literal|"GrabButton"
block|,
literal|"UngrabButton"
block|,
literal|"ChangeActivePointerGrab"
block|,
literal|"GrabKeyboard"
block|,
literal|"UngrabKeyboard"
block|,
literal|"GrabKey"
block|,
literal|"UngrabKey"
block|,
literal|"AllowEvents"
block|,
literal|"GrabServer"
block|,
literal|"UngrabServer"
block|,
literal|"QueryPointer"
block|,
literal|"GetMotionEvents"
block|,
literal|"TranslateCoords"
block|,
literal|"WarpPointer"
block|,
literal|"SetInputFocus"
block|,
literal|"GetInputFocus"
block|,
literal|"QueryKeymap"
block|,
literal|"OpenFont"
block|,
literal|"CloseFont"
block|,
literal|"QueryFont"
block|,
literal|"QueryTextExtents"
block|,
literal|"ListFonts"
block|,
literal|"ListFontsWithInfo"
block|,
literal|"SetFontPath"
block|,
literal|"GetFontPath"
block|,
literal|"CreatePixmap"
block|,
literal|"FreePixmap"
block|,
literal|"CreateGC"
block|,
literal|"ChangeGC"
block|,
literal|"CopyGC"
block|,
literal|"SetDashes"
block|,
literal|"SetClipRectangles"
block|,
literal|"FreeGC"
block|,
literal|"ClearArea"
block|,
literal|"CopyArea"
block|,
literal|"CopyPlane"
block|,
literal|"PolyPoint"
block|,
literal|"PolyLine"
block|,
literal|"PolySegment"
block|,
literal|"PolyRectangle"
block|,
literal|"PolyArc"
block|,
literal|"FillPoly"
block|,
literal|"PolyFillRectangle"
block|,
literal|"PolyFillArc"
block|,
literal|"PutImage"
block|,
literal|"GetImage"
block|,
literal|"PolyText"
block|,
literal|"PolyText"
block|,
literal|"ImageText"
block|,
literal|"ImageText"
block|,
literal|"CreateColormap"
block|,
literal|"FreeColormap"
block|,
literal|"CopyColormapAndFree"
block|,
literal|"InstallColormap"
block|,
literal|"UninstallColormap"
block|,
literal|"ListInstalledColormaps"
block|,
literal|"AllocColor"
block|,
literal|"AllocNamedColor"
block|,
literal|"AllocColorCells"
block|,
literal|"AllocColorPlanes"
block|,
literal|"FreeColors"
block|,
literal|"StoreColors"
block|,
literal|"StoreNamedColor"
block|,
literal|"QueryColors"
block|,
literal|"LookupColor"
block|,
literal|"CreateCursor"
block|,
literal|"CreateGlyphCursor"
block|,
literal|"FreeCursor"
block|,
literal|"RecolorCursor"
block|,
literal|"QueryBestSize"
block|,
literal|"QueryExtension"
block|,
literal|"ListExtensions"
block|,
literal|"ChangeKeyboardMapping"
block|,
literal|"GetKeyboardMapping"
block|,
literal|"ChangeKeyboardControl"
block|,
literal|"GetKeyboardControl"
block|,
literal|"Bell"
block|,
literal|"ChangePointerControl"
block|,
literal|"GetPointerControl"
block|,
literal|"SetScreenSaver"
block|,
literal|"GetScreenSaver"
block|,
literal|"ChangeHosts"
block|,
literal|"ListHosts"
block|,
literal|"SetAccessControl"
block|,
literal|"SetCloseDownMode"
block|,
literal|"KillClient"
block|,
literal|"RotateProperties"
block|,
literal|"ForceScreenSaver"
block|,
literal|"SetPointerMapping"
block|,
literal|"GetPointerMapping"
block|,
literal|"SetModifierMapping"
block|,
literal|"GetModifierMapping"
block|,
literal|"major 120"
block|,
literal|"major 121"
block|,
literal|"major 122"
block|,
literal|"major 123"
block|,
literal|"major 124"
block|,
literal|"major 125"
block|,
literal|"major 126"
block|,
literal|"NoOperation"
block|, }
decl_stmt|;
end_decl_stmt
begin_decl_stmt
DECL|variable|labelEvent
specifier|static
specifier|const
name|char
modifier|*
name|labelEvent
index|[]
init|=
block|{
literal|"error"
block|,
literal|"reply"
block|,
literal|"KeyPress"
block|,
literal|"KeyRelease"
block|,
literal|"ButtonPress"
block|,
literal|"ButtonRelease"
block|,
literal|"MotionNotify"
block|,
literal|"EnterNotify"
block|,
literal|"LeaveNotify"
block|,
literal|"FocusIn"
block|,
literal|"FocusOut"
block|,
literal|"KeymapNotify"
block|,
literal|"Expose"
block|,
literal|"GraphicsExpose"
block|,
literal|"NoExpose"
block|,
literal|"VisibilityNotify"
block|,
literal|"CreateNotify"
block|,
literal|"DestroyNotify"
block|,
literal|"UnmapNotify"
block|,
literal|"MapNotify"
block|,
literal|"MapRequest"
block|,
literal|"ReparentNotify"
block|,
literal|"ConfigureNotify"
block|,
literal|"ConfigureRequest"
block|,
literal|"GravityNotify"
block|,
literal|"ResizeRequest"
block|,
literal|"CirculateNotify"
block|,
literal|"CirculateRequest"
block|,
literal|"PropertyNotify"
block|,
literal|"SelectionClear"
block|,
literal|"SelectionRequest"
block|,
literal|"SelectionNotify"
block|,
literal|"ColormapNotify"
block|,
literal|"ClientMessage"
block|,
literal|"MappingNotify"
block|, }
decl_stmt|;
end_decl_stmt
begin_function
specifier|const
name|char
modifier|*
DECL|function|xcb_event_get_label
name|xcb_event_get_label
parameter_list|(
name|uint8_t
name|type
parameter_list|)
block|{
if|if
condition|(
name|type
operator|<
name|countof
argument_list|(
name|labelEvent
argument_list|)
condition|)
return|return
name|labelEvent
index|[
name|type
index|]
return|;
return|return
name|NULL
return|;
block|}
end_function
begin_function
specifier|const
name|char
modifier|*
DECL|function|xcb_event_get_error_label
name|xcb_event_get_error_label
parameter_list|(
name|uint8_t
name|type
parameter_list|)
block|{
if|if
condition|(
name|type
operator|<
name|countof
argument_list|(
name|labelError
argument_list|)
condition|)
return|return
name|labelError
index|[
name|type
index|]
return|;
return|return
name|NULL
return|;
block|}
end_function
begin_function
specifier|const
name|char
modifier|*
DECL|function|xcb_event_get_request_label
name|xcb_event_get_request_label
parameter_list|(
name|uint8_t
name|type
parameter_list|)
block|{
if|if
condition|(
name|type
operator|<
name|countof
argument_list|(
name|labelRequest
argument_list|)
condition|)
return|return
name|labelRequest
index|[
name|type
index|]
return|;
return|return
name|NULL
return|;
block|}
end_function
end_unit
