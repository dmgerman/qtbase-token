begin_unit
begin_comment
comment|/*  * Copyright Â© 2008 Arnaud Fontaine<arnau@debian.org>  * Copyright Â© 2007-2008 Vincent Torri<vtorri@univ-evry.fr>  *  * Permission is hereby granted, free of charge, to any person  * obtaining a copy of this software and associated documentation  * files (the "Software"), to deal in the Software without  * restriction, including without limitation the rights to use, copy,  * modify, merge, publish, distribute, sublicense, and/or sell copies  * of the Software, and to permit persons to whom the Software is  * furnished to do so, subject to the following conditions:  *  * The above copyright notice and this permission notice shall be  * included in all copies or substantial portions of the Software.  *  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,  * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF  * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND  * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY  * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF  * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION  * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.  *  * Except as contained in this notice, the names of the authors or  * their institutions shall not be used in advertising or otherwise to  * promote the sale, use or other dealings in this Software without  * prior written authorization from the authors.  */
end_comment
begin_include
include|#
directive|include
file|<stdlib.h>
end_include
begin_include
include|#
directive|include
file|<limits.h>
end_include
begin_include
include|#
directive|include
file|<string.h>
end_include
begin_include
include|#
directive|include
file|<xcb/xcb.h>
end_include
begin_include
include|#
directive|include
file|"xcb_icccm.h"
end_include
begin_function
name|xcb_get_property_cookie_t
DECL|function|xcb_icccm_get_text_property
name|xcb_icccm_get_text_property
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_atom_t
name|property
parameter_list|)
block|{
return|return
name|xcb_get_property
argument_list|(
name|c
argument_list|,
literal|0
argument_list|,
name|window
argument_list|,
name|property
argument_list|,
name|XCB_GET_PROPERTY_TYPE_ANY
argument_list|,
literal|0
argument_list|,
name|UINT_MAX
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_get_property_cookie_t
DECL|function|xcb_icccm_get_text_property_unchecked
name|xcb_icccm_get_text_property_unchecked
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_atom_t
name|property
parameter_list|)
block|{
return|return
name|xcb_get_property_unchecked
argument_list|(
name|c
argument_list|,
literal|0
argument_list|,
name|window
argument_list|,
name|property
argument_list|,
name|XCB_GET_PROPERTY_TYPE_ANY
argument_list|,
literal|0
argument_list|,
name|UINT_MAX
argument_list|)
return|;
block|}
end_function
begin_function
name|uint8_t
DECL|function|xcb_icccm_get_text_property_reply
name|xcb_icccm_get_text_property_reply
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_get_property_cookie_t
name|cookie
parameter_list|,
name|xcb_icccm_get_text_property_reply_t
modifier|*
name|prop
parameter_list|,
name|xcb_generic_error_t
modifier|*
modifier|*
name|e
parameter_list|)
block|{
name|xcb_get_property_reply_t
modifier|*
name|reply
init|=
name|xcb_get_property_reply
argument_list|(
name|c
argument_list|,
name|cookie
argument_list|,
name|e
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|reply
operator|||
name|reply
operator|->
name|type
operator|==
name|XCB_NONE
condition|)
block|{
name|free
argument_list|(
name|reply
argument_list|)
expr_stmt|;
return|return
literal|0
return|;
block|}
name|prop
operator|->
name|_reply
operator|=
name|reply
expr_stmt|;
name|prop
operator|->
name|encoding
operator|=
name|prop
operator|->
name|_reply
operator|->
name|type
expr_stmt|;
name|prop
operator|->
name|format
operator|=
name|prop
operator|->
name|_reply
operator|->
name|format
expr_stmt|;
name|prop
operator|->
name|name_len
operator|=
name|xcb_get_property_value_length
argument_list|(
name|prop
operator|->
name|_reply
argument_list|)
expr_stmt|;
name|prop
operator|->
name|name
operator|=
name|xcb_get_property_value
argument_list|(
name|prop
operator|->
name|_reply
argument_list|)
expr_stmt|;
return|return
literal|1
return|;
block|}
end_function
begin_function
name|void
DECL|function|xcb_icccm_get_text_property_reply_wipe
name|xcb_icccm_get_text_property_reply_wipe
parameter_list|(
name|xcb_icccm_get_text_property_reply_t
modifier|*
name|prop
parameter_list|)
block|{
name|free
argument_list|(
name|prop
operator|->
name|_reply
argument_list|)
expr_stmt|;
block|}
end_function
begin_comment
comment|/* WM_NAME */
end_comment
begin_function
name|xcb_void_cookie_t
DECL|function|xcb_icccm_set_wm_name_checked
name|xcb_icccm_set_wm_name_checked
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_atom_t
name|encoding
parameter_list|,
name|uint8_t
name|format
parameter_list|,
name|uint32_t
name|name_len
parameter_list|,
specifier|const
name|char
modifier|*
name|name
parameter_list|)
block|{
return|return
name|xcb_change_property_checked
argument_list|(
name|c
argument_list|,
name|XCB_PROP_MODE_REPLACE
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_NAME
argument_list|,
name|encoding
argument_list|,
name|format
argument_list|,
name|name_len
argument_list|,
name|name
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_void_cookie_t
DECL|function|xcb_icccm_set_wm_name
name|xcb_icccm_set_wm_name
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_atom_t
name|encoding
parameter_list|,
name|uint8_t
name|format
parameter_list|,
name|uint32_t
name|name_len
parameter_list|,
specifier|const
name|char
modifier|*
name|name
parameter_list|)
block|{
return|return
name|xcb_change_property
argument_list|(
name|c
argument_list|,
name|XCB_PROP_MODE_REPLACE
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_NAME
argument_list|,
name|encoding
argument_list|,
name|format
argument_list|,
name|name_len
argument_list|,
name|name
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_get_property_cookie_t
DECL|function|xcb_icccm_get_wm_name
name|xcb_icccm_get_wm_name
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|)
block|{
return|return
name|xcb_icccm_get_text_property
argument_list|(
name|c
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_NAME
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_get_property_cookie_t
DECL|function|xcb_icccm_get_wm_name_unchecked
name|xcb_icccm_get_wm_name_unchecked
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|)
block|{
return|return
name|xcb_icccm_get_text_property_unchecked
argument_list|(
name|c
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_NAME
argument_list|)
return|;
block|}
end_function
begin_function
name|uint8_t
DECL|function|xcb_icccm_get_wm_name_reply
name|xcb_icccm_get_wm_name_reply
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_get_property_cookie_t
name|cookie
parameter_list|,
name|xcb_icccm_get_text_property_reply_t
modifier|*
name|prop
parameter_list|,
name|xcb_generic_error_t
modifier|*
modifier|*
name|e
parameter_list|)
block|{
return|return
name|xcb_icccm_get_text_property_reply
argument_list|(
name|c
argument_list|,
name|cookie
argument_list|,
name|prop
argument_list|,
name|e
argument_list|)
return|;
block|}
end_function
begin_comment
comment|/* WM_ICON_NAME */
end_comment
begin_function
name|xcb_void_cookie_t
DECL|function|xcb_icccm_set_wm_icon_name_checked
name|xcb_icccm_set_wm_icon_name_checked
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_atom_t
name|encoding
parameter_list|,
name|uint8_t
name|format
parameter_list|,
name|uint32_t
name|name_len
parameter_list|,
specifier|const
name|char
modifier|*
name|name
parameter_list|)
block|{
return|return
name|xcb_change_property_checked
argument_list|(
name|c
argument_list|,
name|XCB_PROP_MODE_REPLACE
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_ICON_NAME
argument_list|,
name|encoding
argument_list|,
name|format
argument_list|,
name|name_len
argument_list|,
name|name
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_void_cookie_t
DECL|function|xcb_icccm_set_wm_icon_name
name|xcb_icccm_set_wm_icon_name
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_atom_t
name|encoding
parameter_list|,
name|uint8_t
name|format
parameter_list|,
name|uint32_t
name|name_len
parameter_list|,
specifier|const
name|char
modifier|*
name|name
parameter_list|)
block|{
return|return
name|xcb_change_property
argument_list|(
name|c
argument_list|,
name|XCB_PROP_MODE_REPLACE
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_ICON_NAME
argument_list|,
name|encoding
argument_list|,
name|format
argument_list|,
name|name_len
argument_list|,
name|name
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_get_property_cookie_t
DECL|function|xcb_icccm_get_wm_icon_name
name|xcb_icccm_get_wm_icon_name
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|)
block|{
return|return
name|xcb_icccm_get_text_property
argument_list|(
name|c
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_ICON_NAME
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_get_property_cookie_t
DECL|function|xcb_icccm_get_wm_icon_name_unchecked
name|xcb_icccm_get_wm_icon_name_unchecked
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|)
block|{
return|return
name|xcb_icccm_get_text_property_unchecked
argument_list|(
name|c
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_ICON_NAME
argument_list|)
return|;
block|}
end_function
begin_function
name|uint8_t
DECL|function|xcb_icccm_get_wm_icon_name_reply
name|xcb_icccm_get_wm_icon_name_reply
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_get_property_cookie_t
name|cookie
parameter_list|,
name|xcb_icccm_get_text_property_reply_t
modifier|*
name|prop
parameter_list|,
name|xcb_generic_error_t
modifier|*
modifier|*
name|e
parameter_list|)
block|{
return|return
name|xcb_icccm_get_text_property_reply
argument_list|(
name|c
argument_list|,
name|cookie
argument_list|,
name|prop
argument_list|,
name|e
argument_list|)
return|;
block|}
end_function
begin_comment
comment|/* WM_COLORMAP_WINDOWS */
end_comment
begin_function
name|xcb_void_cookie_t
DECL|function|xcb_icccm_set_wm_colormap_windows_checked
name|xcb_icccm_set_wm_colormap_windows_checked
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_atom_t
name|wm_colormap_windows_atom
parameter_list|,
name|uint32_t
name|list_len
parameter_list|,
specifier|const
name|xcb_window_t
modifier|*
name|list
parameter_list|)
block|{
return|return
name|xcb_change_property_checked
argument_list|(
name|c
argument_list|,
name|XCB_PROP_MODE_REPLACE
argument_list|,
name|window
argument_list|,
name|wm_colormap_windows_atom
argument_list|,
name|XCB_ATOM_WINDOW
argument_list|,
literal|32
argument_list|,
name|list_len
argument_list|,
name|list
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_void_cookie_t
DECL|function|xcb_icccm_set_wm_colormap_windows
name|xcb_icccm_set_wm_colormap_windows
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_atom_t
name|wm_colormap_windows_atom
parameter_list|,
name|uint32_t
name|list_len
parameter_list|,
specifier|const
name|xcb_atom_t
modifier|*
name|list
parameter_list|)
block|{
return|return
name|xcb_change_property
argument_list|(
name|c
argument_list|,
name|XCB_PROP_MODE_REPLACE
argument_list|,
name|window
argument_list|,
name|wm_colormap_windows_atom
argument_list|,
name|XCB_ATOM_WINDOW
argument_list|,
literal|32
argument_list|,
name|list_len
argument_list|,
name|list
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_get_property_cookie_t
DECL|function|xcb_icccm_get_wm_colormap_windows
name|xcb_icccm_get_wm_colormap_windows
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_atom_t
name|wm_colormap_windows_atom
parameter_list|)
block|{
return|return
name|xcb_get_property
argument_list|(
name|c
argument_list|,
literal|0
argument_list|,
name|window
argument_list|,
name|wm_colormap_windows_atom
argument_list|,
name|XCB_ATOM_WINDOW
argument_list|,
literal|0
argument_list|,
name|UINT_MAX
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_get_property_cookie_t
DECL|function|xcb_icccm_get_wm_colormap_windows_unchecked
name|xcb_icccm_get_wm_colormap_windows_unchecked
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_atom_t
name|wm_colormap_windows_atom
parameter_list|)
block|{
return|return
name|xcb_get_property_unchecked
argument_list|(
name|c
argument_list|,
literal|0
argument_list|,
name|window
argument_list|,
name|wm_colormap_windows_atom
argument_list|,
name|XCB_ATOM_WINDOW
argument_list|,
literal|0
argument_list|,
name|UINT_MAX
argument_list|)
return|;
block|}
end_function
begin_function
name|uint8_t
DECL|function|xcb_icccm_get_wm_colormap_windows_from_reply
name|xcb_icccm_get_wm_colormap_windows_from_reply
parameter_list|(
name|xcb_get_property_reply_t
modifier|*
name|reply
parameter_list|,
name|xcb_icccm_get_wm_colormap_windows_reply_t
modifier|*
name|colormap_windows
parameter_list|)
block|{
if|if
condition|(
operator|!
name|reply
operator|||
name|reply
operator|->
name|type
operator|!=
name|XCB_ATOM_WINDOW
operator|||
name|reply
operator|->
name|format
operator|!=
literal|32
condition|)
return|return
literal|0
return|;
name|colormap_windows
operator|->
name|_reply
operator|=
name|reply
expr_stmt|;
name|colormap_windows
operator|->
name|windows_len
operator|=
name|xcb_get_property_value_length
argument_list|(
name|colormap_windows
operator|->
name|_reply
argument_list|)
operator|/
operator|(
name|reply
operator|->
name|format
operator|/
literal|8
operator|)
expr_stmt|;
name|colormap_windows
operator|->
name|windows
operator|=
operator|(
name|xcb_window_t
operator|*
operator|)
name|xcb_get_property_value
argument_list|(
name|colormap_windows
operator|->
name|_reply
argument_list|)
expr_stmt|;
return|return
literal|1
return|;
block|}
end_function
begin_function
name|uint8_t
DECL|function|xcb_icccm_get_wm_colormap_windows_reply
name|xcb_icccm_get_wm_colormap_windows_reply
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_get_property_cookie_t
name|cookie
parameter_list|,
name|xcb_icccm_get_wm_colormap_windows_reply_t
modifier|*
name|colormap_windows
parameter_list|,
name|xcb_generic_error_t
modifier|*
modifier|*
name|e
parameter_list|)
block|{
name|xcb_get_property_reply_t
modifier|*
name|reply
init|=
name|xcb_get_property_reply
argument_list|(
name|c
argument_list|,
name|cookie
argument_list|,
name|e
argument_list|)
decl_stmt|;
name|uint8_t
name|ret
init|=
name|xcb_icccm_get_wm_colormap_windows_from_reply
argument_list|(
name|reply
argument_list|,
name|colormap_windows
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|ret
condition|)
name|free
argument_list|(
name|reply
argument_list|)
expr_stmt|;
return|return
name|ret
return|;
block|}
end_function
begin_function
name|void
DECL|function|xcb_icccm_get_wm_colormap_windows_reply_wipe
name|xcb_icccm_get_wm_colormap_windows_reply_wipe
parameter_list|(
name|xcb_icccm_get_wm_colormap_windows_reply_t
modifier|*
name|colormap_windows
parameter_list|)
block|{
name|free
argument_list|(
name|colormap_windows
operator|->
name|_reply
argument_list|)
expr_stmt|;
block|}
end_function
begin_comment
comment|/* WM_CLIENT_MACHINE */
end_comment
begin_function
name|xcb_void_cookie_t
DECL|function|xcb_icccm_set_wm_client_machine_checked
name|xcb_icccm_set_wm_client_machine_checked
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_atom_t
name|encoding
parameter_list|,
name|uint8_t
name|format
parameter_list|,
name|uint32_t
name|name_len
parameter_list|,
specifier|const
name|char
modifier|*
name|name
parameter_list|)
block|{
return|return
name|xcb_change_property_checked
argument_list|(
name|c
argument_list|,
name|XCB_PROP_MODE_REPLACE
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_CLIENT_MACHINE
argument_list|,
name|encoding
argument_list|,
name|format
argument_list|,
name|name_len
argument_list|,
name|name
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_void_cookie_t
DECL|function|xcb_icccm_set_wm_client_machine
name|xcb_icccm_set_wm_client_machine
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_atom_t
name|encoding
parameter_list|,
name|uint8_t
name|format
parameter_list|,
name|uint32_t
name|name_len
parameter_list|,
specifier|const
name|char
modifier|*
name|name
parameter_list|)
block|{
return|return
name|xcb_change_property
argument_list|(
name|c
argument_list|,
name|XCB_PROP_MODE_REPLACE
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_CLIENT_MACHINE
argument_list|,
name|encoding
argument_list|,
name|format
argument_list|,
name|name_len
argument_list|,
name|name
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_get_property_cookie_t
DECL|function|xcb_icccm_get_wm_client_machine
name|xcb_icccm_get_wm_client_machine
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|)
block|{
return|return
name|xcb_icccm_get_text_property
argument_list|(
name|c
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_CLIENT_MACHINE
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_get_property_cookie_t
DECL|function|xcb_icccm_get_wm_client_machine_unchecked
name|xcb_icccm_get_wm_client_machine_unchecked
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|)
block|{
return|return
name|xcb_icccm_get_text_property_unchecked
argument_list|(
name|c
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_CLIENT_MACHINE
argument_list|)
return|;
block|}
end_function
begin_function
name|uint8_t
DECL|function|xcb_icccm_get_wm_client_machine_reply
name|xcb_icccm_get_wm_client_machine_reply
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_get_property_cookie_t
name|cookie
parameter_list|,
name|xcb_icccm_get_text_property_reply_t
modifier|*
name|prop
parameter_list|,
name|xcb_generic_error_t
modifier|*
modifier|*
name|e
parameter_list|)
block|{
return|return
name|xcb_icccm_get_text_property_reply
argument_list|(
name|c
argument_list|,
name|cookie
argument_list|,
name|prop
argument_list|,
name|e
argument_list|)
return|;
block|}
end_function
begin_comment
comment|/* WM_CLASS */
end_comment
begin_function
name|xcb_void_cookie_t
DECL|function|xcb_icccm_set_wm_class_checked
name|xcb_icccm_set_wm_class_checked
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|uint32_t
name|class_len
parameter_list|,
specifier|const
name|char
modifier|*
name|class
parameter_list|)
block|{
return|return
name|xcb_change_property_checked
argument_list|(
name|c
argument_list|,
name|XCB_PROP_MODE_REPLACE
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_CLASS
argument_list|,
name|XCB_ATOM_STRING
argument_list|,
literal|8
argument_list|,
name|class_len
argument_list|,
name|class
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_void_cookie_t
DECL|function|xcb_icccm_set_wm_class
name|xcb_icccm_set_wm_class
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|uint32_t
name|class_len
parameter_list|,
specifier|const
name|char
modifier|*
name|class
parameter_list|)
block|{
return|return
name|xcb_change_property
argument_list|(
name|c
argument_list|,
name|XCB_PROP_MODE_REPLACE
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_CLASS
argument_list|,
name|XCB_ATOM_STRING
argument_list|,
literal|8
argument_list|,
name|class_len
argument_list|,
name|class
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_get_property_cookie_t
DECL|function|xcb_icccm_get_wm_class
name|xcb_icccm_get_wm_class
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|)
block|{
return|return
name|xcb_get_property
argument_list|(
name|c
argument_list|,
literal|0
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_CLASS
argument_list|,
name|XCB_ATOM_STRING
argument_list|,
literal|0L
argument_list|,
literal|2048L
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_get_property_cookie_t
DECL|function|xcb_icccm_get_wm_class_unchecked
name|xcb_icccm_get_wm_class_unchecked
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|)
block|{
return|return
name|xcb_get_property_unchecked
argument_list|(
name|c
argument_list|,
literal|0
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_CLASS
argument_list|,
name|XCB_ATOM_STRING
argument_list|,
literal|0L
argument_list|,
literal|2048L
argument_list|)
return|;
block|}
end_function
begin_function
name|uint8_t
DECL|function|xcb_icccm_get_wm_class_from_reply
name|xcb_icccm_get_wm_class_from_reply
parameter_list|(
name|xcb_icccm_get_wm_class_reply_t
modifier|*
name|prop
parameter_list|,
name|xcb_get_property_reply_t
modifier|*
name|reply
parameter_list|)
block|{
if|if
condition|(
operator|!
name|reply
operator|||
name|reply
operator|->
name|type
operator|!=
name|XCB_ATOM_STRING
operator|||
name|reply
operator|->
name|format
operator|!=
literal|8
condition|)
return|return
literal|0
return|;
name|prop
operator|->
name|_reply
operator|=
name|reply
expr_stmt|;
name|prop
operator|->
name|instance_name
operator|=
operator|(
name|char
operator|*
operator|)
name|xcb_get_property_value
argument_list|(
name|prop
operator|->
name|_reply
argument_list|)
expr_stmt|;
name|int
name|len
init|=
name|xcb_get_property_value_length
argument_list|(
name|prop
operator|->
name|_reply
argument_list|)
decl_stmt|;
comment|/* Ensure there's a C end-of-string at the end of the property.      Truncate the property if necessary (the spec says there's already      a 0 in the last position, so this only hurts invalid props). */
if|if
condition|(
name|len
operator|<
name|reply
operator|->
name|length
operator|*
literal|4
condition|)
name|prop
operator|->
name|instance_name
index|[
name|len
index|]
operator|=
literal|0
expr_stmt|;
else|else
name|prop
operator|->
name|instance_name
index|[
name|len
operator|-
literal|1
index|]
operator|=
literal|0
expr_stmt|;
name|int
name|name_len
init|=
name|strlen
argument_list|(
name|prop
operator|->
name|instance_name
argument_list|)
decl_stmt|;
if|if
condition|(
name|name_len
operator|==
name|len
condition|)
name|name_len
operator|--
expr_stmt|;
name|prop
operator|->
name|class_name
operator|=
name|prop
operator|->
name|instance_name
operator|+
name|name_len
operator|+
literal|1
expr_stmt|;
return|return
literal|1
return|;
block|}
end_function
begin_function
name|uint8_t
DECL|function|xcb_icccm_get_wm_class_reply
name|xcb_icccm_get_wm_class_reply
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_get_property_cookie_t
name|cookie
parameter_list|,
name|xcb_icccm_get_wm_class_reply_t
modifier|*
name|prop
parameter_list|,
name|xcb_generic_error_t
modifier|*
modifier|*
name|e
parameter_list|)
block|{
name|xcb_get_property_reply_t
modifier|*
name|reply
init|=
name|xcb_get_property_reply
argument_list|(
name|c
argument_list|,
name|cookie
argument_list|,
name|e
argument_list|)
decl_stmt|;
name|uint8_t
name|ret
init|=
name|xcb_icccm_get_wm_class_from_reply
argument_list|(
name|prop
argument_list|,
name|reply
argument_list|)
decl_stmt|;
comment|/* if reply parsing failed, free the reply to avoid mem leak */
if|if
condition|(
operator|!
name|ret
condition|)
name|free
argument_list|(
name|reply
argument_list|)
expr_stmt|;
return|return
name|ret
return|;
block|}
end_function
begin_function
name|void
DECL|function|xcb_icccm_get_wm_class_reply_wipe
name|xcb_icccm_get_wm_class_reply_wipe
parameter_list|(
name|xcb_icccm_get_wm_class_reply_t
modifier|*
name|prop
parameter_list|)
block|{
name|free
argument_list|(
name|prop
operator|->
name|_reply
argument_list|)
expr_stmt|;
block|}
end_function
begin_comment
comment|/* WM_TRANSIENT_FOR */
end_comment
begin_function
name|xcb_void_cookie_t
DECL|function|xcb_icccm_set_wm_transient_for_checked
name|xcb_icccm_set_wm_transient_for_checked
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_window_t
name|transient_for_window
parameter_list|)
block|{
return|return
name|xcb_change_property_checked
argument_list|(
name|c
argument_list|,
name|XCB_PROP_MODE_REPLACE
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_TRANSIENT_FOR
argument_list|,
name|XCB_ATOM_WINDOW
argument_list|,
literal|32
argument_list|,
literal|1
argument_list|,
operator|&
name|transient_for_window
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_void_cookie_t
DECL|function|xcb_icccm_set_wm_transient_for
name|xcb_icccm_set_wm_transient_for
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_window_t
name|transient_for_window
parameter_list|)
block|{
return|return
name|xcb_change_property
argument_list|(
name|c
argument_list|,
name|XCB_PROP_MODE_REPLACE
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_TRANSIENT_FOR
argument_list|,
name|XCB_ATOM_WINDOW
argument_list|,
literal|32
argument_list|,
literal|1
argument_list|,
operator|&
name|transient_for_window
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_get_property_cookie_t
DECL|function|xcb_icccm_get_wm_transient_for
name|xcb_icccm_get_wm_transient_for
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|)
block|{
return|return
name|xcb_get_property
argument_list|(
name|c
argument_list|,
literal|0
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_TRANSIENT_FOR
argument_list|,
name|XCB_ATOM_WINDOW
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_get_property_cookie_t
DECL|function|xcb_icccm_get_wm_transient_for_unchecked
name|xcb_icccm_get_wm_transient_for_unchecked
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|)
block|{
return|return
name|xcb_get_property_unchecked
argument_list|(
name|c
argument_list|,
literal|0
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_TRANSIENT_FOR
argument_list|,
name|XCB_ATOM_WINDOW
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
return|;
block|}
end_function
begin_function
name|uint8_t
DECL|function|xcb_icccm_get_wm_transient_for_from_reply
name|xcb_icccm_get_wm_transient_for_from_reply
parameter_list|(
name|xcb_window_t
modifier|*
name|prop
parameter_list|,
name|xcb_get_property_reply_t
modifier|*
name|reply
parameter_list|)
block|{
if|if
condition|(
operator|!
name|reply
operator|||
name|reply
operator|->
name|type
operator|!=
name|XCB_ATOM_WINDOW
operator|||
name|reply
operator|->
name|format
operator|!=
literal|32
operator|||
operator|!
name|reply
operator|->
name|length
condition|)
return|return
literal|0
return|;
operator|*
name|prop
operator|=
operator|*
operator|(
operator|(
name|xcb_window_t
operator|*
operator|)
name|xcb_get_property_value
argument_list|(
name|reply
argument_list|)
operator|)
expr_stmt|;
return|return
literal|1
return|;
block|}
end_function
begin_function
name|uint8_t
DECL|function|xcb_icccm_get_wm_transient_for_reply
name|xcb_icccm_get_wm_transient_for_reply
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_get_property_cookie_t
name|cookie
parameter_list|,
name|xcb_window_t
modifier|*
name|prop
parameter_list|,
name|xcb_generic_error_t
modifier|*
modifier|*
name|e
parameter_list|)
block|{
name|xcb_get_property_reply_t
modifier|*
name|reply
init|=
name|xcb_get_property_reply
argument_list|(
name|c
argument_list|,
name|cookie
argument_list|,
name|e
argument_list|)
decl_stmt|;
name|uint8_t
name|ret
init|=
name|xcb_icccm_get_wm_transient_for_from_reply
argument_list|(
name|prop
argument_list|,
name|reply
argument_list|)
decl_stmt|;
name|free
argument_list|(
name|reply
argument_list|)
expr_stmt|;
return|return
name|ret
return|;
block|}
end_function
begin_comment
comment|/* WM_SIZE_HINTS */
end_comment
begin_function
name|void
DECL|function|xcb_icccm_size_hints_set_position
name|xcb_icccm_size_hints_set_position
parameter_list|(
name|xcb_size_hints_t
modifier|*
name|hints
parameter_list|,
name|int
name|user_specified
parameter_list|,
name|int32_t
name|x
parameter_list|,
name|int32_t
name|y
parameter_list|)
block|{
name|hints
operator|->
name|flags
operator|&=
operator|~
operator|(
name|XCB_ICCCM_SIZE_HINT_US_POSITION
operator||
name|XCB_ICCCM_SIZE_HINT_P_POSITION
operator|)
expr_stmt|;
if|if
condition|(
name|user_specified
condition|)
name|hints
operator|->
name|flags
operator||=
name|XCB_ICCCM_SIZE_HINT_US_POSITION
expr_stmt|;
else|else
name|hints
operator|->
name|flags
operator||=
name|XCB_ICCCM_SIZE_HINT_P_POSITION
expr_stmt|;
name|hints
operator|->
name|x
operator|=
name|x
expr_stmt|;
name|hints
operator|->
name|y
operator|=
name|y
expr_stmt|;
block|}
end_function
begin_function
name|void
DECL|function|xcb_icccm_size_hints_set_size
name|xcb_icccm_size_hints_set_size
parameter_list|(
name|xcb_size_hints_t
modifier|*
name|hints
parameter_list|,
name|int
name|user_specified
parameter_list|,
name|int32_t
name|width
parameter_list|,
name|int32_t
name|height
parameter_list|)
block|{
name|hints
operator|->
name|flags
operator|&=
operator|~
operator|(
name|XCB_ICCCM_SIZE_HINT_US_SIZE
operator||
name|XCB_ICCCM_SIZE_HINT_P_SIZE
operator|)
expr_stmt|;
if|if
condition|(
name|user_specified
condition|)
name|hints
operator|->
name|flags
operator||=
name|XCB_ICCCM_SIZE_HINT_US_SIZE
expr_stmt|;
else|else
name|hints
operator|->
name|flags
operator||=
name|XCB_ICCCM_SIZE_HINT_P_SIZE
expr_stmt|;
name|hints
operator|->
name|width
operator|=
name|width
expr_stmt|;
name|hints
operator|->
name|height
operator|=
name|height
expr_stmt|;
block|}
end_function
begin_function
name|void
DECL|function|xcb_icccm_size_hints_set_min_size
name|xcb_icccm_size_hints_set_min_size
parameter_list|(
name|xcb_size_hints_t
modifier|*
name|hints
parameter_list|,
name|int32_t
name|min_width
parameter_list|,
name|int32_t
name|min_height
parameter_list|)
block|{
name|hints
operator|->
name|flags
operator||=
name|XCB_ICCCM_SIZE_HINT_P_MIN_SIZE
expr_stmt|;
name|hints
operator|->
name|min_width
operator|=
name|min_width
expr_stmt|;
name|hints
operator|->
name|min_height
operator|=
name|min_height
expr_stmt|;
block|}
end_function
begin_function
name|void
DECL|function|xcb_icccm_size_hints_set_max_size
name|xcb_icccm_size_hints_set_max_size
parameter_list|(
name|xcb_size_hints_t
modifier|*
name|hints
parameter_list|,
name|int32_t
name|max_width
parameter_list|,
name|int32_t
name|max_height
parameter_list|)
block|{
name|hints
operator|->
name|flags
operator||=
name|XCB_ICCCM_SIZE_HINT_P_MAX_SIZE
expr_stmt|;
name|hints
operator|->
name|max_width
operator|=
name|max_width
expr_stmt|;
name|hints
operator|->
name|max_height
operator|=
name|max_height
expr_stmt|;
block|}
end_function
begin_function
name|void
DECL|function|xcb_icccm_size_hints_set_resize_inc
name|xcb_icccm_size_hints_set_resize_inc
parameter_list|(
name|xcb_size_hints_t
modifier|*
name|hints
parameter_list|,
name|int32_t
name|width_inc
parameter_list|,
name|int32_t
name|height_inc
parameter_list|)
block|{
name|hints
operator|->
name|flags
operator||=
name|XCB_ICCCM_SIZE_HINT_P_RESIZE_INC
expr_stmt|;
name|hints
operator|->
name|width_inc
operator|=
name|width_inc
expr_stmt|;
name|hints
operator|->
name|height_inc
operator|=
name|height_inc
expr_stmt|;
block|}
end_function
begin_function
name|void
DECL|function|xcb_icccm_size_hints_set_aspect
name|xcb_icccm_size_hints_set_aspect
parameter_list|(
name|xcb_size_hints_t
modifier|*
name|hints
parameter_list|,
name|int32_t
name|min_aspect_num
parameter_list|,
name|int32_t
name|min_aspect_den
parameter_list|,
name|int32_t
name|max_aspect_num
parameter_list|,
name|int32_t
name|max_aspect_den
parameter_list|)
block|{
name|hints
operator|->
name|flags
operator||=
name|XCB_ICCCM_SIZE_HINT_P_ASPECT
expr_stmt|;
name|hints
operator|->
name|min_aspect_num
operator|=
name|min_aspect_num
expr_stmt|;
name|hints
operator|->
name|min_aspect_den
operator|=
name|min_aspect_den
expr_stmt|;
name|hints
operator|->
name|max_aspect_num
operator|=
name|max_aspect_num
expr_stmt|;
name|hints
operator|->
name|max_aspect_den
operator|=
name|max_aspect_den
expr_stmt|;
block|}
end_function
begin_function
name|void
DECL|function|xcb_icccm_size_hints_set_base_size
name|xcb_icccm_size_hints_set_base_size
parameter_list|(
name|xcb_size_hints_t
modifier|*
name|hints
parameter_list|,
name|int32_t
name|base_width
parameter_list|,
name|int32_t
name|base_height
parameter_list|)
block|{
name|hints
operator|->
name|flags
operator||=
name|XCB_ICCCM_SIZE_HINT_BASE_SIZE
expr_stmt|;
name|hints
operator|->
name|base_width
operator|=
name|base_width
expr_stmt|;
name|hints
operator|->
name|base_height
operator|=
name|base_height
expr_stmt|;
block|}
end_function
begin_function
name|void
DECL|function|xcb_icccm_size_hints_set_win_gravity
name|xcb_icccm_size_hints_set_win_gravity
parameter_list|(
name|xcb_size_hints_t
modifier|*
name|hints
parameter_list|,
name|xcb_gravity_t
name|win_gravity
parameter_list|)
block|{
name|hints
operator|->
name|flags
operator||=
name|XCB_ICCCM_SIZE_HINT_P_WIN_GRAVITY
expr_stmt|;
name|hints
operator|->
name|win_gravity
operator|=
name|win_gravity
expr_stmt|;
block|}
end_function
begin_function
name|xcb_void_cookie_t
DECL|function|xcb_icccm_set_wm_size_hints_checked
name|xcb_icccm_set_wm_size_hints_checked
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_atom_t
name|property
parameter_list|,
name|xcb_size_hints_t
modifier|*
name|hints
parameter_list|)
block|{
return|return
name|xcb_change_property_checked
argument_list|(
name|c
argument_list|,
name|XCB_PROP_MODE_REPLACE
argument_list|,
name|window
argument_list|,
name|property
argument_list|,
name|XCB_ATOM_WM_SIZE_HINTS
argument_list|,
literal|32
argument_list|,
sizeof|sizeof
argument_list|(
operator|*
name|hints
argument_list|)
operator|>>
literal|2
argument_list|,
name|hints
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_void_cookie_t
DECL|function|xcb_icccm_set_wm_size_hints
name|xcb_icccm_set_wm_size_hints
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_atom_t
name|property
parameter_list|,
name|xcb_size_hints_t
modifier|*
name|hints
parameter_list|)
block|{
return|return
name|xcb_change_property
argument_list|(
name|c
argument_list|,
name|XCB_PROP_MODE_REPLACE
argument_list|,
name|window
argument_list|,
name|property
argument_list|,
name|XCB_ATOM_WM_SIZE_HINTS
argument_list|,
literal|32
argument_list|,
sizeof|sizeof
argument_list|(
operator|*
name|hints
argument_list|)
operator|>>
literal|2
argument_list|,
name|hints
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_get_property_cookie_t
DECL|function|xcb_icccm_get_wm_size_hints
name|xcb_icccm_get_wm_size_hints
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_atom_t
name|property
parameter_list|)
block|{
return|return
name|xcb_get_property
argument_list|(
name|c
argument_list|,
literal|0
argument_list|,
name|window
argument_list|,
name|property
argument_list|,
name|XCB_ATOM_WM_SIZE_HINTS
argument_list|,
literal|0L
argument_list|,
name|XCB_ICCCM_NUM_WM_SIZE_HINTS_ELEMENTS
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_get_property_cookie_t
DECL|function|xcb_icccm_get_wm_size_hints_unchecked
name|xcb_icccm_get_wm_size_hints_unchecked
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_atom_t
name|property
parameter_list|)
block|{
return|return
name|xcb_get_property_unchecked
argument_list|(
name|c
argument_list|,
literal|0
argument_list|,
name|window
argument_list|,
name|property
argument_list|,
name|XCB_ATOM_WM_SIZE_HINTS
argument_list|,
literal|0L
argument_list|,
name|XCB_ICCCM_NUM_WM_SIZE_HINTS_ELEMENTS
argument_list|)
return|;
block|}
end_function
begin_function
name|uint8_t
DECL|function|xcb_icccm_get_wm_size_hints_from_reply
name|xcb_icccm_get_wm_size_hints_from_reply
parameter_list|(
name|xcb_size_hints_t
modifier|*
name|hints
parameter_list|,
name|xcb_get_property_reply_t
modifier|*
name|reply
parameter_list|)
block|{
name|uint32_t
name|flags
decl_stmt|;
name|int
name|length
decl_stmt|;
if|if
condition|(
operator|!
name|reply
condition|)
return|return
literal|0
return|;
if|if
condition|(
operator|!
operator|(
name|reply
operator|->
name|type
operator|==
name|XCB_ATOM_WM_SIZE_HINTS
operator|&&
name|reply
operator|->
name|format
operator|==
literal|32
operator|)
condition|)
return|return
literal|0
return|;
name|length
operator|=
name|xcb_get_property_value_length
argument_list|(
name|reply
argument_list|)
operator|/
operator|(
name|reply
operator|->
name|format
operator|/
literal|8
operator|)
expr_stmt|;
if|if
condition|(
name|length
operator|>
name|XCB_ICCCM_NUM_WM_SIZE_HINTS_ELEMENTS
condition|)
name|length
operator|=
name|XCB_ICCCM_NUM_WM_SIZE_HINTS_ELEMENTS
expr_stmt|;
name|memcpy
argument_list|(
name|hints
argument_list|,
operator|(
name|xcb_size_hints_t
operator|*
operator|)
name|xcb_get_property_value
argument_list|(
name|reply
argument_list|)
argument_list|,
name|length
operator|*
operator|(
name|reply
operator|->
name|format
operator|/
literal|8
operator|)
argument_list|)
expr_stmt|;
name|flags
operator|=
operator|(
name|XCB_ICCCM_SIZE_HINT_US_POSITION
operator||
name|XCB_ICCCM_SIZE_HINT_US_SIZE
operator||
name|XCB_ICCCM_SIZE_HINT_P_POSITION
operator||
name|XCB_ICCCM_SIZE_HINT_P_SIZE
operator||
name|XCB_ICCCM_SIZE_HINT_P_MIN_SIZE
operator||
name|XCB_ICCCM_SIZE_HINT_P_MAX_SIZE
operator||
name|XCB_ICCCM_SIZE_HINT_P_RESIZE_INC
operator||
name|XCB_ICCCM_SIZE_HINT_P_ASPECT
operator|)
expr_stmt|;
comment|/* NumPropSizeElements = 18 (ICCCM version 1) */
if|if
condition|(
name|length
operator|>=
literal|18
condition|)
name|flags
operator||=
operator|(
name|XCB_ICCCM_SIZE_HINT_BASE_SIZE
operator||
name|XCB_ICCCM_SIZE_HINT_P_WIN_GRAVITY
operator|)
expr_stmt|;
else|else
block|{
name|hints
operator|->
name|base_width
operator|=
literal|0
expr_stmt|;
name|hints
operator|->
name|base_height
operator|=
literal|0
expr_stmt|;
name|hints
operator|->
name|win_gravity
operator|=
literal|0
expr_stmt|;
block|}
comment|/* get rid of unwanted bits */
name|hints
operator|->
name|flags
operator|&=
name|flags
expr_stmt|;
return|return
literal|1
return|;
block|}
end_function
begin_function
name|uint8_t
DECL|function|xcb_icccm_get_wm_size_hints_reply
name|xcb_icccm_get_wm_size_hints_reply
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_get_property_cookie_t
name|cookie
parameter_list|,
name|xcb_size_hints_t
modifier|*
name|hints
parameter_list|,
name|xcb_generic_error_t
modifier|*
modifier|*
name|e
parameter_list|)
block|{
name|xcb_get_property_reply_t
modifier|*
name|reply
init|=
name|xcb_get_property_reply
argument_list|(
name|c
argument_list|,
name|cookie
argument_list|,
name|e
argument_list|)
decl_stmt|;
name|uint8_t
name|ret
init|=
name|xcb_icccm_get_wm_size_hints_from_reply
argument_list|(
name|hints
argument_list|,
name|reply
argument_list|)
decl_stmt|;
name|free
argument_list|(
name|reply
argument_list|)
expr_stmt|;
return|return
name|ret
return|;
block|}
end_function
begin_comment
comment|/* WM_NORMAL_HINTS */
end_comment
begin_function
name|xcb_void_cookie_t
DECL|function|xcb_icccm_set_wm_normal_hints_checked
name|xcb_icccm_set_wm_normal_hints_checked
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_size_hints_t
modifier|*
name|hints
parameter_list|)
block|{
return|return
name|xcb_icccm_set_wm_size_hints_checked
argument_list|(
name|c
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_NORMAL_HINTS
argument_list|,
name|hints
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_void_cookie_t
DECL|function|xcb_icccm_set_wm_normal_hints
name|xcb_icccm_set_wm_normal_hints
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_size_hints_t
modifier|*
name|hints
parameter_list|)
block|{
return|return
name|xcb_icccm_set_wm_size_hints
argument_list|(
name|c
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_NORMAL_HINTS
argument_list|,
name|hints
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_get_property_cookie_t
DECL|function|xcb_icccm_get_wm_normal_hints
name|xcb_icccm_get_wm_normal_hints
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|)
block|{
return|return
name|xcb_icccm_get_wm_size_hints
argument_list|(
name|c
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_NORMAL_HINTS
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_get_property_cookie_t
DECL|function|xcb_icccm_get_wm_normal_hints_unchecked
name|xcb_icccm_get_wm_normal_hints_unchecked
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|)
block|{
return|return
name|xcb_icccm_get_wm_size_hints_unchecked
argument_list|(
name|c
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_NORMAL_HINTS
argument_list|)
return|;
block|}
end_function
begin_function
name|uint8_t
DECL|function|xcb_icccm_get_wm_normal_hints_reply
name|xcb_icccm_get_wm_normal_hints_reply
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_get_property_cookie_t
name|cookie
parameter_list|,
name|xcb_size_hints_t
modifier|*
name|hints
parameter_list|,
name|xcb_generic_error_t
modifier|*
modifier|*
name|e
parameter_list|)
block|{
return|return
name|xcb_icccm_get_wm_size_hints_reply
argument_list|(
name|c
argument_list|,
name|cookie
argument_list|,
name|hints
argument_list|,
name|e
argument_list|)
return|;
block|}
end_function
begin_comment
comment|/* WM_HINTS */
end_comment
begin_function
name|uint32_t
DECL|function|xcb_icccm_wm_hints_get_urgency
name|xcb_icccm_wm_hints_get_urgency
parameter_list|(
name|xcb_icccm_wm_hints_t
modifier|*
name|hints
parameter_list|)
block|{
return|return
operator|(
name|hints
operator|->
name|flags
operator|&
name|XCB_ICCCM_WM_HINT_X_URGENCY
operator|)
return|;
block|}
end_function
begin_function
name|void
DECL|function|xcb_icccm_wm_hints_set_input
name|xcb_icccm_wm_hints_set_input
parameter_list|(
name|xcb_icccm_wm_hints_t
modifier|*
name|hints
parameter_list|,
name|uint8_t
name|input
parameter_list|)
block|{
name|hints
operator|->
name|input
operator|=
name|input
expr_stmt|;
name|hints
operator|->
name|flags
operator||=
name|XCB_ICCCM_WM_HINT_INPUT
expr_stmt|;
block|}
end_function
begin_function
name|void
DECL|function|xcb_icccm_wm_hints_set_iconic
name|xcb_icccm_wm_hints_set_iconic
parameter_list|(
name|xcb_icccm_wm_hints_t
modifier|*
name|hints
parameter_list|)
block|{
name|hints
operator|->
name|initial_state
operator|=
name|XCB_ICCCM_WM_STATE_ICONIC
expr_stmt|;
name|hints
operator|->
name|flags
operator||=
name|XCB_ICCCM_WM_HINT_STATE
expr_stmt|;
block|}
end_function
begin_function
name|void
DECL|function|xcb_icccm_wm_hints_set_normal
name|xcb_icccm_wm_hints_set_normal
parameter_list|(
name|xcb_icccm_wm_hints_t
modifier|*
name|hints
parameter_list|)
block|{
name|hints
operator|->
name|initial_state
operator|=
name|XCB_ICCCM_WM_STATE_NORMAL
expr_stmt|;
name|hints
operator|->
name|flags
operator||=
name|XCB_ICCCM_WM_HINT_STATE
expr_stmt|;
block|}
end_function
begin_function
name|void
DECL|function|xcb_icccm_wm_hints_set_withdrawn
name|xcb_icccm_wm_hints_set_withdrawn
parameter_list|(
name|xcb_icccm_wm_hints_t
modifier|*
name|hints
parameter_list|)
block|{
name|hints
operator|->
name|initial_state
operator|=
name|XCB_ICCCM_WM_STATE_WITHDRAWN
expr_stmt|;
name|hints
operator|->
name|flags
operator||=
name|XCB_ICCCM_WM_HINT_STATE
expr_stmt|;
block|}
end_function
begin_function
name|void
DECL|function|xcb_icccm_wm_hints_set_none
name|xcb_icccm_wm_hints_set_none
parameter_list|(
name|xcb_icccm_wm_hints_t
modifier|*
name|hints
parameter_list|)
block|{
name|hints
operator|->
name|flags
operator|&=
operator|~
name|XCB_ICCCM_WM_HINT_STATE
expr_stmt|;
block|}
end_function
begin_function
name|void
DECL|function|xcb_icccm_wm_hints_set_icon_pixmap
name|xcb_icccm_wm_hints_set_icon_pixmap
parameter_list|(
name|xcb_icccm_wm_hints_t
modifier|*
name|hints
parameter_list|,
name|xcb_pixmap_t
name|icon_pixmap
parameter_list|)
block|{
name|hints
operator|->
name|icon_pixmap
operator|=
name|icon_pixmap
expr_stmt|;
name|hints
operator|->
name|flags
operator||=
name|XCB_ICCCM_WM_HINT_ICON_PIXMAP
expr_stmt|;
block|}
end_function
begin_function
name|void
DECL|function|xcb_icccm_wm_hints_set_icon_mask
name|xcb_icccm_wm_hints_set_icon_mask
parameter_list|(
name|xcb_icccm_wm_hints_t
modifier|*
name|hints
parameter_list|,
name|xcb_pixmap_t
name|icon_mask
parameter_list|)
block|{
name|hints
operator|->
name|icon_mask
operator|=
name|icon_mask
expr_stmt|;
name|hints
operator|->
name|flags
operator||=
name|XCB_ICCCM_WM_HINT_ICON_MASK
expr_stmt|;
block|}
end_function
begin_function
name|void
DECL|function|xcb_icccm_wm_hints_set_icon_window
name|xcb_icccm_wm_hints_set_icon_window
parameter_list|(
name|xcb_icccm_wm_hints_t
modifier|*
name|hints
parameter_list|,
name|xcb_window_t
name|icon_window
parameter_list|)
block|{
name|hints
operator|->
name|icon_window
operator|=
name|icon_window
expr_stmt|;
name|hints
operator|->
name|flags
operator||=
name|XCB_ICCCM_WM_HINT_ICON_WINDOW
expr_stmt|;
block|}
end_function
begin_function
name|void
DECL|function|xcb_icccm_wm_hints_set_window_group
name|xcb_icccm_wm_hints_set_window_group
parameter_list|(
name|xcb_icccm_wm_hints_t
modifier|*
name|hints
parameter_list|,
name|xcb_window_t
name|window_group
parameter_list|)
block|{
name|hints
operator|->
name|window_group
operator|=
name|window_group
expr_stmt|;
name|hints
operator|->
name|flags
operator||=
name|XCB_ICCCM_WM_HINT_WINDOW_GROUP
expr_stmt|;
block|}
end_function
begin_function
name|void
DECL|function|xcb_icccm_wm_hints_set_urgency
name|xcb_icccm_wm_hints_set_urgency
parameter_list|(
name|xcb_icccm_wm_hints_t
modifier|*
name|hints
parameter_list|)
block|{
name|hints
operator|->
name|flags
operator||=
name|XCB_ICCCM_WM_HINT_X_URGENCY
expr_stmt|;
block|}
end_function
begin_function
name|xcb_void_cookie_t
DECL|function|xcb_icccm_set_wm_hints_checked
name|xcb_icccm_set_wm_hints_checked
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_icccm_wm_hints_t
modifier|*
name|hints
parameter_list|)
block|{
return|return
name|xcb_change_property_checked
argument_list|(
name|c
argument_list|,
name|XCB_PROP_MODE_REPLACE
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_HINTS
argument_list|,
name|XCB_ATOM_WM_HINTS
argument_list|,
literal|32
argument_list|,
sizeof|sizeof
argument_list|(
operator|*
name|hints
argument_list|)
operator|>>
literal|2
argument_list|,
name|hints
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_void_cookie_t
DECL|function|xcb_icccm_set_wm_hints
name|xcb_icccm_set_wm_hints
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_icccm_wm_hints_t
modifier|*
name|hints
parameter_list|)
block|{
return|return
name|xcb_change_property
argument_list|(
name|c
argument_list|,
name|XCB_PROP_MODE_REPLACE
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_HINTS
argument_list|,
name|XCB_ATOM_WM_HINTS
argument_list|,
literal|32
argument_list|,
sizeof|sizeof
argument_list|(
operator|*
name|hints
argument_list|)
operator|>>
literal|2
argument_list|,
name|hints
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_get_property_cookie_t
DECL|function|xcb_icccm_get_wm_hints
name|xcb_icccm_get_wm_hints
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|)
block|{
return|return
name|xcb_get_property
argument_list|(
name|c
argument_list|,
literal|0
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_HINTS
argument_list|,
name|XCB_ATOM_WM_HINTS
argument_list|,
literal|0L
argument_list|,
name|XCB_ICCCM_NUM_WM_HINTS_ELEMENTS
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_get_property_cookie_t
DECL|function|xcb_icccm_get_wm_hints_unchecked
name|xcb_icccm_get_wm_hints_unchecked
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|)
block|{
return|return
name|xcb_get_property_unchecked
argument_list|(
name|c
argument_list|,
literal|0
argument_list|,
name|window
argument_list|,
name|XCB_ATOM_WM_HINTS
argument_list|,
name|XCB_ATOM_WM_HINTS
argument_list|,
literal|0L
argument_list|,
name|XCB_ICCCM_NUM_WM_HINTS_ELEMENTS
argument_list|)
return|;
block|}
end_function
begin_function
name|uint8_t
DECL|function|xcb_icccm_get_wm_hints_from_reply
name|xcb_icccm_get_wm_hints_from_reply
parameter_list|(
name|xcb_icccm_wm_hints_t
modifier|*
name|hints
parameter_list|,
name|xcb_get_property_reply_t
modifier|*
name|reply
parameter_list|)
block|{
if|if
condition|(
operator|!
name|reply
operator|||
name|reply
operator|->
name|type
operator|!=
name|XCB_ATOM_WM_HINTS
operator|||
name|reply
operator|->
name|format
operator|!=
literal|32
condition|)
return|return
literal|0
return|;
name|int
name|length
init|=
name|xcb_get_property_value_length
argument_list|(
name|reply
argument_list|)
decl_stmt|;
name|int
name|num_elem
init|=
name|length
operator|/
operator|(
name|reply
operator|->
name|format
operator|/
literal|8
operator|)
decl_stmt|;
if|if
condition|(
name|num_elem
operator|<
name|XCB_ICCCM_NUM_WM_HINTS_ELEMENTS
operator|-
literal|1
condition|)
return|return
literal|0
return|;
if|if
condition|(
name|length
operator|>
sizeof|sizeof
argument_list|(
name|xcb_size_hints_t
argument_list|)
condition|)
name|length
operator|=
sizeof|sizeof
argument_list|(
name|xcb_size_hints_t
argument_list|)
expr_stmt|;
name|memcpy
argument_list|(
name|hints
argument_list|,
operator|(
name|xcb_size_hints_t
operator|*
operator|)
name|xcb_get_property_value
argument_list|(
name|reply
argument_list|)
argument_list|,
name|length
argument_list|)
expr_stmt|;
if|if
condition|(
name|num_elem
operator|<
name|XCB_ICCCM_NUM_WM_HINTS_ELEMENTS
condition|)
name|hints
operator|->
name|window_group
operator|=
name|XCB_NONE
expr_stmt|;
return|return
literal|1
return|;
block|}
end_function
begin_function
name|uint8_t
DECL|function|xcb_icccm_get_wm_hints_reply
name|xcb_icccm_get_wm_hints_reply
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_get_property_cookie_t
name|cookie
parameter_list|,
name|xcb_icccm_wm_hints_t
modifier|*
name|hints
parameter_list|,
name|xcb_generic_error_t
modifier|*
modifier|*
name|e
parameter_list|)
block|{
name|xcb_get_property_reply_t
modifier|*
name|reply
init|=
name|xcb_get_property_reply
argument_list|(
name|c
argument_list|,
name|cookie
argument_list|,
name|e
argument_list|)
decl_stmt|;
name|int
name|ret
init|=
name|xcb_icccm_get_wm_hints_from_reply
argument_list|(
name|hints
argument_list|,
name|reply
argument_list|)
decl_stmt|;
name|free
argument_list|(
name|reply
argument_list|)
expr_stmt|;
return|return
name|ret
return|;
block|}
end_function
begin_comment
comment|/* WM_PROTOCOLS */
end_comment
begin_function
name|xcb_void_cookie_t
DECL|function|xcb_icccm_set_wm_protocols_checked
name|xcb_icccm_set_wm_protocols_checked
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_atom_t
name|wm_protocols
parameter_list|,
name|uint32_t
name|list_len
parameter_list|,
name|xcb_atom_t
modifier|*
name|list
parameter_list|)
block|{
return|return
name|xcb_change_property_checked
argument_list|(
name|c
argument_list|,
name|XCB_PROP_MODE_REPLACE
argument_list|,
name|window
argument_list|,
name|wm_protocols
argument_list|,
name|XCB_ATOM_ATOM
argument_list|,
literal|32
argument_list|,
name|list_len
argument_list|,
name|list
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_void_cookie_t
DECL|function|xcb_icccm_set_wm_protocols
name|xcb_icccm_set_wm_protocols
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_atom_t
name|wm_protocols
parameter_list|,
name|uint32_t
name|list_len
parameter_list|,
name|xcb_atom_t
modifier|*
name|list
parameter_list|)
block|{
return|return
name|xcb_change_property
argument_list|(
name|c
argument_list|,
name|XCB_PROP_MODE_REPLACE
argument_list|,
name|window
argument_list|,
name|wm_protocols
argument_list|,
name|XCB_ATOM_ATOM
argument_list|,
literal|32
argument_list|,
name|list_len
argument_list|,
name|list
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_get_property_cookie_t
DECL|function|xcb_icccm_get_wm_protocols
name|xcb_icccm_get_wm_protocols
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_atom_t
name|wm_protocol_atom
parameter_list|)
block|{
return|return
name|xcb_get_property
argument_list|(
name|c
argument_list|,
literal|0
argument_list|,
name|window
argument_list|,
name|wm_protocol_atom
argument_list|,
name|XCB_ATOM_ATOM
argument_list|,
literal|0
argument_list|,
name|UINT_MAX
argument_list|)
return|;
block|}
end_function
begin_function
name|xcb_get_property_cookie_t
DECL|function|xcb_icccm_get_wm_protocols_unchecked
name|xcb_icccm_get_wm_protocols_unchecked
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_window_t
name|window
parameter_list|,
name|xcb_atom_t
name|wm_protocol_atom
parameter_list|)
block|{
return|return
name|xcb_get_property_unchecked
argument_list|(
name|c
argument_list|,
literal|0
argument_list|,
name|window
argument_list|,
name|wm_protocol_atom
argument_list|,
name|XCB_ATOM_ATOM
argument_list|,
literal|0
argument_list|,
name|UINT_MAX
argument_list|)
return|;
block|}
end_function
begin_function
name|uint8_t
DECL|function|xcb_icccm_get_wm_protocols_from_reply
name|xcb_icccm_get_wm_protocols_from_reply
parameter_list|(
name|xcb_get_property_reply_t
modifier|*
name|reply
parameter_list|,
name|xcb_icccm_get_wm_protocols_reply_t
modifier|*
name|protocols
parameter_list|)
block|{
if|if
condition|(
operator|!
name|reply
operator|||
name|reply
operator|->
name|type
operator|!=
name|XCB_ATOM_ATOM
operator|||
name|reply
operator|->
name|format
operator|!=
literal|32
condition|)
return|return
literal|0
return|;
name|protocols
operator|->
name|_reply
operator|=
name|reply
expr_stmt|;
name|protocols
operator|->
name|atoms_len
operator|=
name|xcb_get_property_value_length
argument_list|(
name|protocols
operator|->
name|_reply
argument_list|)
operator|/
operator|(
name|reply
operator|->
name|format
operator|/
literal|8
operator|)
expr_stmt|;
name|protocols
operator|->
name|atoms
operator|=
operator|(
name|xcb_atom_t
operator|*
operator|)
name|xcb_get_property_value
argument_list|(
name|protocols
operator|->
name|_reply
argument_list|)
expr_stmt|;
return|return
literal|1
return|;
block|}
end_function
begin_function
name|uint8_t
DECL|function|xcb_icccm_get_wm_protocols_reply
name|xcb_icccm_get_wm_protocols_reply
parameter_list|(
name|xcb_connection_t
modifier|*
name|c
parameter_list|,
name|xcb_get_property_cookie_t
name|cookie
parameter_list|,
name|xcb_icccm_get_wm_protocols_reply_t
modifier|*
name|protocols
parameter_list|,
name|xcb_generic_error_t
modifier|*
modifier|*
name|e
parameter_list|)
block|{
name|xcb_get_property_reply_t
modifier|*
name|reply
init|=
name|xcb_get_property_reply
argument_list|(
name|c
argument_list|,
name|cookie
argument_list|,
name|e
argument_list|)
decl_stmt|;
name|uint8_t
name|ret
init|=
name|xcb_icccm_get_wm_protocols_from_reply
argument_list|(
name|reply
argument_list|,
name|protocols
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|ret
condition|)
name|free
argument_list|(
name|reply
argument_list|)
expr_stmt|;
return|return
name|ret
return|;
block|}
end_function
begin_function
name|void
DECL|function|xcb_icccm_get_wm_protocols_reply_wipe
name|xcb_icccm_get_wm_protocols_reply_wipe
parameter_list|(
name|xcb_icccm_get_wm_protocols_reply_t
modifier|*
name|protocols
parameter_list|)
block|{
name|free
argument_list|(
name|protocols
operator|->
name|_reply
argument_list|)
expr_stmt|;
block|}
end_function
end_unit
