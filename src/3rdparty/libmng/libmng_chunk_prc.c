begin_unit
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_comment
comment|/* *             For conditions of distribution and use,                    * */
end_comment
begin_comment
comment|/* *                see copyright notice in libmng.h                        * */
end_comment
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_comment
comment|/* *                                                                        * */
end_comment
begin_comment
comment|/* * project   : libmng                                                     * */
end_comment
begin_comment
comment|/* * file      : libmng_chunk_prc.c        copyright (c) 2000-2005 G.Juyn   * */
end_comment
begin_comment
comment|/* * version   : 1.0.10                                                     * */
end_comment
begin_comment
comment|/* *                                                                        * */
end_comment
begin_comment
comment|/* * purpose   : Chunk initialization& cleanup (implementation)            * */
end_comment
begin_comment
comment|/* *                                                                        * */
end_comment
begin_comment
comment|/* * author    : G.Juyn                                                     * */
end_comment
begin_comment
comment|/* *                                                                        * */
end_comment
begin_comment
comment|/* * comment   : implementation of the chunk initialization& cleanup       * */
end_comment
begin_comment
comment|/* *             routines                                                   * */
end_comment
begin_comment
comment|/* *                                                                        * */
end_comment
begin_comment
comment|/* * changes   : 0.5.1 - 05/08/2000 - G.Juyn                                * */
end_comment
begin_comment
comment|/* *             - changed strict-ANSI stuff                                * */
end_comment
begin_comment
comment|/* *             0.5.1 - 05/12/2000 - G.Juyn                                * */
end_comment
begin_comment
comment|/* *             - changed trace to macro for callback error-reporting      * */
end_comment
begin_comment
comment|/* *                                                                        * */
end_comment
begin_comment
comment|/* *             0.9.1 - 07/19/2000 - G.Juyn                                * */
end_comment
begin_comment
comment|/* *             - fixed creation-code                                      * */
end_comment
begin_comment
comment|/* *                                                                        * */
end_comment
begin_comment
comment|/* *             0.9.2 - 07/31/2000 - G.Juyn                                * */
end_comment
begin_comment
comment|/* *             - put add_chunk() inside MNG_INCLUDE_WRITE_PROCS wrapper   * */
end_comment
begin_comment
comment|/* *             0.9.2 - 08/01/2000 - G.Juyn                                * */
end_comment
begin_comment
comment|/* *             - wrapper for add_chunk() changed                          * */
end_comment
begin_comment
comment|/* *             0.9.2 - 08/05/2000 - G.Juyn                                * */
end_comment
begin_comment
comment|/* *             - changed file-prefixes                                    * */
end_comment
begin_comment
comment|/* *                                                                        * */
end_comment
begin_comment
comment|/* *             0.9.3 - 08/26/2000 - G.Juyn                                * */
end_comment
begin_comment
comment|/* *             - added MAGN chunk                                         * */
end_comment
begin_comment
comment|/* *             0.9.3 - 10/16/2000 - G.Juyn                                * */
end_comment
begin_comment
comment|/* *             - added support for JDAA                                   * */
end_comment
begin_comment
comment|/* *                                                                        * */
end_comment
begin_comment
comment|/* *             1.0.5 - 08/19/2002 - G.Juyn                                * */
end_comment
begin_comment
comment|/* *             - B597134 - libmng pollutes the linker namespace           * */
end_comment
begin_comment
comment|/* *             - added HLAPI function to copy chunks                      * */
end_comment
begin_comment
comment|/* *             1.0.5 - 09/14/2002 - G.Juyn                                * */
end_comment
begin_comment
comment|/* *             - added event handling for dynamic MNG                     * */
end_comment
begin_comment
comment|/* *             1.0.5 - 10/04/2002 - G.Juyn                                * */
end_comment
begin_comment
comment|/* *             - fixed chunk-storage for evNT chunk                       * */
end_comment
begin_comment
comment|/* *             1.0.5 - 10/17/2002 - G.Juyn                                * */
end_comment
begin_comment
comment|/* *             - fixed issue in freeing evNT chunk                        * */
end_comment
begin_comment
comment|/* *                                                                        * */
end_comment
begin_comment
comment|/* *             1.0.6 - 07/07/2003 - G.R-P                                 * */
end_comment
begin_comment
comment|/* *             - added MNG_SKIPCHUNK_cHNK footprint optimizations         * */
end_comment
begin_comment
comment|/* *             - added MNG_NO_DELTA_PNG reduction feature                 * */
end_comment
begin_comment
comment|/* *             1.0.6 - 07/14/2003 - G.R-P                                 * */
end_comment
begin_comment
comment|/* *             - added MNG_NO_LOOP_SIGNALS_SUPPORTED conditional          * */
end_comment
begin_comment
comment|/* *             1.0.6 - 07/29/2003 - G.R-P                                 * */
end_comment
begin_comment
comment|/* *             - added conditionals around PAST chunk support             * */
end_comment
begin_comment
comment|/* *             1.0.6 - 08/17/2003 - G.R-P                                 * */
end_comment
begin_comment
comment|/* *             - added conditionals around non-VLC chunk support          * */
end_comment
begin_comment
comment|/* *                                                                        * */
end_comment
begin_comment
comment|/* *             1.0.7 - 03/24/2004 - G.R-P                                 * */
end_comment
begin_comment
comment|/* *             - fixed SKIPCHUNK_eXPI -> fPRI typo                        * */
end_comment
begin_comment
comment|/* *                                                                        * */
end_comment
begin_comment
comment|/* *             1.0.9 - 09/25/2004 - G.Juyn                                * */
end_comment
begin_comment
comment|/* *             - replaced MNG_TWEAK_LARGE_FILES with permanent solution   * */
end_comment
begin_comment
comment|/* *             1.0.9 - 12/05/2004 - G.Juyn                                * */
end_comment
begin_comment
comment|/* *             - added conditional MNG_OPTIMIZE_CHUNKINITFREE             * */
end_comment
begin_comment
comment|/* *             1.0.9 - 12/06/2004 - G.Juyn                                * */
end_comment
begin_comment
comment|/* *             - added conditional MNG_OPTIMIZE_CHUNKASSIGN               * */
end_comment
begin_comment
comment|/* *             1.0.9 - 12/20/2004 - G.Juyn                                * */
end_comment
begin_comment
comment|/* *             - cleaned up macro-invocations (thanks to D. Airlie)       * */
end_comment
begin_comment
comment|/* *                                                                        * */
end_comment
begin_comment
comment|/* *             1.0.10 - 07/30/2005 - G.Juyn                               * */
end_comment
begin_comment
comment|/* *             - fixed problem with CLON object during readdisplay()      * */
end_comment
begin_comment
comment|/* *             1.0.10 - 04/08/2007 - G.Juyn                               * */
end_comment
begin_comment
comment|/* *             - added support for mPNG proposal                          * */
end_comment
begin_comment
comment|/* *             1.0.10 - 04/12/2007 - G.Juyn                               * */
end_comment
begin_comment
comment|/* *             - added support for ANG proposal                           * */
end_comment
begin_comment
comment|/* *                                                                        * */
end_comment
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_include
include|#
directive|include
file|"libmng.h"
end_include
begin_include
include|#
directive|include
file|"libmng_data.h"
end_include
begin_include
include|#
directive|include
file|"libmng_error.h"
end_include
begin_include
include|#
directive|include
file|"libmng_trace.h"
end_include
begin_ifdef
ifdef|#
directive|ifdef
name|__BORLANDC__
end_ifdef
begin_pragma
pragma|#
directive|pragma
name|hdrstop
end_pragma
begin_endif
endif|#
directive|endif
end_endif
begin_include
include|#
directive|include
file|"libmng_memory.h"
end_include
begin_include
include|#
directive|include
file|"libmng_chunks.h"
end_include
begin_include
include|#
directive|include
file|"libmng_chunk_prc.h"
end_include
begin_if
if|#
directive|if
name|defined
argument_list|(
name|__BORLANDC__
argument_list|)
operator|&&
name|defined
argument_list|(
name|MNG_STRICT_ANSI
argument_list|)
end_if
begin_pragma
pragma|#
directive|pragma
name|option
name|-
name|A
end_pragma
begin_comment
comment|/* force ANSI-C */
end_comment
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_comment
comment|/* *                                                                        * */
end_comment
begin_comment
comment|/* * General chunk routines                                                 * */
end_comment
begin_comment
comment|/* *                                                                        * */
end_comment
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_function
DECL|function|mng_add_chunk
name|void
name|mng_add_chunk
parameter_list|(
name|mng_datap
name|pData
parameter_list|,
name|mng_chunkp
name|pChunk
parameter_list|)
block|{
if|if
condition|(
operator|!
name|pData
operator|->
name|pFirstchunk
condition|)
comment|/* list is still empty ? */
block|{
name|pData
operator|->
name|pFirstchunk
operator|=
name|pChunk
expr_stmt|;
comment|/* then this becomes the first */
ifdef|#
directive|ifdef
name|MNG_SUPPORT_WRITE
if|if
condition|(
operator|!
name|pData
operator|->
name|iFirstchunkadded
condition|)
block|{
name|pData
operator|->
name|iFirstchunkadded
operator|=
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunk
operator|)
operator|->
name|iChunkname
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunk
operator|)
operator|->
name|iChunkname
operator|==
name|MNG_UINT_IHDR
condition|)
name|pData
operator|->
name|eImagetype
operator|=
name|mng_it_png
expr_stmt|;
elseif|else
ifdef|#
directive|ifdef
name|MNG_INCLUDE_JNG
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunk
operator|)
operator|->
name|iChunkname
operator|==
name|MNG_UINT_JHDR
condition|)
name|pData
operator|->
name|eImagetype
operator|=
name|mng_it_jng
expr_stmt|;
else|else
endif|#
directive|endif
name|pData
operator|->
name|eImagetype
operator|=
name|mng_it_mng
expr_stmt|;
name|pData
operator|->
name|eSigtype
operator|=
name|pData
operator|->
name|eImagetype
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_WRITE
block|}
endif|#
directive|endif
block|}
else|else
block|{
comment|/* else we make appropriate links */
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunk
operator|)
operator|->
name|pPrev
operator|=
name|pData
operator|->
name|pLastchunk
expr_stmt|;
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pData
operator|->
name|pLastchunk
operator|)
operator|->
name|pNext
operator|=
name|pChunk
expr_stmt|;
block|}
name|pData
operator|->
name|pLastchunk
operator|=
name|pChunk
expr_stmt|;
comment|/* and it's always the last */
return|return;
block|}
end_function
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_comment
comment|/* *                                                                        * */
end_comment
begin_comment
comment|/* * Chunk specific initialization routines                                 * */
end_comment
begin_comment
comment|/* *                                                                        * */
end_comment
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifdef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_general
argument_list|)
end_macro
begin_block
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
operator|->
name|iChunksize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|*
name|ppChunk
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_chunk_header
argument_list|)
argument_list|)
expr_stmt|;
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_else
else|#
directive|else
end_else
begin_comment
comment|/* MNG_OPTIMIZE_CHUNKINITFREE */
end_comment
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_ihdr
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_IHDR
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_ihdr
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_ihdrp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_IHDR
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_plte
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_PLTE
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_plte
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_pltep
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_PLTE
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_idat
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_IDAT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_idat
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_idatp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_IDAT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_iend
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_IEND
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_iend
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_iendp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_IEND
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_trns
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_TRNS
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_trns
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_trnsp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_TRNS
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_gAMA
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_gama
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_GAMA
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_gama
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_gamap
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_GAMA
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_cHRM
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_chrm
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_CHRM
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_chrm
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_chrmp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_CHRM
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_sRGB
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_srgb
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_SRGB
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_srgb
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_srgbp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_SRGB
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_iCCP
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_iccp
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_ICCP
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_iccp
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_iccpp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_ICCP
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_tEXt
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_text
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_TEXT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_text
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_textp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_TEXT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_zTXt
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_ztxt
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_ZTXT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_ztxt
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_ztxtp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_ZTXT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_iTXt
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_itxt
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_ITXT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_itxt
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_itxtp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_ITXT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_bKGD
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_bkgd
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_BKGD
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_bkgd
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_bkgdp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_BKGD
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_pHYs
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_phys
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_PHYS
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_phys
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_physp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_PHYS
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_sBIT
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_sbit
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_SBIT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_sbit
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_sbitp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_SBIT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_sPLT
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_splt
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_SPLT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_splt
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_spltp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_SPLT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_hIST
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_hist
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_HIST
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_hist
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_histp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_HIST
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_tIME
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_time
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_TIME
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_time
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_timep
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_TIME
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_mhdr
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_MHDR
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_mhdr
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_mhdrp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_MHDR
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_mend
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_MEND
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_mend
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_mendp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_MEND
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_LOOP
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_loop
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_LOOP
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_loop
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_loopp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_LOOP
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_endl
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_ENDL
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_endl
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_endlp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_ENDL
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_DEFI
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_defi
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_DEFI
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_defi
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_defip
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_DEFI
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_BASI
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_basi
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_BASI
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_basi
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_basip
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_BASI
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_CLON
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_clon
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_CLON
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_clon
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_clonp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_CLON
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_PAST
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_past
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_PAST
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_past
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_pastp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_PAST
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_DISC
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_disc
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_DISC
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_disc
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_discp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_DISC
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_BACK
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_back
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_BACK
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_back
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_backp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_BACK
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_FRAM
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_fram
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_FRAM
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_fram
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_framp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_FRAM
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_MOVE
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_move
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_MOVE
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_move
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_movep
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_MOVE
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_CLIP
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_clip
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_CLIP
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_clip
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_clipp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_CLIP
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_SHOW
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_show
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_SHOW
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_show
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_showp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_SHOW
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_TERM
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_term
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_TERM
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_term
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_termp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_TERM
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_SAVE
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_save
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_SAVE
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_save
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_savep
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_SAVE
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_SEEK
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_seek
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_SEEK
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_seek
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_seekp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_SEEK
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_eXPI
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_expi
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_EXPI
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_expi
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_expip
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_EXPI
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_fPRI
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_fpri
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_FPRI
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_fpri
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_fprip
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_FPRI
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_nEED
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_need
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_NEED
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_need
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_needp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_NEED
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_pHYg
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_phyg
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_PHYG
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_phyg
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_phygp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_PHYG
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_INCLUDE_JNG
end_ifdef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_jhdr
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_JHDR
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_jhdr
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_jhdrp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_JHDR
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* MNG_INCLUDE_JNG */
end_comment
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_INCLUDE_JNG
end_ifdef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_jdaa
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_JDAA
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_jdaa
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_jdaap
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_JDAA
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* MNG_INCLUDE_JNG */
end_comment
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_INCLUDE_JNG
end_ifdef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_jdat
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_JDAT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_jdat
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_jdatp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_JDAT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* MNG_INCLUDE_JNG */
end_comment
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_INCLUDE_JNG
end_ifdef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_jsep
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_JSEP
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_jsep
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_jsepp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_JSEP
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* MNG_INCLUDE_JNG */
end_comment
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_dhdr
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_DHDR
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_dhdr
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_dhdrp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_DHDR
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_prom
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_PROM
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_prom
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_promp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_PROM
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_ipng
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_IPNG
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_ipng
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_ipngp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_IPNG
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_pplt
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_PPLT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_pplt
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_ppltp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_PPLT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_INCLUDE_JNG
end_ifdef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_ijng
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_IJNG
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_ijng
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_ijngp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_IJNG
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_drop
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_DROP
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_drop
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_dropp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_DROP
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_DBYK
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_dbyk
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_DBYK
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_dbyk
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_dbykp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_DBYK
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_ORDR
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_ordr
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_ORDR
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_ordr
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_ordrp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_ORDR
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_MAGN
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_magn
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_MAGN
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_magn
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_magnp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_MAGN
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_evNT
end_ifndef
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_evnt
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_EVNT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_evnt
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_evntp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_EVNT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_macro
DECL|function|INIT_CHUNK_HDR
name|INIT_CHUNK_HDR
argument_list|(
argument|mng_init_unknown
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_UNKNOWN
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|*
name|ppChunk
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_unknown_chunk
argument_list|)
argument_list|)
expr_stmt|;
operator|(
operator|(
name|mng_unknown_chunkp
operator|)
operator|*
name|ppChunk
operator|)
operator|->
name|sHeader
operator|=
operator|*
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_INIT_UNKNOWN
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* MNG_OPTIMIZE_CHUNKINITFREE */
end_comment
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_comment
comment|/* *                                                                        * */
end_comment
begin_comment
comment|/* * Chunk specific cleanup routines                                        * */
end_comment
begin_comment
comment|/* *                                                                        * */
end_comment
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifdef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_general
argument_list|)
end_macro
begin_block
block|{
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pHeader
operator|)
operator|->
name|iChunksize
argument_list|)
expr_stmt|;
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_ihdr
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_IHDR
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_ihdr
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_IHDR
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_plte
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_PLTE
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_plte
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_PLTE
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_idat
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_IDAT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_idatp
operator|)
name|pHeader
operator|)
operator|->
name|iDatasize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_idatp
operator|)
name|pHeader
operator|)
operator|->
name|pData
argument_list|,
operator|(
operator|(
name|mng_idatp
operator|)
name|pHeader
operator|)
operator|->
name|iDatasize
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_idat
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_IDAT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_iend
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_IEND
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_iend
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_IEND
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_trns
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_TRNS
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_trns
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_TRNS
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_gAMA
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_gama
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_GAMA
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_gama
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_GAMA
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_cHRM
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_chrm
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_CHRM
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_chrm
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_CHRM
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_sRGB
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_srgb
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_SRGB
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_srgb
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_SRGB
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_iCCP
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_iccp
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_ICCP
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_iccpp
operator|)
name|pHeader
operator|)
operator|->
name|iNamesize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_iccpp
operator|)
name|pHeader
operator|)
operator|->
name|zName
argument_list|,
operator|(
operator|(
name|mng_iccpp
operator|)
name|pHeader
operator|)
operator|->
name|iNamesize
operator|+
literal|1
argument_list|)
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_iccpp
operator|)
name|pHeader
operator|)
operator|->
name|iProfilesize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_iccpp
operator|)
name|pHeader
operator|)
operator|->
name|pProfile
argument_list|,
operator|(
operator|(
name|mng_iccpp
operator|)
name|pHeader
operator|)
operator|->
name|iProfilesize
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_iccp
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_ICCP
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_tEXt
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_text
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_TEXT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_textp
operator|)
name|pHeader
operator|)
operator|->
name|iKeywordsize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_textp
operator|)
name|pHeader
operator|)
operator|->
name|zKeyword
argument_list|,
operator|(
operator|(
name|mng_textp
operator|)
name|pHeader
operator|)
operator|->
name|iKeywordsize
operator|+
literal|1
argument_list|)
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_textp
operator|)
name|pHeader
operator|)
operator|->
name|iTextsize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_textp
operator|)
name|pHeader
operator|)
operator|->
name|zText
argument_list|,
operator|(
operator|(
name|mng_textp
operator|)
name|pHeader
operator|)
operator|->
name|iTextsize
operator|+
literal|1
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_text
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_TEXT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_zTXt
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_ztxt
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_ZTXT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pHeader
operator|)
operator|->
name|iKeywordsize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pHeader
operator|)
operator|->
name|zKeyword
argument_list|,
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pHeader
operator|)
operator|->
name|iKeywordsize
operator|+
literal|1
argument_list|)
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pHeader
operator|)
operator|->
name|iTextsize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pHeader
operator|)
operator|->
name|zText
argument_list|,
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pHeader
operator|)
operator|->
name|iTextsize
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_ztxt
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_ZTXT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_iTXt
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_itxt
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_ITXT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_itxtp
operator|)
name|pHeader
operator|)
operator|->
name|iKeywordsize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pHeader
operator|)
operator|->
name|zKeyword
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pHeader
operator|)
operator|->
name|iKeywordsize
operator|+
literal|1
argument_list|)
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_itxtp
operator|)
name|pHeader
operator|)
operator|->
name|iLanguagesize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pHeader
operator|)
operator|->
name|zLanguage
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pHeader
operator|)
operator|->
name|iLanguagesize
operator|+
literal|1
argument_list|)
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_itxtp
operator|)
name|pHeader
operator|)
operator|->
name|iTranslationsize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pHeader
operator|)
operator|->
name|zTranslation
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pHeader
operator|)
operator|->
name|iTranslationsize
operator|+
literal|1
argument_list|)
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_itxtp
operator|)
name|pHeader
operator|)
operator|->
name|iTextsize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pHeader
operator|)
operator|->
name|zText
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pHeader
operator|)
operator|->
name|iTextsize
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_itxt
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_ITXT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_INCLUDE_MPNG_PROPOSAL
end_ifdef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_mpng
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_MPNG
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_mpngp
operator|)
name|pHeader
operator|)
operator|->
name|iFramessize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_mpngp
operator|)
name|pHeader
operator|)
operator|->
name|pFrames
argument_list|,
operator|(
operator|(
name|mng_mpngp
operator|)
name|pHeader
operator|)
operator|->
name|iFramessize
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_mpng
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_MPNG
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_INCLUDE_ANG_PROPOSAL
end_ifdef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_adat
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_ADAT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_adatp
operator|)
name|pHeader
operator|)
operator|->
name|iTilessize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_adatp
operator|)
name|pHeader
operator|)
operator|->
name|pTiles
argument_list|,
operator|(
operator|(
name|mng_adatp
operator|)
name|pHeader
operator|)
operator|->
name|iTilessize
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_adat
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_ADAT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_bKGD
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_bkgd
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_BKGD
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_bkgd
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_BKGD
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_pHYs
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_phys
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_PHYS
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_phys
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_PHYS
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_sBIT
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_sbit
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_SBIT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_sbit
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_SBIT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_sPLT
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_splt
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_SPLT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_spltp
operator|)
name|pHeader
operator|)
operator|->
name|iNamesize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_spltp
operator|)
name|pHeader
operator|)
operator|->
name|zName
argument_list|,
operator|(
operator|(
name|mng_spltp
operator|)
name|pHeader
operator|)
operator|->
name|iNamesize
operator|+
literal|1
argument_list|)
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_spltp
operator|)
name|pHeader
operator|)
operator|->
name|iEntrycount
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_spltp
operator|)
name|pHeader
operator|)
operator|->
name|pEntries
argument_list|,
operator|(
operator|(
name|mng_spltp
operator|)
name|pHeader
operator|)
operator|->
name|iEntrycount
operator|*
operator|(
operator|(
operator|(
name|mng_spltp
operator|)
name|pHeader
operator|)
operator|->
name|iSampledepth
operator|*
literal|3
operator|+
sizeof|sizeof
argument_list|(
name|mng_uint16
argument_list|)
operator|)
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_splt
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_SPLT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_hIST
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_hist
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_HIST
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_hist
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_HIST
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_tIME
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_time
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_TIME
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_time
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_TIME
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_mhdr
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_MHDR
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_mhdr
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_MHDR
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_mend
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_MEND
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_mend
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_MEND
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_LOOP
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_loop
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_LOOP
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_NO_LOOP_SIGNALS_SUPPORTED
if|if
condition|(
operator|(
operator|(
name|mng_loopp
operator|)
name|pHeader
operator|)
operator|->
name|iCount
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_loopp
operator|)
name|pHeader
operator|)
operator|->
name|pSignals
argument_list|,
operator|(
operator|(
name|mng_loopp
operator|)
name|pHeader
operator|)
operator|->
name|iCount
operator|*
sizeof|sizeof
argument_list|(
name|mng_uint32
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_loop
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_LOOP
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_endl
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_ENDL
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_endl
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_ENDL
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_DEFI
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_defi
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_DEFI
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_defi
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_DEFI
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_BASI
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_basi
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_BASI
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_basi
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_BASI
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_CLON
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_clon
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_CLON
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_clon
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_CLON
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_PAST
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_past
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_PAST
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_pastp
operator|)
name|pHeader
operator|)
operator|->
name|iCount
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_pastp
operator|)
name|pHeader
operator|)
operator|->
name|pSources
argument_list|,
operator|(
operator|(
name|mng_pastp
operator|)
name|pHeader
operator|)
operator|->
name|iCount
operator|*
sizeof|sizeof
argument_list|(
name|mng_past_source
argument_list|)
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_past
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_PAST
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_DISC
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_disc
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_DISC
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_discp
operator|)
name|pHeader
operator|)
operator|->
name|iCount
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_discp
operator|)
name|pHeader
operator|)
operator|->
name|pObjectids
argument_list|,
operator|(
operator|(
name|mng_discp
operator|)
name|pHeader
operator|)
operator|->
name|iCount
operator|*
sizeof|sizeof
argument_list|(
name|mng_uint16
argument_list|)
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_disc
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_DISC
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_BACK
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_back
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_BACK
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_back
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_BACK
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_FRAM
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_fram
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_FRAM
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_framp
operator|)
name|pHeader
operator|)
operator|->
name|iNamesize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_framp
operator|)
name|pHeader
operator|)
operator|->
name|zName
argument_list|,
operator|(
operator|(
name|mng_framp
operator|)
name|pHeader
operator|)
operator|->
name|iNamesize
operator|+
literal|1
argument_list|)
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_framp
operator|)
name|pHeader
operator|)
operator|->
name|iCount
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_framp
operator|)
name|pHeader
operator|)
operator|->
name|pSyncids
argument_list|,
operator|(
operator|(
name|mng_framp
operator|)
name|pHeader
operator|)
operator|->
name|iCount
operator|*
sizeof|sizeof
argument_list|(
name|mng_uint32
argument_list|)
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_fram
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_FRAM
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_MOVE
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_move
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_MOVE
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_move
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_MOVE
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_CLIP
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_clip
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_CLIP
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_clip
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_CLIP
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_SHOW
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_show
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_SHOW
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_show
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_SHOW
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_TERM
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_term
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_TERM
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_term
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_TERM
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_SAVE
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_save
argument_list|)
end_macro
begin_block
block|{
name|mng_save_entryp
name|pEntry
init|=
operator|(
operator|(
name|mng_savep
operator|)
name|pHeader
operator|)
operator|->
name|pEntries
decl_stmt|;
name|mng_uint32
name|iX
decl_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_SAVE
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
for|for
control|(
name|iX
operator|=
literal|0
init|;
name|iX
operator|<
operator|(
operator|(
name|mng_savep
operator|)
name|pHeader
operator|)
operator|->
name|iCount
condition|;
name|iX
operator|++
control|)
block|{
if|if
condition|(
name|pEntry
operator|->
name|iNamesize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pEntry
operator|->
name|zName
argument_list|,
name|pEntry
operator|->
name|iNamesize
argument_list|)
expr_stmt|;
name|pEntry
operator|=
name|pEntry
operator|+
sizeof|sizeof
argument_list|(
name|mng_save_entry
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
operator|(
operator|(
name|mng_savep
operator|)
name|pHeader
operator|)
operator|->
name|iCount
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_savep
operator|)
name|pHeader
operator|)
operator|->
name|pEntries
argument_list|,
operator|(
operator|(
name|mng_savep
operator|)
name|pHeader
operator|)
operator|->
name|iCount
operator|*
sizeof|sizeof
argument_list|(
name|mng_save_entry
argument_list|)
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_save
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_SAVE
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_SEEK
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_seek
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_SEEK
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_seekp
operator|)
name|pHeader
operator|)
operator|->
name|iNamesize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_seekp
operator|)
name|pHeader
operator|)
operator|->
name|zName
argument_list|,
operator|(
operator|(
name|mng_seekp
operator|)
name|pHeader
operator|)
operator|->
name|iNamesize
operator|+
literal|1
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_seek
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_SEEK
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_eXPI
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_expi
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_EXPI
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_expip
operator|)
name|pHeader
operator|)
operator|->
name|iNamesize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_expip
operator|)
name|pHeader
operator|)
operator|->
name|zName
argument_list|,
operator|(
operator|(
name|mng_expip
operator|)
name|pHeader
operator|)
operator|->
name|iNamesize
operator|+
literal|1
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_expi
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_EXPI
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_fPRI
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_fpri
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_FPRI
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_fpri
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_FPRI
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_nEED
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_need
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_NEED
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_needp
operator|)
name|pHeader
operator|)
operator|->
name|iKeywordssize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_needp
operator|)
name|pHeader
operator|)
operator|->
name|zKeywords
argument_list|,
operator|(
operator|(
name|mng_needp
operator|)
name|pHeader
operator|)
operator|->
name|iKeywordssize
operator|+
literal|1
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_need
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_NEED
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_pHYg
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_phyg
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_PHYG
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_phyg
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_PHYG
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_INCLUDE_JNG
end_ifdef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_jhdr
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_JHDR
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_jhdr
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_JHDR
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* MNG_INCLUDE_JNG */
end_comment
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_INCLUDE_JNG
end_ifdef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_jdaa
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_JDAA
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_jdaap
operator|)
name|pHeader
operator|)
operator|->
name|iDatasize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_jdaap
operator|)
name|pHeader
operator|)
operator|->
name|pData
argument_list|,
operator|(
operator|(
name|mng_jdaap
operator|)
name|pHeader
operator|)
operator|->
name|iDatasize
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_jdaa
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_JDAA
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* MNG_INCLUDE_JNG */
end_comment
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_INCLUDE_JNG
end_ifdef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_jdat
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_JDAT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_jdatp
operator|)
name|pHeader
operator|)
operator|->
name|iDatasize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_jdatp
operator|)
name|pHeader
operator|)
operator|->
name|pData
argument_list|,
operator|(
operator|(
name|mng_jdatp
operator|)
name|pHeader
operator|)
operator|->
name|iDatasize
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_jdat
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_JDAT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* MNG_INCLUDE_JNG */
end_comment
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_INCLUDE_JNG
end_ifdef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_jsep
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_JSEP
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_jsep
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_JSEP
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* MNG_INCLUDE_JNG */
end_comment
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_dhdr
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_DHDR
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_dhdr
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_DHDR
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_prom
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_PROM
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_prom
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_PROM
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_ipng
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_IPNG
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_ipng
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_IPNG
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_pplt
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_PPLT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_pplt
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_PPLT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_INCLUDE_JNG
end_ifdef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_ijng
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_IJNG
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_ijng
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_IJNG
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_drop
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_DROP
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_dropp
operator|)
name|pHeader
operator|)
operator|->
name|iCount
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_dropp
operator|)
name|pHeader
operator|)
operator|->
name|pChunknames
argument_list|,
operator|(
operator|(
name|mng_dropp
operator|)
name|pHeader
operator|)
operator|->
name|iCount
operator|*
sizeof|sizeof
argument_list|(
name|mng_chunkid
argument_list|)
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_drop
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_DROP
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_DBYK
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_dbyk
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_DBYK
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_dbykp
operator|)
name|pHeader
operator|)
operator|->
name|iKeywordssize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_dbykp
operator|)
name|pHeader
operator|)
operator|->
name|zKeywords
argument_list|,
operator|(
operator|(
name|mng_dbykp
operator|)
name|pHeader
operator|)
operator|->
name|iKeywordssize
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_dbyk
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_DBYK
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_ORDR
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_ordr
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_ORDR
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_ordrp
operator|)
name|pHeader
operator|)
operator|->
name|iCount
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_ordrp
operator|)
name|pHeader
operator|)
operator|->
name|pEntries
argument_list|,
operator|(
operator|(
name|mng_ordrp
operator|)
name|pHeader
operator|)
operator|->
name|iCount
operator|*
sizeof|sizeof
argument_list|(
name|mng_ordr_entry
argument_list|)
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_ordr
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_ORDR
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_MAGN
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_magn
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_MAGN
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_magn
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_MAGN
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_evNT
end_ifndef
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_evnt
argument_list|)
end_macro
begin_block
block|{
name|mng_evnt_entryp
name|pEntry
init|=
operator|(
operator|(
name|mng_evntp
operator|)
name|pHeader
operator|)
operator|->
name|pEntries
decl_stmt|;
name|mng_uint32
name|iX
decl_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_EVNT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
for|for
control|(
name|iX
operator|=
literal|0
init|;
name|iX
operator|<
operator|(
operator|(
name|mng_evntp
operator|)
name|pHeader
operator|)
operator|->
name|iCount
condition|;
name|iX
operator|++
control|)
block|{
if|if
condition|(
name|pEntry
operator|->
name|iSegmentnamesize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pEntry
operator|->
name|zSegmentname
argument_list|,
name|pEntry
operator|->
name|iSegmentnamesize
operator|+
literal|1
argument_list|)
expr_stmt|;
name|pEntry
operator|++
expr_stmt|;
block|}
if|if
condition|(
operator|(
operator|(
name|mng_evntp
operator|)
name|pHeader
operator|)
operator|->
name|iCount
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_evntp
operator|)
name|pHeader
operator|)
operator|->
name|pEntries
argument_list|,
operator|(
operator|(
name|mng_evntp
operator|)
name|pHeader
operator|)
operator|->
name|iCount
operator|*
sizeof|sizeof
argument_list|(
name|mng_evnt_entry
argument_list|)
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_evnt
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_EVNT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_macro
DECL|function|FREE_CHUNK_HDR
name|FREE_CHUNK_HDR
argument_list|(
argument|mng_free_unknown
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_UNKNOWN
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_unknown_chunkp
operator|)
name|pHeader
operator|)
operator|->
name|iDatasize
condition|)
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_unknown_chunkp
operator|)
name|pHeader
operator|)
operator|->
name|pData
argument_list|,
operator|(
operator|(
name|mng_unknown_chunkp
operator|)
name|pHeader
operator|)
operator|->
name|iDatasize
argument_list|)
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
name|MNG_FREEX
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|,
sizeof|sizeof
argument_list|(
name|mng_unknown_chunk
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_FREE_UNKNOWN
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKINITFREE
return|return
name|MNG_NOERROR
return|;
else|#
directive|else
return|return
name|mng_free_general
argument_list|(
name|pData
argument_list|,
name|pHeader
argument_list|)
return|;
endif|#
directive|endif
block|}
end_block
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_comment
comment|/* *                                                                        * */
end_comment
begin_comment
comment|/* * Chunk specific copy routines                                           * */
end_comment
begin_comment
comment|/* *                                                                        * */
end_comment
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_INCLUDE_WRITE_PROCS
end_ifdef
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifdef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_general
argument_list|)
end_macro
begin_block
block|{
name|mng_ptr
name|pSrc
init|=
operator|(
name|mng_uint8p
operator|)
name|pChunkfrom
operator|+
sizeof|sizeof
argument_list|(
name|mng_chunk_header
argument_list|)
decl_stmt|;
name|mng_ptr
name|pDst
init|=
operator|(
name|mng_uint8p
operator|)
name|pChunkto
operator|+
sizeof|sizeof
argument_list|(
name|mng_chunk_header
argument_list|)
decl_stmt|;
name|mng_size_t
name|iLen
init|=
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunksize
operator|-
sizeof|sizeof
argument_list|(
name|mng_chunk_header
argument_list|)
decl_stmt|;
name|MNG_COPY
argument_list|(
name|pDst
argument_list|,
name|pSrc
argument_list|,
name|iLen
argument_list|)
expr_stmt|;
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_ihdr
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_IHDR
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_IHDR
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_ihdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iWidth
operator|=
operator|(
operator|(
name|mng_ihdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iWidth
expr_stmt|;
operator|(
operator|(
name|mng_ihdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iHeight
operator|=
operator|(
operator|(
name|mng_ihdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iHeight
expr_stmt|;
operator|(
operator|(
name|mng_ihdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iBitdepth
operator|=
operator|(
operator|(
name|mng_ihdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iBitdepth
expr_stmt|;
operator|(
operator|(
name|mng_ihdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iColortype
operator|=
operator|(
operator|(
name|mng_ihdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iColortype
expr_stmt|;
operator|(
operator|(
name|mng_ihdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iCompression
operator|=
operator|(
operator|(
name|mng_ihdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iCompression
expr_stmt|;
operator|(
operator|(
name|mng_ihdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iFilter
operator|=
operator|(
operator|(
name|mng_ihdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iFilter
expr_stmt|;
operator|(
operator|(
name|mng_ihdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iInterlace
operator|=
operator|(
operator|(
name|mng_ihdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iInterlace
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_IHDR
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_plte
argument_list|)
end_macro
begin_block
block|{
name|mng_uint32
name|iX
decl_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_PLTE
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_PLTE
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_pltep
operator|)
name|pChunkto
operator|)
operator|->
name|bEmpty
operator|=
operator|(
operator|(
name|mng_pltep
operator|)
name|pChunkfrom
operator|)
operator|->
name|bEmpty
expr_stmt|;
operator|(
operator|(
name|mng_pltep
operator|)
name|pChunkto
operator|)
operator|->
name|iEntrycount
operator|=
operator|(
operator|(
name|mng_pltep
operator|)
name|pChunkfrom
operator|)
operator|->
name|iEntrycount
expr_stmt|;
for|for
control|(
name|iX
operator|=
literal|0
init|;
name|iX
operator|<
operator|(
operator|(
name|mng_pltep
operator|)
name|pChunkto
operator|)
operator|->
name|iEntrycount
condition|;
name|iX
operator|++
control|)
operator|(
operator|(
name|mng_pltep
operator|)
name|pChunkto
operator|)
operator|->
name|aEntries
index|[
name|iX
index|]
operator|=
operator|(
operator|(
name|mng_pltep
operator|)
name|pChunkfrom
operator|)
operator|->
name|aEntries
index|[
name|iX
index|]
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_PLTE
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_idat
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_IDAT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_IDAT
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_idatp
operator|)
name|pChunkto
operator|)
operator|->
name|bEmpty
operator|=
operator|(
operator|(
name|mng_idatp
operator|)
name|pChunkfrom
operator|)
operator|->
name|bEmpty
expr_stmt|;
operator|(
operator|(
name|mng_idatp
operator|)
name|pChunkto
operator|)
operator|->
name|iDatasize
operator|=
operator|(
operator|(
name|mng_idatp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iDatasize
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_idatp
operator|)
name|pChunkto
operator|)
operator|->
name|iDatasize
condition|)
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_idatp
operator|)
name|pChunkto
operator|)
operator|->
name|pData
argument_list|,
operator|(
operator|(
name|mng_idatp
operator|)
name|pChunkto
operator|)
operator|->
name|iDatasize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_idatp
operator|)
name|pChunkto
operator|)
operator|->
name|pData
argument_list|,
operator|(
operator|(
name|mng_idatp
operator|)
name|pChunkfrom
operator|)
operator|->
name|pData
argument_list|,
operator|(
operator|(
name|mng_idatp
operator|)
name|pChunkto
operator|)
operator|->
name|iDatasize
argument_list|)
expr_stmt|;
block|}
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_IDAT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_iend
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_IEND
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_IEND
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_IEND
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_trns
argument_list|)
end_macro
begin_block
block|{
name|mng_uint32
name|iX
decl_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_TRNS
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_tRNS
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkto
operator|)
operator|->
name|bEmpty
operator|=
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkfrom
operator|)
operator|->
name|bEmpty
expr_stmt|;
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkto
operator|)
operator|->
name|bGlobal
operator|=
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkfrom
operator|)
operator|->
name|bGlobal
expr_stmt|;
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkto
operator|)
operator|->
name|iType
operator|=
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iType
expr_stmt|;
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
operator|=
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iCount
expr_stmt|;
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkto
operator|)
operator|->
name|iGray
operator|=
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iGray
expr_stmt|;
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkto
operator|)
operator|->
name|iRed
operator|=
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iRed
expr_stmt|;
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkto
operator|)
operator|->
name|iGreen
operator|=
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iGreen
expr_stmt|;
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkto
operator|)
operator|->
name|iBlue
operator|=
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iBlue
expr_stmt|;
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkto
operator|)
operator|->
name|iRawlen
operator|=
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iRawlen
expr_stmt|;
for|for
control|(
name|iX
operator|=
literal|0
init|;
name|iX
operator|<
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
condition|;
name|iX
operator|++
control|)
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkto
operator|)
operator|->
name|aEntries
index|[
name|iX
index|]
operator|=
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkfrom
operator|)
operator|->
name|aEntries
index|[
name|iX
index|]
expr_stmt|;
for|for
control|(
name|iX
operator|=
literal|0
init|;
name|iX
operator|<
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkto
operator|)
operator|->
name|iRawlen
condition|;
name|iX
operator|++
control|)
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkto
operator|)
operator|->
name|aRawdata
index|[
name|iX
index|]
operator|=
operator|(
operator|(
name|mng_trnsp
operator|)
name|pChunkfrom
operator|)
operator|->
name|aRawdata
index|[
name|iX
index|]
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_TRNS
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_gAMA
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_gama
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_GAMA
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_gAMA
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_gamap
operator|)
name|pChunkto
operator|)
operator|->
name|bEmpty
operator|=
operator|(
operator|(
name|mng_gamap
operator|)
name|pChunkfrom
operator|)
operator|->
name|bEmpty
expr_stmt|;
operator|(
operator|(
name|mng_gamap
operator|)
name|pChunkto
operator|)
operator|->
name|iGamma
operator|=
operator|(
operator|(
name|mng_gamap
operator|)
name|pChunkfrom
operator|)
operator|->
name|iGamma
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_GAMA
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_cHRM
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_chrm
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_CHRM
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_cHRM
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_chrmp
operator|)
name|pChunkto
operator|)
operator|->
name|bEmpty
operator|=
operator|(
operator|(
name|mng_chrmp
operator|)
name|pChunkfrom
operator|)
operator|->
name|bEmpty
expr_stmt|;
operator|(
operator|(
name|mng_chrmp
operator|)
name|pChunkto
operator|)
operator|->
name|iWhitepointx
operator|=
operator|(
operator|(
name|mng_chrmp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iWhitepointx
expr_stmt|;
operator|(
operator|(
name|mng_chrmp
operator|)
name|pChunkto
operator|)
operator|->
name|iWhitepointy
operator|=
operator|(
operator|(
name|mng_chrmp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iWhitepointy
expr_stmt|;
operator|(
operator|(
name|mng_chrmp
operator|)
name|pChunkto
operator|)
operator|->
name|iRedx
operator|=
operator|(
operator|(
name|mng_chrmp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iRedx
expr_stmt|;
operator|(
operator|(
name|mng_chrmp
operator|)
name|pChunkto
operator|)
operator|->
name|iRedy
operator|=
operator|(
operator|(
name|mng_chrmp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iRedy
expr_stmt|;
operator|(
operator|(
name|mng_chrmp
operator|)
name|pChunkto
operator|)
operator|->
name|iGreenx
operator|=
operator|(
operator|(
name|mng_chrmp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iGreenx
expr_stmt|;
operator|(
operator|(
name|mng_chrmp
operator|)
name|pChunkto
operator|)
operator|->
name|iGreeny
operator|=
operator|(
operator|(
name|mng_chrmp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iGreeny
expr_stmt|;
operator|(
operator|(
name|mng_chrmp
operator|)
name|pChunkto
operator|)
operator|->
name|iBluex
operator|=
operator|(
operator|(
name|mng_chrmp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iBluex
expr_stmt|;
operator|(
operator|(
name|mng_chrmp
operator|)
name|pChunkto
operator|)
operator|->
name|iBluey
operator|=
operator|(
operator|(
name|mng_chrmp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iBluey
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_CHRM
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_sRGB
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_srgb
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_SRGB
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_sRGB
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_srgbp
operator|)
name|pChunkto
operator|)
operator|->
name|iRenderingintent
operator|=
operator|(
operator|(
name|mng_srgbp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iRenderingintent
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_SRGB
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_iCCP
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_iccp
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_ICCP
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_iCCP
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_iccpp
operator|)
name|pChunkto
operator|)
operator|->
name|bEmpty
operator|=
operator|(
operator|(
name|mng_iccpp
operator|)
name|pChunkfrom
operator|)
operator|->
name|bEmpty
expr_stmt|;
operator|(
operator|(
name|mng_iccpp
operator|)
name|pChunkto
operator|)
operator|->
name|iNamesize
operator|=
operator|(
operator|(
name|mng_iccpp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iNamesize
expr_stmt|;
operator|(
operator|(
name|mng_iccpp
operator|)
name|pChunkto
operator|)
operator|->
name|iCompression
operator|=
operator|(
operator|(
name|mng_iccpp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iCompression
expr_stmt|;
operator|(
operator|(
name|mng_iccpp
operator|)
name|pChunkto
operator|)
operator|->
name|iProfilesize
operator|=
operator|(
operator|(
name|mng_iccpp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iProfilesize
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_iccpp
operator|)
name|pChunkto
operator|)
operator|->
name|iNamesize
condition|)
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_iccpp
operator|)
name|pChunkto
operator|)
operator|->
name|zName
argument_list|,
operator|(
operator|(
name|mng_iccpp
operator|)
name|pChunkto
operator|)
operator|->
name|iNamesize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_iccpp
operator|)
name|pChunkto
operator|)
operator|->
name|zName
argument_list|,
operator|(
operator|(
name|mng_iccpp
operator|)
name|pChunkfrom
operator|)
operator|->
name|zName
argument_list|,
operator|(
operator|(
name|mng_iccpp
operator|)
name|pChunkto
operator|)
operator|->
name|iNamesize
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
operator|(
operator|(
name|mng_iccpp
operator|)
name|pChunkto
operator|)
operator|->
name|iProfilesize
condition|)
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_iccpp
operator|)
name|pChunkto
operator|)
operator|->
name|pProfile
argument_list|,
operator|(
operator|(
name|mng_iccpp
operator|)
name|pChunkto
operator|)
operator|->
name|iProfilesize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_iccpp
operator|)
name|pChunkto
operator|)
operator|->
name|pProfile
argument_list|,
operator|(
operator|(
name|mng_iccpp
operator|)
name|pChunkfrom
operator|)
operator|->
name|pProfile
argument_list|,
operator|(
operator|(
name|mng_iccpp
operator|)
name|pChunkto
operator|)
operator|->
name|iProfilesize
argument_list|)
expr_stmt|;
block|}
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_ICCP
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_tEXt
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_text
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_TEXT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_tEXt
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_textp
operator|)
name|pChunkto
operator|)
operator|->
name|iKeywordsize
operator|=
operator|(
operator|(
name|mng_textp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iKeywordsize
expr_stmt|;
operator|(
operator|(
name|mng_textp
operator|)
name|pChunkto
operator|)
operator|->
name|iTextsize
operator|=
operator|(
operator|(
name|mng_textp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iTextsize
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_textp
operator|)
name|pChunkto
operator|)
operator|->
name|iKeywordsize
condition|)
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|zKeyword
argument_list|,
operator|(
operator|(
name|mng_textp
operator|)
name|pChunkto
operator|)
operator|->
name|iKeywordsize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|zKeyword
argument_list|,
operator|(
operator|(
name|mng_textp
operator|)
name|pChunkfrom
operator|)
operator|->
name|zKeyword
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iKeywordsize
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
operator|(
operator|(
name|mng_textp
operator|)
name|pChunkto
operator|)
operator|->
name|iTextsize
condition|)
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_textp
operator|)
name|pChunkto
operator|)
operator|->
name|zText
argument_list|,
operator|(
operator|(
name|mng_textp
operator|)
name|pChunkto
operator|)
operator|->
name|iTextsize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_textp
operator|)
name|pChunkto
operator|)
operator|->
name|zText
argument_list|,
operator|(
operator|(
name|mng_textp
operator|)
name|pChunkfrom
operator|)
operator|->
name|zText
argument_list|,
operator|(
operator|(
name|mng_textp
operator|)
name|pChunkto
operator|)
operator|->
name|iTextsize
argument_list|)
expr_stmt|;
block|}
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_TEXT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_zTXt
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_ztxt
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_ZTXT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_zTXt
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iKeywordsize
operator|=
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iKeywordsize
expr_stmt|;
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iCompression
operator|=
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iCompression
expr_stmt|;
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iTextsize
operator|=
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iTextsize
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iKeywordsize
condition|)
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pChunkto
operator|)
operator|->
name|zKeyword
argument_list|,
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iKeywordsize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pChunkto
operator|)
operator|->
name|zKeyword
argument_list|,
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pChunkfrom
operator|)
operator|->
name|zKeyword
argument_list|,
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iKeywordsize
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iTextsize
condition|)
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pChunkto
operator|)
operator|->
name|zText
argument_list|,
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iTextsize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pChunkto
operator|)
operator|->
name|zText
argument_list|,
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pChunkfrom
operator|)
operator|->
name|zText
argument_list|,
operator|(
operator|(
name|mng_ztxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iTextsize
argument_list|)
expr_stmt|;
block|}
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_ZTXT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_iTXt
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_itxt
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_ITXT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_iTXt
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iKeywordsize
operator|=
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iKeywordsize
expr_stmt|;
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iCompressionflag
operator|=
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iCompressionflag
expr_stmt|;
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iCompressionmethod
operator|=
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iCompressionmethod
expr_stmt|;
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iLanguagesize
operator|=
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iLanguagesize
expr_stmt|;
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iTranslationsize
operator|=
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iTranslationsize
expr_stmt|;
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iTextsize
operator|=
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iTextsize
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iKeywordsize
condition|)
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|zKeyword
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iKeywordsize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|zKeyword
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkfrom
operator|)
operator|->
name|zKeyword
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iKeywordsize
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iTextsize
condition|)
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|zLanguage
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iLanguagesize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|zLanguage
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkfrom
operator|)
operator|->
name|zLanguage
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iLanguagesize
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iTextsize
condition|)
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|zTranslation
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iTranslationsize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|zTranslation
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkfrom
operator|)
operator|->
name|zTranslation
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iTranslationsize
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iTextsize
condition|)
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|zText
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iTextsize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|zText
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkfrom
operator|)
operator|->
name|zText
argument_list|,
operator|(
operator|(
name|mng_itxtp
operator|)
name|pChunkto
operator|)
operator|->
name|iTextsize
argument_list|)
expr_stmt|;
block|}
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_ITXT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_bKGD
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_bkgd
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_BKGD
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_bKGD
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_bkgdp
operator|)
name|pChunkto
operator|)
operator|->
name|bEmpty
operator|=
operator|(
operator|(
name|mng_bkgdp
operator|)
name|pChunkfrom
operator|)
operator|->
name|bEmpty
expr_stmt|;
operator|(
operator|(
name|mng_bkgdp
operator|)
name|pChunkto
operator|)
operator|->
name|iType
operator|=
operator|(
operator|(
name|mng_bkgdp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iType
expr_stmt|;
operator|(
operator|(
name|mng_bkgdp
operator|)
name|pChunkto
operator|)
operator|->
name|iIndex
operator|=
operator|(
operator|(
name|mng_bkgdp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iIndex
expr_stmt|;
operator|(
operator|(
name|mng_bkgdp
operator|)
name|pChunkto
operator|)
operator|->
name|iGray
operator|=
operator|(
operator|(
name|mng_bkgdp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iGray
expr_stmt|;
operator|(
operator|(
name|mng_bkgdp
operator|)
name|pChunkto
operator|)
operator|->
name|iRed
operator|=
operator|(
operator|(
name|mng_bkgdp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iRed
expr_stmt|;
operator|(
operator|(
name|mng_bkgdp
operator|)
name|pChunkto
operator|)
operator|->
name|iGreen
operator|=
operator|(
operator|(
name|mng_bkgdp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iGreen
expr_stmt|;
operator|(
operator|(
name|mng_bkgdp
operator|)
name|pChunkto
operator|)
operator|->
name|iBlue
operator|=
operator|(
operator|(
name|mng_bkgdp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iBlue
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_BKGD
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_pHYs
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_phys
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_PHYS
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_pHYs
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_physp
operator|)
name|pChunkto
operator|)
operator|->
name|bEmpty
operator|=
operator|(
operator|(
name|mng_physp
operator|)
name|pChunkfrom
operator|)
operator|->
name|bEmpty
expr_stmt|;
operator|(
operator|(
name|mng_physp
operator|)
name|pChunkto
operator|)
operator|->
name|iSizex
operator|=
operator|(
operator|(
name|mng_physp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iSizex
expr_stmt|;
operator|(
operator|(
name|mng_physp
operator|)
name|pChunkto
operator|)
operator|->
name|iSizey
operator|=
operator|(
operator|(
name|mng_physp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iSizey
expr_stmt|;
operator|(
operator|(
name|mng_physp
operator|)
name|pChunkto
operator|)
operator|->
name|iUnit
operator|=
operator|(
operator|(
name|mng_physp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iUnit
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_PHYS
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_sBIT
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_sbit
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_SBIT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_sBIT
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_sbitp
operator|)
name|pChunkto
operator|)
operator|->
name|bEmpty
operator|=
operator|(
operator|(
name|mng_sbitp
operator|)
name|pChunkfrom
operator|)
operator|->
name|bEmpty
expr_stmt|;
operator|(
operator|(
name|mng_sbitp
operator|)
name|pChunkto
operator|)
operator|->
name|iType
operator|=
operator|(
operator|(
name|mng_sbitp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iType
expr_stmt|;
operator|(
operator|(
name|mng_sbitp
operator|)
name|pChunkto
operator|)
operator|->
name|aBits
index|[
literal|0
index|]
operator|=
operator|(
operator|(
name|mng_sbitp
operator|)
name|pChunkfrom
operator|)
operator|->
name|aBits
index|[
literal|0
index|]
expr_stmt|;
operator|(
operator|(
name|mng_sbitp
operator|)
name|pChunkto
operator|)
operator|->
name|aBits
index|[
literal|1
index|]
operator|=
operator|(
operator|(
name|mng_sbitp
operator|)
name|pChunkfrom
operator|)
operator|->
name|aBits
index|[
literal|1
index|]
expr_stmt|;
operator|(
operator|(
name|mng_sbitp
operator|)
name|pChunkto
operator|)
operator|->
name|aBits
index|[
literal|2
index|]
operator|=
operator|(
operator|(
name|mng_sbitp
operator|)
name|pChunkfrom
operator|)
operator|->
name|aBits
index|[
literal|2
index|]
expr_stmt|;
operator|(
operator|(
name|mng_sbitp
operator|)
name|pChunkto
operator|)
operator|->
name|aBits
index|[
literal|3
index|]
operator|=
operator|(
operator|(
name|mng_sbitp
operator|)
name|pChunkfrom
operator|)
operator|->
name|aBits
index|[
literal|3
index|]
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_SBIT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_sPLT
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_splt
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_SPLT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_sPLT
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_spltp
operator|)
name|pChunkto
operator|)
operator|->
name|bEmpty
operator|=
operator|(
operator|(
name|mng_spltp
operator|)
name|pChunkfrom
operator|)
operator|->
name|bEmpty
expr_stmt|;
operator|(
operator|(
name|mng_spltp
operator|)
name|pChunkto
operator|)
operator|->
name|iNamesize
operator|=
operator|(
operator|(
name|mng_spltp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iNamesize
expr_stmt|;
operator|(
operator|(
name|mng_spltp
operator|)
name|pChunkto
operator|)
operator|->
name|iSampledepth
operator|=
operator|(
operator|(
name|mng_spltp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iSampledepth
expr_stmt|;
operator|(
operator|(
name|mng_spltp
operator|)
name|pChunkto
operator|)
operator|->
name|iEntrycount
operator|=
operator|(
operator|(
name|mng_spltp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iEntrycount
expr_stmt|;
operator|(
operator|(
name|mng_spltp
operator|)
name|pChunkto
operator|)
operator|->
name|pEntries
operator|=
operator|(
operator|(
name|mng_spltp
operator|)
name|pChunkfrom
operator|)
operator|->
name|pEntries
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_spltp
operator|)
name|pChunkto
operator|)
operator|->
name|iNamesize
condition|)
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_spltp
operator|)
name|pChunkto
operator|)
operator|->
name|zName
argument_list|,
operator|(
operator|(
name|mng_spltp
operator|)
name|pChunkto
operator|)
operator|->
name|iNamesize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_spltp
operator|)
name|pChunkto
operator|)
operator|->
name|zName
argument_list|,
operator|(
operator|(
name|mng_spltp
operator|)
name|pChunkfrom
operator|)
operator|->
name|zName
argument_list|,
operator|(
operator|(
name|mng_spltp
operator|)
name|pChunkto
operator|)
operator|->
name|iNamesize
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
operator|(
operator|(
name|mng_spltp
operator|)
name|pChunkto
operator|)
operator|->
name|iEntrycount
condition|)
block|{
name|mng_uint32
name|iLen
init|=
operator|(
operator|(
name|mng_spltp
operator|)
name|pChunkto
operator|)
operator|->
name|iEntrycount
operator|*
operator|(
operator|(
operator|(
name|mng_spltp
operator|)
name|pChunkto
operator|)
operator|->
name|iSampledepth
operator|*
literal|3
operator|+
sizeof|sizeof
argument_list|(
name|mng_uint16
argument_list|)
operator|)
decl_stmt|;
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_spltp
operator|)
name|pChunkto
operator|)
operator|->
name|pEntries
argument_list|,
name|iLen
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_spltp
operator|)
name|pChunkto
operator|)
operator|->
name|pEntries
argument_list|,
operator|(
operator|(
name|mng_spltp
operator|)
name|pChunkfrom
operator|)
operator|->
name|pEntries
argument_list|,
name|iLen
argument_list|)
expr_stmt|;
block|}
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_SPLT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_hIST
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_hist
argument_list|)
end_macro
begin_block
block|{
name|mng_uint32
name|iX
decl_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_HIST
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_hIST
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_histp
operator|)
name|pChunkto
operator|)
operator|->
name|iEntrycount
operator|=
operator|(
operator|(
name|mng_histp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iEntrycount
expr_stmt|;
for|for
control|(
name|iX
operator|=
literal|0
init|;
name|iX
operator|<
operator|(
operator|(
name|mng_histp
operator|)
name|pChunkto
operator|)
operator|->
name|iEntrycount
condition|;
name|iX
operator|++
control|)
operator|(
operator|(
name|mng_histp
operator|)
name|pChunkto
operator|)
operator|->
name|aEntries
index|[
name|iX
index|]
operator|=
operator|(
operator|(
name|mng_histp
operator|)
name|pChunkfrom
operator|)
operator|->
name|aEntries
index|[
name|iX
index|]
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_HIST
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_tIME
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_time
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_TIME
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_tIME
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_timep
operator|)
name|pChunkto
operator|)
operator|->
name|iYear
operator|=
operator|(
operator|(
name|mng_timep
operator|)
name|pChunkfrom
operator|)
operator|->
name|iYear
expr_stmt|;
operator|(
operator|(
name|mng_timep
operator|)
name|pChunkto
operator|)
operator|->
name|iMonth
operator|=
operator|(
operator|(
name|mng_timep
operator|)
name|pChunkfrom
operator|)
operator|->
name|iMonth
expr_stmt|;
operator|(
operator|(
name|mng_timep
operator|)
name|pChunkto
operator|)
operator|->
name|iDay
operator|=
operator|(
operator|(
name|mng_timep
operator|)
name|pChunkfrom
operator|)
operator|->
name|iDay
expr_stmt|;
operator|(
operator|(
name|mng_timep
operator|)
name|pChunkto
operator|)
operator|->
name|iHour
operator|=
operator|(
operator|(
name|mng_timep
operator|)
name|pChunkfrom
operator|)
operator|->
name|iHour
expr_stmt|;
operator|(
operator|(
name|mng_timep
operator|)
name|pChunkto
operator|)
operator|->
name|iMinute
operator|=
operator|(
operator|(
name|mng_timep
operator|)
name|pChunkfrom
operator|)
operator|->
name|iMinute
expr_stmt|;
operator|(
operator|(
name|mng_timep
operator|)
name|pChunkto
operator|)
operator|->
name|iSecond
operator|=
operator|(
operator|(
name|mng_timep
operator|)
name|pChunkfrom
operator|)
operator|->
name|iSecond
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_TIME
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_mhdr
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_MHDR
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_MHDR
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_mhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iWidth
operator|=
operator|(
operator|(
name|mng_mhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iWidth
expr_stmt|;
operator|(
operator|(
name|mng_mhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iHeight
operator|=
operator|(
operator|(
name|mng_mhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iHeight
expr_stmt|;
operator|(
operator|(
name|mng_mhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iTicks
operator|=
operator|(
operator|(
name|mng_mhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iTicks
expr_stmt|;
operator|(
operator|(
name|mng_mhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iLayercount
operator|=
operator|(
operator|(
name|mng_mhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iLayercount
expr_stmt|;
operator|(
operator|(
name|mng_mhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iFramecount
operator|=
operator|(
operator|(
name|mng_mhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iFramecount
expr_stmt|;
operator|(
operator|(
name|mng_mhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iPlaytime
operator|=
operator|(
operator|(
name|mng_mhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iPlaytime
expr_stmt|;
operator|(
operator|(
name|mng_mhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iSimplicity
operator|=
operator|(
operator|(
name|mng_mhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iSimplicity
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_MHDR
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_mend
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_MEND
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_MEND
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_MEND
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_LOOP
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_loop
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_LOOP
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_LOOP
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_loopp
operator|)
name|pChunkto
operator|)
operator|->
name|iLevel
operator|=
operator|(
operator|(
name|mng_loopp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iLevel
expr_stmt|;
operator|(
operator|(
name|mng_loopp
operator|)
name|pChunkto
operator|)
operator|->
name|iRepeat
operator|=
operator|(
operator|(
name|mng_loopp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iRepeat
expr_stmt|;
operator|(
operator|(
name|mng_loopp
operator|)
name|pChunkto
operator|)
operator|->
name|iTermination
operator|=
operator|(
operator|(
name|mng_loopp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iTermination
expr_stmt|;
operator|(
operator|(
name|mng_loopp
operator|)
name|pChunkto
operator|)
operator|->
name|iItermin
operator|=
operator|(
operator|(
name|mng_loopp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iItermin
expr_stmt|;
operator|(
operator|(
name|mng_loopp
operator|)
name|pChunkto
operator|)
operator|->
name|iItermax
operator|=
operator|(
operator|(
name|mng_loopp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iItermax
expr_stmt|;
operator|(
operator|(
name|mng_loopp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
operator|=
operator|(
operator|(
name|mng_loopp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iCount
expr_stmt|;
ifndef|#
directive|ifndef
name|MNG_NO_LOOP_SIGNALS_SUPPORTED
if|if
condition|(
operator|(
operator|(
name|mng_loopp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
condition|)
block|{
name|mng_uint32
name|iLen
init|=
operator|(
operator|(
name|mng_loopp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
operator|*
sizeof|sizeof
argument_list|(
name|mng_uint32
argument_list|)
decl_stmt|;
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_loopp
operator|)
name|pChunkto
operator|)
operator|->
name|pSignals
argument_list|,
name|iLen
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_loopp
operator|)
name|pChunkto
operator|)
operator|->
name|pSignals
argument_list|,
operator|(
operator|(
name|mng_loopp
operator|)
name|pChunkfrom
operator|)
operator|->
name|pSignals
argument_list|,
name|iLen
argument_list|)
expr_stmt|;
block|}
endif|#
directive|endif
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_LOOP
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_endl
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_ENDL
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_ENDL
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_endlp
operator|)
name|pChunkto
operator|)
operator|->
name|iLevel
operator|=
operator|(
operator|(
name|mng_endlp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iLevel
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_ENDL
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_DEFI
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_defi
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_DEFI
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_DEFI
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkto
operator|)
operator|->
name|iObjectid
operator|=
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iObjectid
expr_stmt|;
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkto
operator|)
operator|->
name|bHasdonotshow
operator|=
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkfrom
operator|)
operator|->
name|bHasdonotshow
expr_stmt|;
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkto
operator|)
operator|->
name|iDonotshow
operator|=
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iDonotshow
expr_stmt|;
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkto
operator|)
operator|->
name|bHasconcrete
operator|=
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkfrom
operator|)
operator|->
name|bHasconcrete
expr_stmt|;
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkto
operator|)
operator|->
name|iConcrete
operator|=
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iConcrete
expr_stmt|;
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkto
operator|)
operator|->
name|bHasloca
operator|=
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkfrom
operator|)
operator|->
name|bHasloca
expr_stmt|;
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkto
operator|)
operator|->
name|iXlocation
operator|=
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iXlocation
expr_stmt|;
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkto
operator|)
operator|->
name|iYlocation
operator|=
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iYlocation
expr_stmt|;
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkto
operator|)
operator|->
name|bHasclip
operator|=
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkfrom
operator|)
operator|->
name|bHasclip
expr_stmt|;
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkto
operator|)
operator|->
name|iLeftcb
operator|=
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iLeftcb
expr_stmt|;
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkto
operator|)
operator|->
name|iRightcb
operator|=
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iRightcb
expr_stmt|;
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkto
operator|)
operator|->
name|iTopcb
operator|=
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iTopcb
expr_stmt|;
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkto
operator|)
operator|->
name|iBottomcb
operator|=
operator|(
operator|(
name|mng_defip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iBottomcb
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_DEFI
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_BASI
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_basi
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_BASI
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_BASI
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkto
operator|)
operator|->
name|iWidth
operator|=
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iWidth
expr_stmt|;
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkto
operator|)
operator|->
name|iHeight
operator|=
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iHeight
expr_stmt|;
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkto
operator|)
operator|->
name|iBitdepth
operator|=
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iBitdepth
expr_stmt|;
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkto
operator|)
operator|->
name|iColortype
operator|=
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iColortype
expr_stmt|;
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkto
operator|)
operator|->
name|iCompression
operator|=
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iCompression
expr_stmt|;
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkto
operator|)
operator|->
name|iFilter
operator|=
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iFilter
expr_stmt|;
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkto
operator|)
operator|->
name|iInterlace
operator|=
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iInterlace
expr_stmt|;
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkto
operator|)
operator|->
name|iRed
operator|=
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iRed
expr_stmt|;
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkto
operator|)
operator|->
name|iGreen
operator|=
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iGreen
expr_stmt|;
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkto
operator|)
operator|->
name|iBlue
operator|=
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iBlue
expr_stmt|;
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkto
operator|)
operator|->
name|iAlpha
operator|=
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iAlpha
expr_stmt|;
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkto
operator|)
operator|->
name|iViewable
operator|=
operator|(
operator|(
name|mng_basip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iViewable
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_BASI
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_CLON
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_clon
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_CLON
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_CLON
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_clonp
operator|)
name|pChunkto
operator|)
operator|->
name|iSourceid
operator|=
operator|(
operator|(
name|mng_clonp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iSourceid
expr_stmt|;
operator|(
operator|(
name|mng_clonp
operator|)
name|pChunkto
operator|)
operator|->
name|iCloneid
operator|=
operator|(
operator|(
name|mng_clonp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iCloneid
expr_stmt|;
operator|(
operator|(
name|mng_clonp
operator|)
name|pChunkto
operator|)
operator|->
name|iClonetype
operator|=
operator|(
operator|(
name|mng_clonp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iClonetype
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_OPTIMIZE_CHUNKREADER
operator|(
operator|(
name|mng_clonp
operator|)
name|pChunkto
operator|)
operator|->
name|bHasdonotshow
operator|=
operator|(
operator|(
name|mng_clonp
operator|)
name|pChunkfrom
operator|)
operator|->
name|bHasdonotshow
expr_stmt|;
endif|#
directive|endif
operator|(
operator|(
name|mng_clonp
operator|)
name|pChunkto
operator|)
operator|->
name|iDonotshow
operator|=
operator|(
operator|(
name|mng_clonp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iDonotshow
expr_stmt|;
operator|(
operator|(
name|mng_clonp
operator|)
name|pChunkto
operator|)
operator|->
name|iConcrete
operator|=
operator|(
operator|(
name|mng_clonp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iConcrete
expr_stmt|;
operator|(
operator|(
name|mng_clonp
operator|)
name|pChunkto
operator|)
operator|->
name|bHasloca
operator|=
operator|(
operator|(
name|mng_clonp
operator|)
name|pChunkfrom
operator|)
operator|->
name|bHasloca
expr_stmt|;
operator|(
operator|(
name|mng_clonp
operator|)
name|pChunkto
operator|)
operator|->
name|iLocationtype
operator|=
operator|(
operator|(
name|mng_clonp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iLocationtype
expr_stmt|;
operator|(
operator|(
name|mng_clonp
operator|)
name|pChunkto
operator|)
operator|->
name|iLocationx
operator|=
operator|(
operator|(
name|mng_clonp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iLocationx
expr_stmt|;
operator|(
operator|(
name|mng_clonp
operator|)
name|pChunkto
operator|)
operator|->
name|iLocationy
operator|=
operator|(
operator|(
name|mng_clonp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iLocationy
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_CLON
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_PAST
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_past
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_PAST
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_PAST
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_pastp
operator|)
name|pChunkto
operator|)
operator|->
name|iDestid
operator|=
operator|(
operator|(
name|mng_pastp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iDestid
expr_stmt|;
operator|(
operator|(
name|mng_pastp
operator|)
name|pChunkto
operator|)
operator|->
name|iTargettype
operator|=
operator|(
operator|(
name|mng_pastp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iTargettype
expr_stmt|;
operator|(
operator|(
name|mng_pastp
operator|)
name|pChunkto
operator|)
operator|->
name|iTargetx
operator|=
operator|(
operator|(
name|mng_pastp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iTargetx
expr_stmt|;
operator|(
operator|(
name|mng_pastp
operator|)
name|pChunkto
operator|)
operator|->
name|iTargety
operator|=
operator|(
operator|(
name|mng_pastp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iTargety
expr_stmt|;
operator|(
operator|(
name|mng_pastp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
operator|=
operator|(
operator|(
name|mng_pastp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iCount
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_pastp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
condition|)
block|{
name|mng_uint32
name|iLen
init|=
operator|(
operator|(
name|mng_pastp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
operator|*
sizeof|sizeof
argument_list|(
name|mng_past_source
argument_list|)
decl_stmt|;
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_pastp
operator|)
name|pChunkto
operator|)
operator|->
name|pSources
argument_list|,
name|iLen
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_pastp
operator|)
name|pChunkto
operator|)
operator|->
name|pSources
argument_list|,
operator|(
operator|(
name|mng_pastp
operator|)
name|pChunkfrom
operator|)
operator|->
name|pSources
argument_list|,
name|iLen
argument_list|)
expr_stmt|;
block|}
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_PAST
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_DISC
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_disc
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_DISC
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_DISC
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_discp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
operator|=
operator|(
operator|(
name|mng_discp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iCount
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_discp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
condition|)
block|{
name|mng_uint32
name|iLen
init|=
operator|(
operator|(
name|mng_discp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
operator|*
sizeof|sizeof
argument_list|(
name|mng_uint16
argument_list|)
decl_stmt|;
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_discp
operator|)
name|pChunkto
operator|)
operator|->
name|pObjectids
argument_list|,
name|iLen
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_discp
operator|)
name|pChunkto
operator|)
operator|->
name|pObjectids
argument_list|,
operator|(
operator|(
name|mng_discp
operator|)
name|pChunkfrom
operator|)
operator|->
name|pObjectids
argument_list|,
name|iLen
argument_list|)
expr_stmt|;
block|}
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_DISC
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_BACK
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_back
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_BACK
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_BACK
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_backp
operator|)
name|pChunkto
operator|)
operator|->
name|iRed
operator|=
operator|(
operator|(
name|mng_backp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iRed
expr_stmt|;
operator|(
operator|(
name|mng_backp
operator|)
name|pChunkto
operator|)
operator|->
name|iGreen
operator|=
operator|(
operator|(
name|mng_backp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iGreen
expr_stmt|;
operator|(
operator|(
name|mng_backp
operator|)
name|pChunkto
operator|)
operator|->
name|iBlue
operator|=
operator|(
operator|(
name|mng_backp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iBlue
expr_stmt|;
operator|(
operator|(
name|mng_backp
operator|)
name|pChunkto
operator|)
operator|->
name|iMandatory
operator|=
operator|(
operator|(
name|mng_backp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iMandatory
expr_stmt|;
operator|(
operator|(
name|mng_backp
operator|)
name|pChunkto
operator|)
operator|->
name|iImageid
operator|=
operator|(
operator|(
name|mng_backp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iImageid
expr_stmt|;
operator|(
operator|(
name|mng_backp
operator|)
name|pChunkto
operator|)
operator|->
name|iTile
operator|=
operator|(
operator|(
name|mng_backp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iTile
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_BACK
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_FRAM
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_fram
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_FRAM
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_FRAM
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|bEmpty
operator|=
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkfrom
operator|)
operator|->
name|bEmpty
expr_stmt|;
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|iMode
operator|=
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iMode
expr_stmt|;
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|iNamesize
operator|=
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iNamesize
expr_stmt|;
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|iChangedelay
operator|=
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChangedelay
expr_stmt|;
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|iChangetimeout
operator|=
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChangetimeout
expr_stmt|;
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|iChangeclipping
operator|=
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChangeclipping
expr_stmt|;
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|iChangesyncid
operator|=
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChangesyncid
expr_stmt|;
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|iDelay
operator|=
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iDelay
expr_stmt|;
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|iTimeout
operator|=
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iTimeout
expr_stmt|;
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|iBoundarytype
operator|=
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iBoundarytype
expr_stmt|;
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|iBoundaryl
operator|=
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iBoundaryl
expr_stmt|;
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|iBoundaryr
operator|=
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iBoundaryr
expr_stmt|;
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|iBoundaryt
operator|=
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iBoundaryt
expr_stmt|;
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|iBoundaryb
operator|=
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iBoundaryb
expr_stmt|;
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
operator|=
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iCount
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|iNamesize
condition|)
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|zName
argument_list|,
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|iNamesize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|zName
argument_list|,
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkfrom
operator|)
operator|->
name|zName
argument_list|,
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|iNamesize
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
condition|)
block|{
name|mng_uint32
name|iLen
init|=
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
operator|*
sizeof|sizeof
argument_list|(
name|mng_uint32
argument_list|)
decl_stmt|;
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|pSyncids
argument_list|,
name|iLen
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkto
operator|)
operator|->
name|pSyncids
argument_list|,
operator|(
operator|(
name|mng_framp
operator|)
name|pChunkfrom
operator|)
operator|->
name|pSyncids
argument_list|,
name|iLen
argument_list|)
expr_stmt|;
block|}
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_FRAM
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_MOVE
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_move
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_MOVE
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_MOVE
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_movep
operator|)
name|pChunkto
operator|)
operator|->
name|iFirstid
operator|=
operator|(
operator|(
name|mng_movep
operator|)
name|pChunkfrom
operator|)
operator|->
name|iFirstid
expr_stmt|;
operator|(
operator|(
name|mng_movep
operator|)
name|pChunkto
operator|)
operator|->
name|iLastid
operator|=
operator|(
operator|(
name|mng_movep
operator|)
name|pChunkfrom
operator|)
operator|->
name|iLastid
expr_stmt|;
operator|(
operator|(
name|mng_movep
operator|)
name|pChunkto
operator|)
operator|->
name|iMovetype
operator|=
operator|(
operator|(
name|mng_movep
operator|)
name|pChunkfrom
operator|)
operator|->
name|iMovetype
expr_stmt|;
operator|(
operator|(
name|mng_movep
operator|)
name|pChunkto
operator|)
operator|->
name|iMovex
operator|=
operator|(
operator|(
name|mng_movep
operator|)
name|pChunkfrom
operator|)
operator|->
name|iMovex
expr_stmt|;
operator|(
operator|(
name|mng_movep
operator|)
name|pChunkto
operator|)
operator|->
name|iMovey
operator|=
operator|(
operator|(
name|mng_movep
operator|)
name|pChunkfrom
operator|)
operator|->
name|iMovey
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_MOVE
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_CLIP
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_clip
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_CLIP
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_CLIP
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_clipp
operator|)
name|pChunkto
operator|)
operator|->
name|iFirstid
operator|=
operator|(
operator|(
name|mng_clipp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iFirstid
expr_stmt|;
operator|(
operator|(
name|mng_clipp
operator|)
name|pChunkto
operator|)
operator|->
name|iLastid
operator|=
operator|(
operator|(
name|mng_clipp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iLastid
expr_stmt|;
operator|(
operator|(
name|mng_clipp
operator|)
name|pChunkto
operator|)
operator|->
name|iCliptype
operator|=
operator|(
operator|(
name|mng_clipp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iCliptype
expr_stmt|;
operator|(
operator|(
name|mng_clipp
operator|)
name|pChunkto
operator|)
operator|->
name|iClipl
operator|=
operator|(
operator|(
name|mng_clipp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iClipl
expr_stmt|;
operator|(
operator|(
name|mng_clipp
operator|)
name|pChunkto
operator|)
operator|->
name|iClipr
operator|=
operator|(
operator|(
name|mng_clipp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iClipr
expr_stmt|;
operator|(
operator|(
name|mng_clipp
operator|)
name|pChunkto
operator|)
operator|->
name|iClipt
operator|=
operator|(
operator|(
name|mng_clipp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iClipt
expr_stmt|;
operator|(
operator|(
name|mng_clipp
operator|)
name|pChunkto
operator|)
operator|->
name|iClipb
operator|=
operator|(
operator|(
name|mng_clipp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iClipb
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_CLIP
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_SHOW
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_show
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_SHOW
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_SHOW
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_showp
operator|)
name|pChunkto
operator|)
operator|->
name|bEmpty
operator|=
operator|(
operator|(
name|mng_showp
operator|)
name|pChunkfrom
operator|)
operator|->
name|bEmpty
expr_stmt|;
operator|(
operator|(
name|mng_showp
operator|)
name|pChunkto
operator|)
operator|->
name|iFirstid
operator|=
operator|(
operator|(
name|mng_showp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iFirstid
expr_stmt|;
operator|(
operator|(
name|mng_showp
operator|)
name|pChunkto
operator|)
operator|->
name|iLastid
operator|=
operator|(
operator|(
name|mng_showp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iLastid
expr_stmt|;
operator|(
operator|(
name|mng_showp
operator|)
name|pChunkto
operator|)
operator|->
name|iMode
operator|=
operator|(
operator|(
name|mng_showp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iMode
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_SHOW
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_TERM
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_term
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_TERM
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_TERM
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_termp
operator|)
name|pChunkto
operator|)
operator|->
name|iTermaction
operator|=
operator|(
operator|(
name|mng_termp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iTermaction
expr_stmt|;
operator|(
operator|(
name|mng_termp
operator|)
name|pChunkto
operator|)
operator|->
name|iIteraction
operator|=
operator|(
operator|(
name|mng_termp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iIteraction
expr_stmt|;
operator|(
operator|(
name|mng_termp
operator|)
name|pChunkto
operator|)
operator|->
name|iDelay
operator|=
operator|(
operator|(
name|mng_termp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iDelay
expr_stmt|;
operator|(
operator|(
name|mng_termp
operator|)
name|pChunkto
operator|)
operator|->
name|iItermax
operator|=
operator|(
operator|(
name|mng_termp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iItermax
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_TERM
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_SAVE
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_save
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_SAVE
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_SAVE
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_savep
operator|)
name|pChunkto
operator|)
operator|->
name|bEmpty
operator|=
operator|(
operator|(
name|mng_savep
operator|)
name|pChunkfrom
operator|)
operator|->
name|bEmpty
expr_stmt|;
operator|(
operator|(
name|mng_savep
operator|)
name|pChunkto
operator|)
operator|->
name|iOffsettype
operator|=
operator|(
operator|(
name|mng_savep
operator|)
name|pChunkfrom
operator|)
operator|->
name|iOffsettype
expr_stmt|;
operator|(
operator|(
name|mng_savep
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
operator|=
operator|(
operator|(
name|mng_savep
operator|)
name|pChunkfrom
operator|)
operator|->
name|iCount
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_savep
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
condition|)
block|{
name|mng_uint32
name|iX
decl_stmt|;
name|mng_save_entryp
name|pEntry
decl_stmt|;
name|mng_uint32
name|iLen
init|=
operator|(
operator|(
name|mng_savep
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
operator|*
sizeof|sizeof
argument_list|(
name|mng_save_entry
argument_list|)
decl_stmt|;
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_savep
operator|)
name|pChunkto
operator|)
operator|->
name|pEntries
argument_list|,
name|iLen
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_savep
operator|)
name|pChunkto
operator|)
operator|->
name|pEntries
argument_list|,
operator|(
operator|(
name|mng_savep
operator|)
name|pChunkfrom
operator|)
operator|->
name|pEntries
argument_list|,
name|iLen
argument_list|)
expr_stmt|;
name|pEntry
operator|=
operator|(
operator|(
name|mng_savep
operator|)
name|pChunkto
operator|)
operator|->
name|pEntries
expr_stmt|;
for|for
control|(
name|iX
operator|=
literal|0
init|;
name|iX
operator|<
operator|(
operator|(
name|mng_savep
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
condition|;
name|iX
operator|++
control|)
block|{
if|if
condition|(
name|pEntry
operator|->
name|iNamesize
condition|)
block|{
name|mng_pchar
name|pTemp
init|=
name|pEntry
operator|->
name|zName
decl_stmt|;
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
name|pEntry
operator|->
name|zName
argument_list|,
name|pEntry
operator|->
name|iNamesize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
name|pEntry
operator|->
name|zName
argument_list|,
name|pTemp
argument_list|,
name|pEntry
operator|->
name|iNamesize
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|pEntry
operator|->
name|zName
operator|=
name|MNG_NULL
expr_stmt|;
block|}
name|pEntry
operator|++
expr_stmt|;
block|}
block|}
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_SAVE
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_SEEK
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_seek
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_SEEK
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_SEEK
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_seekp
operator|)
name|pChunkto
operator|)
operator|->
name|iNamesize
operator|=
operator|(
operator|(
name|mng_seekp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iNamesize
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_seekp
operator|)
name|pChunkto
operator|)
operator|->
name|iNamesize
condition|)
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_seekp
operator|)
name|pChunkto
operator|)
operator|->
name|zName
argument_list|,
operator|(
operator|(
name|mng_seekp
operator|)
name|pChunkto
operator|)
operator|->
name|iNamesize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_seekp
operator|)
name|pChunkto
operator|)
operator|->
name|zName
argument_list|,
operator|(
operator|(
name|mng_seekp
operator|)
name|pChunkfrom
operator|)
operator|->
name|zName
argument_list|,
operator|(
operator|(
name|mng_seekp
operator|)
name|pChunkto
operator|)
operator|->
name|iNamesize
argument_list|)
expr_stmt|;
block|}
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_SEEK
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_eXPI
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_expi
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_EXPI
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_eXPI
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_expip
operator|)
name|pChunkto
operator|)
operator|->
name|iSnapshotid
operator|=
operator|(
operator|(
name|mng_expip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iSnapshotid
expr_stmt|;
operator|(
operator|(
name|mng_expip
operator|)
name|pChunkto
operator|)
operator|->
name|iNamesize
operator|=
operator|(
operator|(
name|mng_expip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iNamesize
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_expip
operator|)
name|pChunkto
operator|)
operator|->
name|iNamesize
condition|)
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_expip
operator|)
name|pChunkto
operator|)
operator|->
name|zName
argument_list|,
operator|(
operator|(
name|mng_expip
operator|)
name|pChunkto
operator|)
operator|->
name|iNamesize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_expip
operator|)
name|pChunkto
operator|)
operator|->
name|zName
argument_list|,
operator|(
operator|(
name|mng_expip
operator|)
name|pChunkfrom
operator|)
operator|->
name|zName
argument_list|,
operator|(
operator|(
name|mng_expip
operator|)
name|pChunkto
operator|)
operator|->
name|iNamesize
argument_list|)
expr_stmt|;
block|}
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_EXPI
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_fPRI
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_fpri
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_FPRI
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_fPRI
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_fprip
operator|)
name|pChunkto
operator|)
operator|->
name|iDeltatype
operator|=
operator|(
operator|(
name|mng_fprip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iDeltatype
expr_stmt|;
operator|(
operator|(
name|mng_fprip
operator|)
name|pChunkto
operator|)
operator|->
name|iPriority
operator|=
operator|(
operator|(
name|mng_fprip
operator|)
name|pChunkfrom
operator|)
operator|->
name|iPriority
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_FPRI
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_nEED
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_need
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_NEED
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_nEED
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_needp
operator|)
name|pChunkto
operator|)
operator|->
name|iKeywordssize
operator|=
operator|(
operator|(
name|mng_needp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iKeywordssize
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_needp
operator|)
name|pChunkto
operator|)
operator|->
name|iKeywordssize
condition|)
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_needp
operator|)
name|pChunkto
operator|)
operator|->
name|zKeywords
argument_list|,
operator|(
operator|(
name|mng_needp
operator|)
name|pChunkto
operator|)
operator|->
name|iKeywordssize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_needp
operator|)
name|pChunkto
operator|)
operator|->
name|zKeywords
argument_list|,
operator|(
operator|(
name|mng_needp
operator|)
name|pChunkfrom
operator|)
operator|->
name|zKeywords
argument_list|,
operator|(
operator|(
name|mng_needp
operator|)
name|pChunkto
operator|)
operator|->
name|iKeywordssize
argument_list|)
expr_stmt|;
block|}
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_NEED
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_pHYg
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_phyg
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_PHYG
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_pHYg
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_phygp
operator|)
name|pChunkto
operator|)
operator|->
name|bEmpty
operator|=
operator|(
operator|(
name|mng_phygp
operator|)
name|pChunkfrom
operator|)
operator|->
name|bEmpty
expr_stmt|;
operator|(
operator|(
name|mng_phygp
operator|)
name|pChunkto
operator|)
operator|->
name|iSizex
operator|=
operator|(
operator|(
name|mng_phygp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iSizex
expr_stmt|;
operator|(
operator|(
name|mng_phygp
operator|)
name|pChunkto
operator|)
operator|->
name|iSizey
operator|=
operator|(
operator|(
name|mng_phygp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iSizey
expr_stmt|;
operator|(
operator|(
name|mng_phygp
operator|)
name|pChunkto
operator|)
operator|->
name|iUnit
operator|=
operator|(
operator|(
name|mng_phygp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iUnit
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_PHYG
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_INCLUDE_JNG
end_ifdef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_jhdr
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_JHDR
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_JHDR
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_jhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iWidth
operator|=
operator|(
operator|(
name|mng_jhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iWidth
expr_stmt|;
operator|(
operator|(
name|mng_jhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iHeight
operator|=
operator|(
operator|(
name|mng_jhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iHeight
expr_stmt|;
operator|(
operator|(
name|mng_jhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iColortype
operator|=
operator|(
operator|(
name|mng_jhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iColortype
expr_stmt|;
operator|(
operator|(
name|mng_jhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iImagesampledepth
operator|=
operator|(
operator|(
name|mng_jhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iImagesampledepth
expr_stmt|;
operator|(
operator|(
name|mng_jhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iImagecompression
operator|=
operator|(
operator|(
name|mng_jhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iImagecompression
expr_stmt|;
operator|(
operator|(
name|mng_jhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iImageinterlace
operator|=
operator|(
operator|(
name|mng_jhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iImageinterlace
expr_stmt|;
operator|(
operator|(
name|mng_jhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iAlphasampledepth
operator|=
operator|(
operator|(
name|mng_jhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iAlphasampledepth
expr_stmt|;
operator|(
operator|(
name|mng_jhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iAlphacompression
operator|=
operator|(
operator|(
name|mng_jhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iAlphacompression
expr_stmt|;
operator|(
operator|(
name|mng_jhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iAlphafilter
operator|=
operator|(
operator|(
name|mng_jhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iAlphafilter
expr_stmt|;
operator|(
operator|(
name|mng_jhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iAlphainterlace
operator|=
operator|(
operator|(
name|mng_jhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iAlphainterlace
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_JHDR
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* MNG_INCLUDE_JNG */
end_comment
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_INCLUDE_JNG
end_ifdef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_jdaa
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_JDAA
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_JDAA
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_jdaap
operator|)
name|pChunkto
operator|)
operator|->
name|bEmpty
operator|=
operator|(
operator|(
name|mng_jdaap
operator|)
name|pChunkfrom
operator|)
operator|->
name|bEmpty
expr_stmt|;
operator|(
operator|(
name|mng_jdaap
operator|)
name|pChunkto
operator|)
operator|->
name|iDatasize
operator|=
operator|(
operator|(
name|mng_jdaap
operator|)
name|pChunkfrom
operator|)
operator|->
name|iDatasize
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_jdaap
operator|)
name|pChunkto
operator|)
operator|->
name|iDatasize
condition|)
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_jdaap
operator|)
name|pChunkto
operator|)
operator|->
name|pData
argument_list|,
operator|(
operator|(
name|mng_jdaap
operator|)
name|pChunkto
operator|)
operator|->
name|iDatasize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_jdaap
operator|)
name|pChunkto
operator|)
operator|->
name|pData
argument_list|,
operator|(
operator|(
name|mng_jdaap
operator|)
name|pChunkfrom
operator|)
operator|->
name|pData
argument_list|,
operator|(
operator|(
name|mng_jdaap
operator|)
name|pChunkto
operator|)
operator|->
name|iDatasize
argument_list|)
expr_stmt|;
block|}
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_JDAA
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* MNG_INCLUDE_JNG */
end_comment
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_INCLUDE_JNG
end_ifdef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_jdat
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_JDAT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_JDAT
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_jdatp
operator|)
name|pChunkto
operator|)
operator|->
name|bEmpty
operator|=
operator|(
operator|(
name|mng_jdatp
operator|)
name|pChunkfrom
operator|)
operator|->
name|bEmpty
expr_stmt|;
operator|(
operator|(
name|mng_jdatp
operator|)
name|pChunkto
operator|)
operator|->
name|iDatasize
operator|=
operator|(
operator|(
name|mng_jdatp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iDatasize
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_jdatp
operator|)
name|pChunkto
operator|)
operator|->
name|iDatasize
condition|)
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_jdatp
operator|)
name|pChunkto
operator|)
operator|->
name|pData
argument_list|,
operator|(
operator|(
name|mng_jdatp
operator|)
name|pChunkto
operator|)
operator|->
name|iDatasize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_jdatp
operator|)
name|pChunkto
operator|)
operator|->
name|pData
argument_list|,
operator|(
operator|(
name|mng_jdatp
operator|)
name|pChunkfrom
operator|)
operator|->
name|pData
argument_list|,
operator|(
operator|(
name|mng_jdatp
operator|)
name|pChunkto
operator|)
operator|->
name|iDatasize
argument_list|)
expr_stmt|;
block|}
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_JDAT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* MNG_INCLUDE_JNG */
end_comment
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_INCLUDE_JNG
end_ifdef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_jsep
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_JSEP
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_JSEP
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_JSEP
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* MNG_INCLUDE_JNG */
end_comment
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_dhdr
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_DHDR
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_DHDR
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_dhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iObjectid
operator|=
operator|(
operator|(
name|mng_dhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iObjectid
expr_stmt|;
operator|(
operator|(
name|mng_dhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iImagetype
operator|=
operator|(
operator|(
name|mng_dhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iImagetype
expr_stmt|;
operator|(
operator|(
name|mng_dhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iDeltatype
operator|=
operator|(
operator|(
name|mng_dhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iDeltatype
expr_stmt|;
operator|(
operator|(
name|mng_dhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iBlockwidth
operator|=
operator|(
operator|(
name|mng_dhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iBlockwidth
expr_stmt|;
operator|(
operator|(
name|mng_dhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iBlockheight
operator|=
operator|(
operator|(
name|mng_dhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iBlockheight
expr_stmt|;
operator|(
operator|(
name|mng_dhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iBlockx
operator|=
operator|(
operator|(
name|mng_dhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iBlockx
expr_stmt|;
operator|(
operator|(
name|mng_dhdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iBlocky
operator|=
operator|(
operator|(
name|mng_dhdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iBlocky
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_DHDR
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_prom
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_PROM
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_PROM
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_promp
operator|)
name|pChunkto
operator|)
operator|->
name|iColortype
operator|=
operator|(
operator|(
name|mng_promp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iColortype
expr_stmt|;
operator|(
operator|(
name|mng_promp
operator|)
name|pChunkto
operator|)
operator|->
name|iSampledepth
operator|=
operator|(
operator|(
name|mng_promp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iSampledepth
expr_stmt|;
operator|(
operator|(
name|mng_promp
operator|)
name|pChunkto
operator|)
operator|->
name|iFilltype
operator|=
operator|(
operator|(
name|mng_promp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iFilltype
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_PROM
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_ipng
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_IPNG
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_IPNG
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_IPNG
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_pplt
argument_list|)
end_macro
begin_block
block|{
name|mng_uint32
name|iX
decl_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_PPLT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_PPLT
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_ppltp
operator|)
name|pChunkto
operator|)
operator|->
name|iDeltatype
operator|=
operator|(
operator|(
name|mng_ppltp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iDeltatype
expr_stmt|;
operator|(
operator|(
name|mng_ppltp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
operator|=
operator|(
operator|(
name|mng_ppltp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iCount
expr_stmt|;
for|for
control|(
name|iX
operator|=
literal|0
init|;
name|iX
operator|<
operator|(
operator|(
name|mng_ppltp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
condition|;
name|iX
operator|++
control|)
operator|(
operator|(
name|mng_ppltp
operator|)
name|pChunkto
operator|)
operator|->
name|aEntries
index|[
name|iX
index|]
operator|=
operator|(
operator|(
name|mng_ppltp
operator|)
name|pChunkfrom
operator|)
operator|->
name|aEntries
index|[
name|iX
index|]
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_PPLT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_INCLUDE_JNG
end_ifdef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_ijng
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_IJNG
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_IJNG
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_IJNG
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_drop
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_DROP
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_DROP
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_dropp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
operator|=
operator|(
operator|(
name|mng_dropp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iCount
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_dropp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
condition|)
block|{
name|mng_uint32
name|iLen
init|=
operator|(
operator|(
name|mng_dropp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
operator|*
sizeof|sizeof
argument_list|(
name|mng_uint32
argument_list|)
decl_stmt|;
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_dropp
operator|)
name|pChunkto
operator|)
operator|->
name|pChunknames
argument_list|,
name|iLen
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_dropp
operator|)
name|pChunkto
operator|)
operator|->
name|pChunknames
argument_list|,
operator|(
operator|(
name|mng_dropp
operator|)
name|pChunkfrom
operator|)
operator|->
name|pChunknames
argument_list|,
name|iLen
argument_list|)
expr_stmt|;
block|}
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_DROP
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_DBYK
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_dbyk
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_DBYK
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_DBYK
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_dbykp
operator|)
name|pChunkto
operator|)
operator|->
name|iChunkname
operator|=
operator|(
operator|(
name|mng_dbykp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
expr_stmt|;
operator|(
operator|(
name|mng_dbykp
operator|)
name|pChunkto
operator|)
operator|->
name|iPolarity
operator|=
operator|(
operator|(
name|mng_dbykp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iPolarity
expr_stmt|;
operator|(
operator|(
name|mng_dbykp
operator|)
name|pChunkto
operator|)
operator|->
name|iKeywordssize
operator|=
operator|(
operator|(
name|mng_dbykp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iKeywordssize
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_dbykp
operator|)
name|pChunkto
operator|)
operator|->
name|iKeywordssize
condition|)
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_dbykp
operator|)
name|pChunkto
operator|)
operator|->
name|zKeywords
argument_list|,
operator|(
operator|(
name|mng_dbykp
operator|)
name|pChunkto
operator|)
operator|->
name|iKeywordssize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_dbykp
operator|)
name|pChunkto
operator|)
operator|->
name|zKeywords
argument_list|,
operator|(
operator|(
name|mng_dbykp
operator|)
name|pChunkfrom
operator|)
operator|->
name|zKeywords
argument_list|,
operator|(
operator|(
name|mng_dbykp
operator|)
name|pChunkto
operator|)
operator|->
name|iKeywordssize
argument_list|)
expr_stmt|;
block|}
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_DBYK
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_NO_DELTA_PNG
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_ORDR
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_ordr
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_ORDR
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_ORDR
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_ordrp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
operator|=
operator|(
operator|(
name|mng_ordrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iCount
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_ordrp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
condition|)
block|{
name|mng_uint32
name|iLen
init|=
operator|(
operator|(
name|mng_ordrp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
operator|*
sizeof|sizeof
argument_list|(
name|mng_ordr_entry
argument_list|)
decl_stmt|;
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_ordrp
operator|)
name|pChunkto
operator|)
operator|->
name|pEntries
argument_list|,
name|iLen
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_ordrp
operator|)
name|pChunkto
operator|)
operator|->
name|pEntries
argument_list|,
operator|(
operator|(
name|mng_ordrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|pEntries
argument_list|,
name|iLen
argument_list|)
expr_stmt|;
block|}
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_ORDR
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_OPTIMIZE_CHUNKASSIGN
end_ifndef
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_MAGN
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_magn
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_MAGN
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_MAGN
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_magnp
operator|)
name|pChunkto
operator|)
operator|->
name|iFirstid
operator|=
operator|(
operator|(
name|mng_magnp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iFirstid
expr_stmt|;
operator|(
operator|(
name|mng_magnp
operator|)
name|pChunkto
operator|)
operator|->
name|iLastid
operator|=
operator|(
operator|(
name|mng_magnp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iLastid
expr_stmt|;
operator|(
operator|(
name|mng_magnp
operator|)
name|pChunkto
operator|)
operator|->
name|iMethodX
operator|=
operator|(
operator|(
name|mng_magnp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iMethodX
expr_stmt|;
operator|(
operator|(
name|mng_magnp
operator|)
name|pChunkto
operator|)
operator|->
name|iMX
operator|=
operator|(
operator|(
name|mng_magnp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iMX
expr_stmt|;
operator|(
operator|(
name|mng_magnp
operator|)
name|pChunkto
operator|)
operator|->
name|iMY
operator|=
operator|(
operator|(
name|mng_magnp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iMY
expr_stmt|;
operator|(
operator|(
name|mng_magnp
operator|)
name|pChunkto
operator|)
operator|->
name|iML
operator|=
operator|(
operator|(
name|mng_magnp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iML
expr_stmt|;
operator|(
operator|(
name|mng_magnp
operator|)
name|pChunkto
operator|)
operator|->
name|iMR
operator|=
operator|(
operator|(
name|mng_magnp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iMR
expr_stmt|;
operator|(
operator|(
name|mng_magnp
operator|)
name|pChunkto
operator|)
operator|->
name|iMT
operator|=
operator|(
operator|(
name|mng_magnp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iMT
expr_stmt|;
operator|(
operator|(
name|mng_magnp
operator|)
name|pChunkto
operator|)
operator|->
name|iMB
operator|=
operator|(
operator|(
name|mng_magnp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iMB
expr_stmt|;
operator|(
operator|(
name|mng_magnp
operator|)
name|pChunkto
operator|)
operator|->
name|iMethodY
operator|=
operator|(
operator|(
name|mng_magnp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iMethodY
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_MAGN
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_INCLUDE_MPNG_PROPOSAL
end_ifdef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_mpng
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_MPNG
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_mpNG
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_mpngp
operator|)
name|pChunkto
operator|)
operator|->
name|iFramewidth
operator|=
operator|(
operator|(
name|mng_mpngp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iFramewidth
expr_stmt|;
operator|(
operator|(
name|mng_mpngp
operator|)
name|pChunkto
operator|)
operator|->
name|iFrameheight
operator|=
operator|(
operator|(
name|mng_mpngp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iFrameheight
expr_stmt|;
operator|(
operator|(
name|mng_mpngp
operator|)
name|pChunkto
operator|)
operator|->
name|iNumplays
operator|=
operator|(
operator|(
name|mng_mpngp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iNumplays
expr_stmt|;
operator|(
operator|(
name|mng_mpngp
operator|)
name|pChunkto
operator|)
operator|->
name|iTickspersec
operator|=
operator|(
operator|(
name|mng_mpngp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iTickspersec
expr_stmt|;
operator|(
operator|(
name|mng_mpngp
operator|)
name|pChunkto
operator|)
operator|->
name|iCompressionmethod
operator|=
operator|(
operator|(
name|mng_mpngp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iCompressionmethod
expr_stmt|;
operator|(
operator|(
name|mng_mpngp
operator|)
name|pChunkto
operator|)
operator|->
name|iFramessize
operator|=
operator|(
operator|(
name|mng_mpngp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iFramessize
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_mpngp
operator|)
name|pChunkto
operator|)
operator|->
name|iFramessize
condition|)
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_mpngp
operator|)
name|pChunkto
operator|)
operator|->
name|pFrames
argument_list|,
operator|(
operator|(
name|mng_mpngp
operator|)
name|pChunkto
operator|)
operator|->
name|iFramessize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_mpngp
operator|)
name|pChunkto
operator|)
operator|->
name|pFrames
argument_list|,
operator|(
operator|(
name|mng_mpngp
operator|)
name|pChunkfrom
operator|)
operator|->
name|pFrames
argument_list|,
operator|(
operator|(
name|mng_mpngp
operator|)
name|pChunkto
operator|)
operator|->
name|iFramessize
argument_list|)
expr_stmt|;
block|}
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_MPNG
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_INCLUDE_ANG_PROPOSAL
end_ifdef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_ahdr
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_AHDR
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_ahDR
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_ahdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iNumframes
operator|=
operator|(
operator|(
name|mng_ahdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iNumframes
expr_stmt|;
operator|(
operator|(
name|mng_ahdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iTickspersec
operator|=
operator|(
operator|(
name|mng_ahdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iTickspersec
expr_stmt|;
operator|(
operator|(
name|mng_ahdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iNumplays
operator|=
operator|(
operator|(
name|mng_ahdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iNumplays
expr_stmt|;
operator|(
operator|(
name|mng_ahdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iTilewidth
operator|=
operator|(
operator|(
name|mng_ahdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iTilewidth
expr_stmt|;
operator|(
operator|(
name|mng_ahdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iTileheight
operator|=
operator|(
operator|(
name|mng_ahdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iTileheight
expr_stmt|;
operator|(
operator|(
name|mng_ahdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iInterlace
operator|=
operator|(
operator|(
name|mng_ahdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iInterlace
expr_stmt|;
operator|(
operator|(
name|mng_ahdrp
operator|)
name|pChunkto
operator|)
operator|->
name|iStillused
operator|=
operator|(
operator|(
name|mng_ahdrp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iStillused
expr_stmt|;
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_AHDR
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifdef
ifdef|#
directive|ifdef
name|MNG_INCLUDE_ANG_PROPOSAL
end_ifdef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_adat
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_ADAT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_adAT
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_adatp
operator|)
name|pChunkto
operator|)
operator|->
name|iTilessize
operator|=
operator|(
operator|(
name|mng_adatp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iTilessize
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_adatp
operator|)
name|pChunkto
operator|)
operator|->
name|iTilessize
condition|)
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_adatp
operator|)
name|pChunkto
operator|)
operator|->
name|pTiles
argument_list|,
operator|(
operator|(
name|mng_adatp
operator|)
name|pChunkto
operator|)
operator|->
name|iTilessize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_adatp
operator|)
name|pChunkto
operator|)
operator|->
name|pTiles
argument_list|,
operator|(
operator|(
name|mng_adatp
operator|)
name|pChunkfrom
operator|)
operator|->
name|pTiles
argument_list|,
operator|(
operator|(
name|mng_adatp
operator|)
name|pChunkto
operator|)
operator|->
name|iTilessize
argument_list|)
expr_stmt|;
block|}
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_ADAT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|MNG_SKIPCHUNK_evNT
end_ifndef
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_evnt
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_EVNT
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|if
condition|(
operator|(
operator|(
name|mng_chunk_headerp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iChunkname
operator|!=
name|MNG_UINT_evNT
condition|)
name|MNG_ERROR
argument_list|(
name|pData
argument_list|,
name|MNG_WRONGCHUNK
argument_list|)
expr_stmt|;
comment|/* ouch */
operator|(
operator|(
name|mng_evntp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
operator|=
operator|(
operator|(
name|mng_evntp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iCount
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_evntp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
condition|)
block|{
name|mng_uint32
name|iX
decl_stmt|;
name|mng_evnt_entryp
name|pEntry
decl_stmt|;
name|mng_uint32
name|iLen
init|=
operator|(
operator|(
name|mng_evntp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
operator|*
sizeof|sizeof
argument_list|(
name|mng_evnt_entry
argument_list|)
decl_stmt|;
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_evntp
operator|)
name|pChunkto
operator|)
operator|->
name|pEntries
argument_list|,
name|iLen
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_evntp
operator|)
name|pChunkto
operator|)
operator|->
name|pEntries
argument_list|,
operator|(
operator|(
name|mng_evntp
operator|)
name|pChunkfrom
operator|)
operator|->
name|pEntries
argument_list|,
name|iLen
argument_list|)
expr_stmt|;
name|pEntry
operator|=
operator|(
operator|(
name|mng_evntp
operator|)
name|pChunkto
operator|)
operator|->
name|pEntries
expr_stmt|;
for|for
control|(
name|iX
operator|=
literal|0
init|;
name|iX
operator|<
operator|(
operator|(
name|mng_evntp
operator|)
name|pChunkto
operator|)
operator|->
name|iCount
condition|;
name|iX
operator|++
control|)
block|{
if|if
condition|(
name|pEntry
operator|->
name|iSegmentnamesize
condition|)
block|{
name|mng_pchar
name|pTemp
init|=
name|pEntry
operator|->
name|zSegmentname
decl_stmt|;
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
name|pEntry
operator|->
name|zSegmentname
argument_list|,
name|pEntry
operator|->
name|iSegmentnamesize
operator|+
literal|1
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
name|pEntry
operator|->
name|zSegmentname
argument_list|,
name|pTemp
argument_list|,
name|pEntry
operator|->
name|iSegmentnamesize
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|pEntry
operator|->
name|zSegmentname
operator|=
name|MNG_NULL
expr_stmt|;
block|}
name|pEntry
operator|++
expr_stmt|;
block|}
block|}
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_EVNT
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_macro
DECL|function|ASSIGN_CHUNK_HDR
name|ASSIGN_CHUNK_HDR
argument_list|(
argument|mng_assign_unknown
argument_list|)
end_macro
begin_block
block|{
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_UNKNOWN
argument_list|,
name|MNG_LC_START
argument_list|)
expr_stmt|;
endif|#
directive|endif
operator|(
operator|(
name|mng_unknown_chunkp
operator|)
name|pChunkto
operator|)
operator|->
name|iDatasize
operator|=
operator|(
operator|(
name|mng_unknown_chunkp
operator|)
name|pChunkfrom
operator|)
operator|->
name|iDatasize
expr_stmt|;
if|if
condition|(
operator|(
operator|(
name|mng_unknown_chunkp
operator|)
name|pChunkto
operator|)
operator|->
name|iDatasize
condition|)
block|{
name|MNG_ALLOC
argument_list|(
name|pData
argument_list|,
operator|(
operator|(
name|mng_unknown_chunkp
operator|)
name|pChunkto
operator|)
operator|->
name|pData
argument_list|,
operator|(
operator|(
name|mng_unknown_chunkp
operator|)
name|pChunkto
operator|)
operator|->
name|iDatasize
argument_list|)
expr_stmt|;
name|MNG_COPY
argument_list|(
operator|(
operator|(
name|mng_unknown_chunkp
operator|)
name|pChunkto
operator|)
operator|->
name|pData
argument_list|,
operator|(
operator|(
name|mng_unknown_chunkp
operator|)
name|pChunkfrom
operator|)
operator|->
name|pData
argument_list|,
operator|(
operator|(
name|mng_unknown_chunkp
operator|)
name|pChunkto
operator|)
operator|->
name|iDatasize
argument_list|)
expr_stmt|;
block|}
ifdef|#
directive|ifdef
name|MNG_SUPPORT_TRACE
name|MNG_TRACE
argument_list|(
name|pData
argument_list|,
name|MNG_FN_ASSIGN_UNKNOWN
argument_list|,
name|MNG_LC_END
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
name|MNG_NOERROR
return|;
block|}
end_block
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* MNG_INCLUDE_WRITE_PROCS */
end_comment
begin_comment
comment|/* ************************************************************************** */
end_comment
begin_comment
comment|/* * end of file                                                            * */
end_comment
begin_comment
comment|/* ************************************************************************** */
end_comment
end_unit
