begin_unit
begin_comment
comment|/***************************************************************************/
end_comment
begin_comment
comment|/*                                                                         */
end_comment
begin_comment
comment|/*  ttsubpix.h                                                             */
end_comment
begin_comment
comment|/*                                                                         */
end_comment
begin_comment
comment|/*    TrueType Subpixel Hinting.                                           */
end_comment
begin_comment
comment|/*                                                                         */
end_comment
begin_comment
comment|/*  Copyright 2010-2015 by                                                 */
end_comment
begin_comment
comment|/*  David Turner, Robert Wilhelm, and Werner Lemberg.                      */
end_comment
begin_comment
comment|/*                                                                         */
end_comment
begin_comment
comment|/*  This file is part of the FreeType project, and may only be used,       */
end_comment
begin_comment
comment|/*  modified, and distributed under the terms of the FreeType project      */
end_comment
begin_comment
comment|/*  license, LICENSE.TXT.  By continuing to use, modify, or distribute     */
end_comment
begin_comment
comment|/*  this file you indicate that you have read the license and              */
end_comment
begin_comment
comment|/*  understand and accept it fully.                                        */
end_comment
begin_comment
comment|/*                                                                         */
end_comment
begin_comment
comment|/***************************************************************************/
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|__TTSUBPIX_H__
end_ifndef
begin_define
DECL|macro|__TTSUBPIX_H__
define|#
directive|define
name|__TTSUBPIX_H__
end_define
begin_include
include|#
directive|include
file|<ft2build.h>
end_include
begin_include
include|#
directive|include
file|"ttobjs.h"
end_include
begin_include
include|#
directive|include
file|"ttinterp.h"
end_include
begin_function_decl
name|FT_BEGIN_HEADER
ifdef|#
directive|ifdef
name|TT_CONFIG_OPTION_SUBPIXEL_HINTING
comment|/*************************************************************************/
comment|/*                                                                       */
comment|/* ID flags to identify special functions at FDEF and runtime.           */
comment|/*                                                                       */
comment|/*                                                                       */
DECL|macro|SPH_FDEF_INLINE_DELTA_1
define|#
directive|define
name|SPH_FDEF_INLINE_DELTA_1
value|0x0000001
DECL|macro|SPH_FDEF_INLINE_DELTA_2
define|#
directive|define
name|SPH_FDEF_INLINE_DELTA_2
value|0x0000002
DECL|macro|SPH_FDEF_DIAGONAL_STROKE
define|#
directive|define
name|SPH_FDEF_DIAGONAL_STROKE
value|0x0000004
DECL|macro|SPH_FDEF_VACUFORM_ROUND_1
define|#
directive|define
name|SPH_FDEF_VACUFORM_ROUND_1
value|0x0000008
DECL|macro|SPH_FDEF_TTFAUTOHINT_1
define|#
directive|define
name|SPH_FDEF_TTFAUTOHINT_1
value|0x0000010
DECL|macro|SPH_FDEF_SPACING_1
define|#
directive|define
name|SPH_FDEF_SPACING_1
value|0x0000020
DECL|macro|SPH_FDEF_SPACING_2
define|#
directive|define
name|SPH_FDEF_SPACING_2
value|0x0000040
DECL|macro|SPH_FDEF_TYPEMAN_STROKES
define|#
directive|define
name|SPH_FDEF_TYPEMAN_STROKES
value|0x0000080
DECL|macro|SPH_FDEF_TYPEMAN_DIAGENDCTRL
define|#
directive|define
name|SPH_FDEF_TYPEMAN_DIAGENDCTRL
value|0x0000100
comment|/*************************************************************************/
comment|/*                                                                       */
comment|/* Tweak flags that are set for each glyph by the below rules.           */
comment|/*                                                                       */
comment|/*                                                                       */
DECL|macro|SPH_TWEAK_ALLOW_X_DMOVE
define|#
directive|define
name|SPH_TWEAK_ALLOW_X_DMOVE
value|0x0000001UL
DECL|macro|SPH_TWEAK_ALWAYS_DO_DELTAP
define|#
directive|define
name|SPH_TWEAK_ALWAYS_DO_DELTAP
value|0x0000002UL
DECL|macro|SPH_TWEAK_ALWAYS_SKIP_DELTAP
define|#
directive|define
name|SPH_TWEAK_ALWAYS_SKIP_DELTAP
value|0x0000004UL
DECL|macro|SPH_TWEAK_COURIER_NEW_2_HACK
define|#
directive|define
name|SPH_TWEAK_COURIER_NEW_2_HACK
value|0x0000008UL
DECL|macro|SPH_TWEAK_DEEMBOLDEN
define|#
directive|define
name|SPH_TWEAK_DEEMBOLDEN
value|0x0000010UL
DECL|macro|SPH_TWEAK_DO_SHPIX
define|#
directive|define
name|SPH_TWEAK_DO_SHPIX
value|0x0000020UL
DECL|macro|SPH_TWEAK_EMBOLDEN
define|#
directive|define
name|SPH_TWEAK_EMBOLDEN
value|0x0000040UL
DECL|macro|SPH_TWEAK_MIAP_HACK
define|#
directive|define
name|SPH_TWEAK_MIAP_HACK
value|0x0000080UL
DECL|macro|SPH_TWEAK_NORMAL_ROUND
define|#
directive|define
name|SPH_TWEAK_NORMAL_ROUND
value|0x0000100UL
DECL|macro|SPH_TWEAK_NO_ALIGNRP_AFTER_IUP
define|#
directive|define
name|SPH_TWEAK_NO_ALIGNRP_AFTER_IUP
value|0x0000200UL
DECL|macro|SPH_TWEAK_NO_CALL_AFTER_IUP
define|#
directive|define
name|SPH_TWEAK_NO_CALL_AFTER_IUP
value|0x0000400UL
DECL|macro|SPH_TWEAK_NO_DELTAP_AFTER_IUP
define|#
directive|define
name|SPH_TWEAK_NO_DELTAP_AFTER_IUP
value|0x0000800UL
DECL|macro|SPH_TWEAK_PIXEL_HINTING
define|#
directive|define
name|SPH_TWEAK_PIXEL_HINTING
value|0x0001000UL
DECL|macro|SPH_TWEAK_RASTERIZER_35
define|#
directive|define
name|SPH_TWEAK_RASTERIZER_35
value|0x0002000UL
DECL|macro|SPH_TWEAK_ROUND_NONPIXEL_Y_MOVES
define|#
directive|define
name|SPH_TWEAK_ROUND_NONPIXEL_Y_MOVES
value|0x0004000UL
DECL|macro|SPH_TWEAK_SKIP_IUP
define|#
directive|define
name|SPH_TWEAK_SKIP_IUP
value|0x0008000UL
DECL|macro|SPH_TWEAK_SKIP_NONPIXEL_Y_MOVES
define|#
directive|define
name|SPH_TWEAK_SKIP_NONPIXEL_Y_MOVES
value|0x0010000UL
DECL|macro|SPH_TWEAK_SKIP_OFFPIXEL_Y_MOVES
define|#
directive|define
name|SPH_TWEAK_SKIP_OFFPIXEL_Y_MOVES
value|0x0020000UL
DECL|macro|SPH_TWEAK_TIMES_NEW_ROMAN_HACK
define|#
directive|define
name|SPH_TWEAK_TIMES_NEW_ROMAN_HACK
value|0x0040000UL
DECL|macro|SPH_TWEAK_SKIP_NONPIXEL_Y_MOVES_DELTAP
define|#
directive|define
name|SPH_TWEAK_SKIP_NONPIXEL_Y_MOVES_DELTAP
value|0x0080000UL
name|FT_LOCAL
parameter_list|(
name|FT_Bool
parameter_list|)
function_decl|sph_test_tweak
parameter_list|(
name|TT_Face
name|face
parameter_list|,
specifier|const
name|FT_String
modifier|*
name|family
parameter_list|,
name|FT_UInt
name|ppem
parameter_list|,
specifier|const
name|FT_String
modifier|*
name|style
parameter_list|,
name|FT_UInt
name|glyph_index
parameter_list|,
specifier|const
name|SPH_TweakRule
modifier|*
name|rule
parameter_list|,
name|FT_UInt
name|num_rules
parameter_list|)
function_decl|;
end_function_decl
begin_macro
name|FT_LOCAL
argument_list|(
argument|FT_UInt
argument_list|)
end_macro
begin_macro
DECL|variable|sph_test_tweak_x_scaling
name|sph_test_tweak_x_scaling
argument_list|(
argument|TT_Face           face
argument_list|,
argument|const FT_String*  family
argument_list|,
argument|FT_UInt           ppem
argument_list|,
argument|const FT_String*  style
argument_list|,
argument|FT_UInt           glyph_index
argument_list|)
end_macro
begin_empty_stmt
empty_stmt|;
end_empty_stmt
begin_macro
name|FT_LOCAL
argument_list|(
argument|void
argument_list|)
end_macro
begin_macro
name|sph_set_tweaks
argument_list|(
argument|TT_Loader  loader
argument_list|,
argument|FT_UInt    glyph_index
argument_list|)
end_macro
begin_empty_stmt
empty_stmt|;
end_empty_stmt
begin_comment
comment|/* These macros are defined absent a method for setting them */
end_comment
begin_define
DECL|macro|SPH_OPTION_BITMAP_WIDTHS
define|#
directive|define
name|SPH_OPTION_BITMAP_WIDTHS
value|FALSE
end_define
begin_define
DECL|macro|SPH_OPTION_SET_SUBPIXEL
define|#
directive|define
name|SPH_OPTION_SET_SUBPIXEL
value|TRUE
end_define
begin_define
DECL|macro|SPH_OPTION_SET_GRAYSCALE
define|#
directive|define
name|SPH_OPTION_SET_GRAYSCALE
value|FALSE
end_define
begin_define
DECL|macro|SPH_OPTION_SET_COMPATIBLE_WIDTHS
define|#
directive|define
name|SPH_OPTION_SET_COMPATIBLE_WIDTHS
value|FALSE
end_define
begin_define
DECL|macro|SPH_OPTION_SET_RASTERIZER_VERSION
define|#
directive|define
name|SPH_OPTION_SET_RASTERIZER_VERSION
value|38
end_define
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* TT_CONFIG_OPTION_SUBPIXEL_HINTING */
end_comment
begin_macro
name|FT_END_HEADER
end_macro
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* __TTSUBPIX_H__ */
end_comment
begin_comment
comment|/* END */
end_comment
end_unit
