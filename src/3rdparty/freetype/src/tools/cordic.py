begin_unit
comment|'# compute arctangent table for CORDIC computations in fttrigon.c'
nl|'\n'
name|'import'
name|'sys'
op|','
name|'math'
newline|'\n'
nl|'\n'
comment|"#units  = 64*65536.0   # don't change !!"
nl|'\n'
DECL|variable|units
name|'units'
op|'='
number|'180'
op|'*'
number|'2'
op|'**'
number|'16'
newline|'\n'
DECL|variable|scale
name|'scale'
op|'='
name|'units'
op|'/'
name|'math'
op|'.'
name|'pi'
newline|'\n'
DECL|variable|shrink
name|'shrink'
op|'='
number|'1.0'
newline|'\n'
DECL|variable|comma
name|'comma'
op|'='
string|'""'
newline|'\n'
nl|'\n'
name|'print'
string|'""'
newline|'\n'
name|'print'
string|'"table of arctan( 1/2^n ) for PI = "'
op|'+'
name|'repr'
op|'('
name|'units'
op|'/'
number|'65536.0'
op|')'
op|'+'
string|'" units"'
newline|'\n'
nl|'\n'
name|'for'
name|'n'
name|'in'
name|'range'
op|'('
number|'1'
op|','
number|'32'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|variable|x
indent|'    '
name|'x'
op|'='
number|'0.5'
op|'**'
name|'n'
comment|'# tangent value'
newline|'\n'
nl|'\n'
DECL|variable|angle
name|'angle'
op|'='
name|'math'
op|'.'
name|'atan'
op|'('
name|'x'
op|')'
comment|'# arctangent'
newline|'\n'
DECL|variable|angle2
name|'angle2'
op|'='
name|'round'
op|'('
name|'angle'
op|'*'
name|'scale'
op|')'
comment|'# arctangent in FT_Angle units'
newline|'\n'
nl|'\n'
name|'if'
name|'angle2'
op|'<='
number|'0'
op|':'
newline|'\n'
indent|'        '
name|'break'
newline|'\n'
nl|'\n'
dedent|''
name|'sys'
op|'.'
name|'stdout'
op|'.'
name|'write'
op|'('
name|'comma'
op|'+'
name|'repr'
op|'('
name|'int'
op|'('
name|'angle2'
op|')'
op|')'
op|')'
newline|'\n'
DECL|variable|comma
name|'comma'
op|'='
string|'", "'
newline|'\n'
nl|'\n'
name|'shrink'
op|'/='
name|'math'
op|'.'
name|'sqrt'
op|'('
number|'1'
op|'+'
name|'x'
op|'*'
name|'x'
op|')'
newline|'\n'
nl|'\n'
dedent|''
name|'print'
newline|'\n'
name|'print'
string|'"shrink factor    = "'
op|'+'
name|'repr'
op|'('
name|'shrink'
op|')'
newline|'\n'
name|'print'
string|'"shrink factor 2  = "'
op|'+'
name|'repr'
op|'('
name|'int'
op|'('
name|'shrink'
op|'*'
op|'('
number|'2'
op|'**'
number|'32'
op|')'
op|')'
op|')'
newline|'\n'
name|'print'
string|'"expansion factor = "'
op|'+'
name|'repr'
op|'('
number|'1'
op|'/'
name|'shrink'
op|')'
newline|'\n'
name|'print'
string|'""'
newline|'\n'
nl|'\n'
endmarker|''
end_unit
