begin_unit
comment|'#'
nl|'\n'
comment|'#  tohtml.py'
nl|'\n'
comment|'#'
nl|'\n'
comment|"#    A sub-class container of the `Formatter' class to produce HTML."
nl|'\n'
comment|'#'
nl|'\n'
comment|'#  Copyright 2002, 2003, 2005-2008, 2013, 2014 by'
nl|'\n'
comment|'#  David Turner.'
nl|'\n'
comment|'#'
nl|'\n'
comment|'#  This file is part of the FreeType project, and may only be used,'
nl|'\n'
comment|'#  modified, and distributed under the terms of the FreeType project'
nl|'\n'
comment|'#  license, LICENSE.TXT.  By continuing to use, modify, or distribute'
nl|'\n'
comment|'#  this file you indicate that you have read the license and'
nl|'\n'
comment|'#  understand and accept it fully.'
nl|'\n'
nl|'\n'
comment|"# The parent class is contained in file `formatter.py'."
nl|'\n'
nl|'\n'
nl|'\n'
name|'from'
name|'sources'
name|'import'
op|'*'
newline|'\n'
name|'from'
name|'content'
name|'import'
op|'*'
newline|'\n'
name|'from'
name|'formatter'
name|'import'
op|'*'
newline|'\n'
nl|'\n'
name|'import'
name|'time'
newline|'\n'
nl|'\n'
nl|'\n'
comment|'# The following strings define the HTML header used by all generated pages.'
nl|'\n'
name|'html_header_1'
op|'='
string|'"""\\\n<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"\n"http://www.w3.org/TR/html4/loose.dtd">\n<html>\n<head>\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8">\n<title>\\\n"""'
newline|'\n'
nl|'\n'
name|'html_header_2'
op|'='
string|'"""\\\n API Reference</title>\n<style type="text/css">\n  a:link { color: #0000EF; }\n  a:visited { color: #51188E; }\n  a:hover { color: #FF0000; }\n\n  body { font-family: Verdana, Geneva, Arial, Helvetica, serif;\n         color: #000000;\n         background: #FFFFFF;\n         width: 87%;\n         margin: auto; }\n\n  div.section { width: 75%;\n                margin: auto; }\n  div.section hr { margin: 4ex 0 1ex 0; }\n  div.section h4 { background-color: #EEEEFF;\n                   font-size: medium;\n                   font-style: oblique;\n                   font-weight: bold;\n                   margin: 3ex 0 1.5ex 9%;\n                   padding: 0.3ex 0 0.3ex 1%; }\n  div.section p { margin: 1.5ex 0 1.5ex 10%; }\n  div.section pre { margin: 3ex 0 3ex 9%;\n                    background-color: #D6E8FF;\n                    padding: 2ex 0 2ex 1%; }\n  div.section table.fields { width: 90%;\n                             margin: 1.5ex 0 1.5ex 10%; }\n  div.section table.toc { width: 95%;\n                          margin: 1.5ex 0 1.5ex 5%; }\n  div.timestamp { text-align: center;\n                  font-size: 69%;\n                  margin: 1.5ex 0 1.5ex 0; }\n\n  h1 { text-align: center; }\n  h3 { font-size: medium;\n       margin: 4ex 0 1.5ex 0; }\n\n  p { text-align: justify; }\n\n  pre.colored { color: blue; }\n\n  span.keyword { font-family: monospace;\n                 text-align: left;\n                 white-space: pre;\n                 color: darkblue; }\n\n  table.fields td.val { font-weight: bold;\n                        text-align: right;\n                        width: 30%;\n                        vertical-align: baseline;\n                        padding: 1ex 1em 1ex 0; }\n  table.fields td.desc { vertical-align: baseline;\n                         padding: 1ex 0 1ex 1em; }\n  table.fields td.desc p:first-child { margin: 0; }\n  table.fields td.desc p { margin: 1.5ex 0 0 0; }\n  table.index { margin: 6ex auto 6ex auto;\n                border: 0;\n                border-collapse: separate;\n                border-spacing: 1em 0.3ex; }\n  table.index tr { padding: 0; }\n  table.index td { padding: 0; }\n  table.index-toc-link { width: 100%;\n                         border: 0;\n                         border-spacing: 0;\n                         margin: 1ex 0 1ex 0; }\n  table.index-toc-link td.left { padding: 0 0.5em 0 0.5em;\n                                 font-size: 83%;\n                                 text-align: left; }\n  table.index-toc-link td.middle { padding: 0 0.5em 0 0.5em;\n                                   font-size: 83%;\n                                   text-align: center; }\n  table.index-toc-link td.right { padding: 0 0.5em 0 0.5em;\n                                  font-size: 83%;\n                                  text-align: right; }\n  table.synopsis { margin: 6ex auto 6ex auto;\n                   border: 0;\n                   border-collapse: separate;\n                   border-spacing: 2em 0.6ex; }\n  table.synopsis tr { padding: 0; }\n  table.synopsis td { padding: 0; }\n  table.toc td.link { width: 30%;\n                      text-align: right;\n                      vertical-align: baseline;\n                      padding: 1ex 1em 1ex 0; }\n  table.toc td.desc { vertical-align: baseline;\n                      padding: 1ex 0 1ex 1em;\n                      text-align: left; }\n  table.toc td.desc p:first-child { margin: 0;\n                                    text-align: left; }\n  table.toc td.desc p { margin: 1.5ex 0 0 0;\n                        text-align: left; }\n\n</style>\n</head>\n<body>\n"""'
newline|'\n'
nl|'\n'
name|'html_header_3l'
op|'='
string|'"""\n<table class="index-toc-link"><tr><td class="left">[<a href="\\\n"""'
newline|'\n'
nl|'\n'
name|'html_header_3r'
op|'='
string|'"""\n<table class="index-toc-link"><tr><td class="right">[<a href="\\\n"""'
newline|'\n'
nl|'\n'
name|'html_header_4'
op|'='
string|'"""\\\n">Index</a>]</td><td class="right">[<a href="\\\n"""'
newline|'\n'
nl|'\n'
name|'html_header_5t'
op|'='
string|'"""\\\n">TOC</a>]</td></tr></table>\n<h1>\\\n"""'
newline|'\n'
nl|'\n'
name|'html_header_5i'
op|'='
string|'"""\\\n">Index</a>]</td></tr></table>\n<h1>\\\n"""'
newline|'\n'
nl|'\n'
name|'html_header_6'
op|'='
string|'"""\\\n API Reference</h1>\n"""'
newline|'\n'
nl|'\n'
nl|'\n'
comment|'# The HTML footer used by all generated pages.'
nl|'\n'
name|'html_footer'
op|'='
string|'"""\\\n</body>\n</html>\\\n"""'
newline|'\n'
nl|'\n'
comment|'# The header and footer used for each section.'
nl|'\n'
DECL|variable|section_title_header
name|'section_title_header'
op|'='
string|'"<h1>"'
newline|'\n'
DECL|variable|section_title_footer
name|'section_title_footer'
op|'='
string|'"</h1>"'
newline|'\n'
nl|'\n'
comment|'# The header and footer used for code segments.'
nl|'\n'
name|'code_header'
op|'='
string|'\'<pre class="colored">\''
newline|'\n'
DECL|variable|code_footer
name|'code_footer'
op|'='
string|"'</pre>'"
newline|'\n'
nl|'\n'
comment|'# Paragraph header and footer.'
nl|'\n'
DECL|variable|para_header
name|'para_header'
op|'='
string|'"<p>"'
newline|'\n'
DECL|variable|para_footer
name|'para_footer'
op|'='
string|'"</p>"'
newline|'\n'
nl|'\n'
comment|'# Block header and footer.'
nl|'\n'
name|'block_header'
op|'='
string|'\'<div class="section">\''
newline|'\n'
name|'block_footer_start'
op|'='
string|'"""\\\n<hr>\n<table class="index-toc-link"><tr><td class="left">[<a href="\\\n"""'
newline|'\n'
name|'block_footer_middle'
op|'='
string|'"""\\\n">Index</a>]</td>\\\n<td class="middle">[<a href="#">Top</a>]</td>\\\n<td class="right">[<a href="\\\n"""'
newline|'\n'
name|'block_footer_end'
op|'='
string|'"""\\\n">TOC</a>]</td></tr></table></div>\n"""'
newline|'\n'
nl|'\n'
comment|'# Description header/footer.'
nl|'\n'
DECL|variable|description_header
name|'description_header'
op|'='
string|'""'
newline|'\n'
DECL|variable|description_footer
name|'description_footer'
op|'='
string|'""'
newline|'\n'
nl|'\n'
comment|'# Marker header/inter/footer combination.'
nl|'\n'
DECL|variable|marker_header
name|'marker_header'
op|'='
string|'"<h4>"'
newline|'\n'
DECL|variable|marker_inter
name|'marker_inter'
op|'='
string|'"</h4>"'
newline|'\n'
DECL|variable|marker_footer
name|'marker_footer'
op|'='
string|'""'
newline|'\n'
nl|'\n'
comment|'# Header location header/footer.'
nl|'\n'
DECL|variable|header_location_header
name|'header_location_header'
op|'='
string|'"<p>"'
newline|'\n'
DECL|variable|header_location_footer
name|'header_location_footer'
op|'='
string|'"</p>"'
newline|'\n'
nl|'\n'
comment|'# Source code extracts header/footer.'
nl|'\n'
DECL|variable|source_header
name|'source_header'
op|'='
string|'"<pre>"'
newline|'\n'
DECL|variable|source_footer
name|'source_footer'
op|'='
string|'"</pre>"'
newline|'\n'
nl|'\n'
comment|'# Chapter header/inter/footer.'
nl|'\n'
name|'chapter_header'
op|'='
string|'"""\\\n<div class="section">\n<h2>\\\n"""'
newline|'\n'
DECL|variable|chapter_inter
name|'chapter_inter'
op|'='
string|"'</h2>'"
newline|'\n'
DECL|variable|chapter_footer
name|'chapter_footer'
op|'='
string|"'</div>'"
newline|'\n'
nl|'\n'
comment|'# Index footer.'
nl|'\n'
name|'index_footer_start'
op|'='
string|'"""\\\n<hr>\n<table class="index-toc-link"><tr><td class="right">[<a href="\\\n"""'
newline|'\n'
name|'index_footer_end'
op|'='
string|'"""\\\n">TOC</a>]</td></tr></table>\n"""'
newline|'\n'
nl|'\n'
comment|'# TOC footer.'
nl|'\n'
name|'toc_footer_start'
op|'='
string|'"""\\\n<hr>\n<table class="index-toc-link"><tr><td class="left">[<a href="\\\n"""'
newline|'\n'
name|'toc_footer_end'
op|'='
string|'"""\\\n">Index</a>]</td></tr></table>\n"""'
newline|'\n'
nl|'\n'
nl|'\n'
comment|'# Source language keyword coloration and styling.'
nl|'\n'
name|'keyword_prefix'
op|'='
string|'\'<span class="keyword">\''
newline|'\n'
DECL|variable|keyword_suffix
name|'keyword_suffix'
op|'='
string|"'</span>'"
newline|'\n'
nl|'\n'
DECL|variable|section_synopsis_header
name|'section_synopsis_header'
op|'='
string|"'<h2>Synopsis</h2>'"
newline|'\n'
DECL|variable|section_synopsis_footer
name|'section_synopsis_footer'
op|'='
string|"''"
newline|'\n'
nl|'\n'
nl|'\n'
comment|"# Translate a single line of source to HTML.  This converts `<', `>', and"
nl|'\n'
comment|"# `&' into `&lt;',`&gt;', and `&amp;'."
nl|'\n'
comment|'#'
nl|'\n'
DECL|function|html_quote
name|'def'
name|'html_quote'
op|'('
name|'line'
op|')'
op|':'
newline|'\n'
indent|'    '
name|'result'
op|'='
name|'string'
op|'.'
name|'replace'
op|'('
name|'line'
op|','
string|'"&"'
op|','
string|'"&amp;"'
op|')'
newline|'\n'
name|'result'
op|'='
name|'string'
op|'.'
name|'replace'
op|'('
name|'result'
op|','
string|'"<"'
op|','
string|'"&lt;"'
op|')'
newline|'\n'
name|'result'
op|'='
name|'string'
op|'.'
name|'replace'
op|'('
name|'result'
op|','
string|'">"'
op|','
string|'"&gt;"'
op|')'
newline|'\n'
name|'return'
name|'result'
newline|'\n'
nl|'\n'
nl|'\n'
comment|'################################################################'
nl|'\n'
comment|'##'
nl|'\n'
comment|'##  HTML FORMATTER CLASS'
nl|'\n'
comment|'##'
nl|'\n'
DECL|class|HtmlFormatter
dedent|''
name|'class'
name|'HtmlFormatter'
op|'('
name|'Formatter'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|__init__
indent|'    '
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'processor'
op|','
name|'project_title'
op|','
name|'file_prefix'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'Formatter'
op|'.'
name|'__init__'
op|'('
name|'self'
op|','
name|'processor'
op|')'
newline|'\n'
nl|'\n'
name|'global'
name|'html_header_1'
newline|'\n'
name|'global'
name|'html_header_2'
newline|'\n'
name|'global'
name|'html_header_3l'
op|','
name|'html_header_3r'
newline|'\n'
name|'global'
name|'html_header_4'
newline|'\n'
name|'global'
name|'html_header_5t'
op|','
name|'html_header_5i'
newline|'\n'
name|'global'
name|'html_header_6'
newline|'\n'
name|'global'
name|'html_footer'
newline|'\n'
nl|'\n'
name|'if'
name|'file_prefix'
op|':'
newline|'\n'
indent|'            '
name|'file_prefix'
op|'='
name|'file_prefix'
op|'+'
string|'"-"'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'file_prefix'
op|'='
string|'""'
newline|'\n'
nl|'\n'
dedent|''
name|'self'
op|'.'
name|'headers'
op|'='
name|'processor'
op|'.'
name|'headers'
newline|'\n'
name|'self'
op|'.'
name|'project_title'
op|'='
name|'project_title'
newline|'\n'
name|'self'
op|'.'
name|'file_prefix'
op|'='
name|'file_prefix'
newline|'\n'
name|'self'
op|'.'
name|'html_header'
op|'='
op|'('
nl|'\n'
name|'html_header_1'
op|'+'
name|'project_title'
nl|'\n'
op|'+'
name|'html_header_2'
nl|'\n'
op|'+'
name|'html_header_3l'
op|'+'
name|'file_prefix'
op|'+'
string|'"index.html"'
nl|'\n'
op|'+'
name|'html_header_4'
op|'+'
name|'file_prefix'
op|'+'
string|'"toc.html"'
nl|'\n'
op|'+'
name|'html_header_5t'
op|'+'
name|'project_title'
nl|'\n'
op|'+'
name|'html_header_6'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'html_index_header'
op|'='
op|'('
nl|'\n'
name|'html_header_1'
op|'+'
name|'project_title'
nl|'\n'
op|'+'
name|'html_header_2'
nl|'\n'
op|'+'
name|'html_header_3r'
op|'+'
name|'file_prefix'
op|'+'
string|'"toc.html"'
nl|'\n'
op|'+'
name|'html_header_5t'
op|'+'
name|'project_title'
nl|'\n'
op|'+'
name|'html_header_6'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'html_toc_header'
op|'='
op|'('
nl|'\n'
name|'html_header_1'
op|'+'
name|'project_title'
nl|'\n'
op|'+'
name|'html_header_2'
nl|'\n'
op|'+'
name|'html_header_3l'
op|'+'
name|'file_prefix'
op|'+'
string|'"index.html"'
nl|'\n'
op|'+'
name|'html_header_5i'
op|'+'
name|'project_title'
nl|'\n'
op|'+'
name|'html_header_6'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'html_footer'
op|'='
op|'('
nl|'\n'
string|'\'<div class="timestamp">generated on \''
nl|'\n'
op|'+'
name|'time'
op|'.'
name|'asctime'
op|'('
name|'time'
op|'.'
name|'localtime'
op|'('
name|'time'
op|'.'
name|'time'
op|'('
op|')'
op|')'
op|')'
nl|'\n'
op|'+'
string|'"</div>"'
op|'+'
name|'html_footer'
op|')'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'columns'
op|'='
number|'3'
newline|'\n'
nl|'\n'
DECL|member|make_section_url
dedent|''
name|'def'
name|'make_section_url'
op|'('
name|'self'
op|','
name|'section'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
name|'self'
op|'.'
name|'file_prefix'
op|'+'
name|'section'
op|'.'
name|'name'
op|'+'
string|'".html"'
newline|'\n'
nl|'\n'
DECL|member|make_block_url
dedent|''
name|'def'
name|'make_block_url'
op|'('
name|'self'
op|','
name|'block'
op|','
name|'name'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'name'
op|'=='
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'name'
op|'='
name|'block'
op|'.'
name|'name'
newline|'\n'
dedent|''
name|'return'
name|'self'
op|'.'
name|'make_section_url'
op|'('
name|'block'
op|'.'
name|'section'
op|')'
op|'+'
string|'"#"'
op|'+'
name|'name'
newline|'\n'
nl|'\n'
DECL|member|make_html_word
dedent|''
name|'def'
name|'make_html_word'
op|'('
name|'self'
op|','
name|'word'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""Analyze a simple word to detect cross-references and markup."""'
newline|'\n'
comment|'# handle cross-references'
nl|'\n'
name|'m'
op|'='
name|'re_crossref'
op|'.'
name|'match'
op|'('
name|'word'
op|')'
newline|'\n'
name|'if'
name|'m'
op|':'
newline|'\n'
indent|'            '
name|'try'
op|':'
newline|'\n'
indent|'                '
name|'name'
op|'='
name|'m'
op|'.'
name|'group'
op|'('
number|'1'
op|')'
newline|'\n'
name|'rest'
op|'='
name|'m'
op|'.'
name|'group'
op|'('
number|'2'
op|')'
newline|'\n'
name|'block'
op|'='
name|'self'
op|'.'
name|'identifiers'
op|'['
name|'name'
op|']'
newline|'\n'
name|'url'
op|'='
name|'self'
op|'.'
name|'make_block_url'
op|'('
name|'block'
op|')'
newline|'\n'
name|'return'
string|'\'<a href="\''
op|'+'
name|'url'
op|'+'
string|'\'">\''
op|'+'
name|'name'
op|'+'
string|"'</a>'"
op|'+'
name|'rest'
newline|'\n'
dedent|''
name|'except'
op|':'
newline|'\n'
comment|'# we detected a cross-reference to an unknown item'
nl|'\n'
indent|'                '
name|'sys'
op|'.'
name|'stderr'
op|'.'
name|'write'
op|'('
string|'"WARNING: undefined cross reference"'
nl|'\n'
op|'+'
string|'" \'"'
op|'+'
name|'name'
op|'+'
string|'"\'.\\n"'
op|')'
newline|'\n'
name|'return'
string|"'?'"
op|'+'
name|'name'
op|'+'
string|"'?'"
op|'+'
name|'rest'
newline|'\n'
nl|'\n'
comment|'# handle markup for italic and bold'
nl|'\n'
dedent|''
dedent|''
name|'m'
op|'='
name|'re_italic'
op|'.'
name|'match'
op|'('
name|'word'
op|')'
newline|'\n'
name|'if'
name|'m'
op|':'
newline|'\n'
indent|'            '
name|'name'
op|'='
name|'m'
op|'.'
name|'group'
op|'('
number|'1'
op|')'
newline|'\n'
name|'rest'
op|'='
name|'m'
op|'.'
name|'group'
op|'('
number|'2'
op|')'
newline|'\n'
name|'return'
string|"'<i>'"
op|'+'
name|'name'
op|'+'
string|"'</i>'"
op|'+'
name|'rest'
newline|'\n'
nl|'\n'
dedent|''
name|'m'
op|'='
name|'re_bold'
op|'.'
name|'match'
op|'('
name|'word'
op|')'
newline|'\n'
name|'if'
name|'m'
op|':'
newline|'\n'
indent|'            '
name|'name'
op|'='
name|'m'
op|'.'
name|'group'
op|'('
number|'1'
op|')'
newline|'\n'
name|'rest'
op|'='
name|'m'
op|'.'
name|'group'
op|'('
number|'2'
op|')'
newline|'\n'
name|'return'
string|"'<b>'"
op|'+'
name|'name'
op|'+'
string|"'</b>'"
op|'+'
name|'rest'
newline|'\n'
nl|'\n'
dedent|''
name|'return'
name|'html_quote'
op|'('
name|'word'
op|')'
newline|'\n'
nl|'\n'
DECL|member|make_html_para
dedent|''
name|'def'
name|'make_html_para'
op|'('
name|'self'
op|','
name|'words'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""Convert words of a paragraph into tagged HTML text.  Also handle\n           cross references."""'
newline|'\n'
name|'line'
op|'='
string|'""'
newline|'\n'
name|'if'
name|'words'
op|':'
newline|'\n'
indent|'            '
name|'line'
op|'='
name|'self'
op|'.'
name|'make_html_word'
op|'('
name|'words'
op|'['
number|'0'
op|']'
op|')'
newline|'\n'
name|'for'
name|'word'
name|'in'
name|'words'
op|'['
number|'1'
op|':'
op|']'
op|':'
newline|'\n'
indent|'                '
name|'line'
op|'='
name|'line'
op|'+'
string|'" "'
op|'+'
name|'self'
op|'.'
name|'make_html_word'
op|'('
name|'word'
op|')'
newline|'\n'
comment|'# handle hyperlinks'
nl|'\n'
dedent|''
name|'line'
op|'='
name|'re_url'
op|'.'
name|'sub'
op|'('
string|'r\'<a href="\\1">\\1</a>\''
op|','
name|'line'
op|')'
newline|'\n'
comment|"# convert `...' quotations into real left and right single quotes"
nl|'\n'
name|'line'
op|'='
name|'re'
op|'.'
name|'sub'
op|'('
string|'r"(^|\\W)`(.*?)\'(\\W|$)"'
op|','
nl|'\n'
string|"r'\\1&lsquo;\\2&rsquo;\\3'"
op|','
nl|'\n'
name|'line'
op|')'
newline|'\n'
comment|'# convert tilde into non-breakable space'
nl|'\n'
name|'line'
op|'='
name|'string'
op|'.'
name|'replace'
op|'('
name|'line'
op|','
string|'"~"'
op|','
string|'"&nbsp;"'
op|')'
newline|'\n'
nl|'\n'
dedent|''
name|'return'
name|'para_header'
op|'+'
name|'line'
op|'+'
name|'para_footer'
newline|'\n'
nl|'\n'
DECL|member|make_html_code
dedent|''
name|'def'
name|'make_html_code'
op|'('
name|'self'
op|','
name|'lines'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""Convert a code sequence to HTML."""'
newline|'\n'
name|'line'
op|'='
name|'code_header'
op|'+'
string|"'\\n'"
newline|'\n'
name|'for'
name|'l'
name|'in'
name|'lines'
op|':'
newline|'\n'
indent|'            '
name|'line'
op|'='
name|'line'
op|'+'
name|'html_quote'
op|'('
name|'l'
op|')'
op|'+'
string|"'\\n'"
newline|'\n'
nl|'\n'
dedent|''
name|'return'
name|'line'
op|'+'
name|'code_footer'
newline|'\n'
nl|'\n'
DECL|member|make_html_items
dedent|''
name|'def'
name|'make_html_items'
op|'('
name|'self'
op|','
name|'items'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""Convert a field\'s content into HTML."""'
newline|'\n'
name|'lines'
op|'='
op|'['
op|']'
newline|'\n'
name|'for'
name|'item'
name|'in'
name|'items'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'item'
op|'.'
name|'lines'
op|':'
newline|'\n'
indent|'                '
name|'lines'
op|'.'
name|'append'
op|'('
name|'self'
op|'.'
name|'make_html_code'
op|'('
name|'item'
op|'.'
name|'lines'
op|')'
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'                '
name|'lines'
op|'.'
name|'append'
op|'('
name|'self'
op|'.'
name|'make_html_para'
op|'('
name|'item'
op|'.'
name|'words'
op|')'
op|')'
newline|'\n'
nl|'\n'
dedent|''
dedent|''
name|'return'
name|'string'
op|'.'
name|'join'
op|'('
name|'lines'
op|','
string|"'\\n'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|print_html_items
dedent|''
name|'def'
name|'print_html_items'
op|'('
name|'self'
op|','
name|'items'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'print'
name|'self'
op|'.'
name|'make_html_items'
op|'('
name|'items'
op|')'
newline|'\n'
nl|'\n'
DECL|member|print_html_field
dedent|''
name|'def'
name|'print_html_field'
op|'('
name|'self'
op|','
name|'field'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'field'
op|'.'
name|'name'
op|':'
newline|'\n'
indent|'            '
name|'print'
op|'('
string|'\'<table><tr valign="top"><td><b>\''
nl|'\n'
op|'+'
name|'field'
op|'.'
name|'name'
nl|'\n'
op|'+'
string|'"</b></td><td>"'
op|')'
newline|'\n'
nl|'\n'
dedent|''
name|'print'
name|'self'
op|'.'
name|'make_html_items'
op|'('
name|'field'
op|'.'
name|'items'
op|')'
newline|'\n'
nl|'\n'
name|'if'
name|'field'
op|'.'
name|'name'
op|':'
newline|'\n'
indent|'            '
name|'print'
string|'"</td></tr></table>"'
newline|'\n'
nl|'\n'
DECL|member|html_source_quote
dedent|''
dedent|''
name|'def'
name|'html_source_quote'
op|'('
name|'self'
op|','
name|'line'
op|','
name|'block_name'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'result'
op|'='
string|'""'
newline|'\n'
name|'while'
name|'line'
op|':'
newline|'\n'
indent|'            '
name|'m'
op|'='
name|'re_source_crossref'
op|'.'
name|'match'
op|'('
name|'line'
op|')'
newline|'\n'
name|'if'
name|'m'
op|':'
newline|'\n'
indent|'                '
name|'name'
op|'='
name|'m'
op|'.'
name|'group'
op|'('
number|'2'
op|')'
newline|'\n'
name|'prefix'
op|'='
name|'html_quote'
op|'('
name|'m'
op|'.'
name|'group'
op|'('
number|'1'
op|')'
op|')'
newline|'\n'
name|'length'
op|'='
name|'len'
op|'('
name|'m'
op|'.'
name|'group'
op|'('
number|'0'
op|')'
op|')'
newline|'\n'
nl|'\n'
name|'if'
name|'name'
op|'=='
name|'block_name'
op|':'
newline|'\n'
comment|'# this is the current block name, if any'
nl|'\n'
indent|'                    '
name|'result'
op|'='
name|'result'
op|'+'
name|'prefix'
op|'+'
string|"'<b>'"
op|'+'
name|'name'
op|'+'
string|"'</b>'"
newline|'\n'
dedent|''
name|'elif'
name|'re_source_keywords'
op|'.'
name|'match'
op|'('
name|'name'
op|')'
op|':'
newline|'\n'
comment|'# this is a C keyword'
nl|'\n'
indent|'                    '
name|'result'
op|'='
op|'('
name|'result'
op|'+'
name|'prefix'
nl|'\n'
op|'+'
name|'keyword_prefix'
op|'+'
name|'name'
op|'+'
name|'keyword_suffix'
op|')'
newline|'\n'
dedent|''
name|'elif'
name|'name'
name|'in'
name|'self'
op|'.'
name|'identifiers'
op|':'
newline|'\n'
comment|'# this is a known identifier'
nl|'\n'
indent|'                    '
name|'block'
op|'='
name|'self'
op|'.'
name|'identifiers'
op|'['
name|'name'
op|']'
newline|'\n'
name|'id'
op|'='
name|'block'
op|'.'
name|'name'
newline|'\n'
nl|'\n'
comment|'# link to a field ID if possible'
nl|'\n'
name|'for'
name|'markup'
name|'in'
name|'block'
op|'.'
name|'markups'
op|':'
newline|'\n'
indent|'                        '
name|'if'
name|'markup'
op|'.'
name|'tag'
op|'=='
string|"'values'"
op|':'
newline|'\n'
indent|'                            '
name|'for'
name|'field'
name|'in'
name|'markup'
op|'.'
name|'fields'
op|':'
newline|'\n'
indent|'                                '
name|'if'
name|'field'
op|'.'
name|'name'
op|':'
newline|'\n'
indent|'                                    '
name|'id'
op|'='
name|'name'
newline|'\n'
nl|'\n'
dedent|''
dedent|''
dedent|''
dedent|''
name|'result'
op|'='
op|'('
name|'result'
op|'+'
name|'prefix'
nl|'\n'
op|'+'
string|'\'<a href="\''
nl|'\n'
op|'+'
name|'self'
op|'.'
name|'make_block_url'
op|'('
name|'block'
op|','
name|'id'
op|')'
nl|'\n'
op|'+'
string|'\'">\''
op|'+'
name|'name'
op|'+'
string|"'</a>'"
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'                    '
name|'result'
op|'='
name|'result'
op|'+'
name|'html_quote'
op|'('
name|'line'
op|'['
op|':'
name|'length'
op|']'
op|')'
newline|'\n'
nl|'\n'
dedent|''
name|'line'
op|'='
name|'line'
op|'['
name|'length'
op|':'
op|']'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'                '
name|'result'
op|'='
name|'result'
op|'+'
name|'html_quote'
op|'('
name|'line'
op|')'
newline|'\n'
name|'line'
op|'='
op|'['
op|']'
newline|'\n'
nl|'\n'
dedent|''
dedent|''
name|'return'
name|'result'
newline|'\n'
nl|'\n'
DECL|member|print_html_field_list
dedent|''
name|'def'
name|'print_html_field_list'
op|'('
name|'self'
op|','
name|'fields'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'print'
string|'\'<table class="fields">\''
newline|'\n'
name|'for'
name|'field'
name|'in'
name|'fields'
op|':'
newline|'\n'
indent|'            '
name|'print'
op|'('
string|'\'<tr><td class="val" id="\''
op|'+'
name|'field'
op|'.'
name|'name'
op|'+'
string|'\'">\''
nl|'\n'
op|'+'
name|'field'
op|'.'
name|'name'
nl|'\n'
op|'+'
string|'\'</td><td class="desc">\''
op|')'
newline|'\n'
name|'self'
op|'.'
name|'print_html_items'
op|'('
name|'field'
op|'.'
name|'items'
op|')'
newline|'\n'
name|'print'
string|'"</td></tr>"'
newline|'\n'
dedent|''
name|'print'
string|'"</table>"'
newline|'\n'
nl|'\n'
DECL|member|print_html_markup
dedent|''
name|'def'
name|'print_html_markup'
op|'('
name|'self'
op|','
name|'markup'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'table_fields'
op|'='
op|'['
op|']'
newline|'\n'
name|'for'
name|'field'
name|'in'
name|'markup'
op|'.'
name|'fields'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'field'
op|'.'
name|'name'
op|':'
newline|'\n'
comment|'# We begin a new series of field or value definitions.  We'
nl|'\n'
comment|"# record them in the `table_fields' list before outputting"
nl|'\n'
comment|'# all of them as a single table.'
nl|'\n'
indent|'                '
name|'table_fields'
op|'.'
name|'append'
op|'('
name|'field'
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'                '
name|'if'
name|'table_fields'
op|':'
newline|'\n'
indent|'                    '
name|'self'
op|'.'
name|'print_html_field_list'
op|'('
name|'table_fields'
op|')'
newline|'\n'
name|'table_fields'
op|'='
op|'['
op|']'
newline|'\n'
nl|'\n'
dedent|''
name|'self'
op|'.'
name|'print_html_items'
op|'('
name|'field'
op|'.'
name|'items'
op|')'
newline|'\n'
nl|'\n'
dedent|''
dedent|''
name|'if'
name|'table_fields'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'print_html_field_list'
op|'('
name|'table_fields'
op|')'
newline|'\n'
nl|'\n'
comment|'#'
nl|'\n'
comment|'# formatting the index'
nl|'\n'
comment|'#'
nl|'\n'
DECL|member|index_enter
dedent|''
dedent|''
name|'def'
name|'index_enter'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'print'
name|'self'
op|'.'
name|'html_index_header'
newline|'\n'
name|'self'
op|'.'
name|'index_items'
op|'='
op|'{'
op|'}'
newline|'\n'
nl|'\n'
DECL|member|index_name_enter
dedent|''
name|'def'
name|'index_name_enter'
op|'('
name|'self'
op|','
name|'name'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'block'
op|'='
name|'self'
op|'.'
name|'identifiers'
op|'['
name|'name'
op|']'
newline|'\n'
name|'url'
op|'='
name|'self'
op|'.'
name|'make_block_url'
op|'('
name|'block'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'index_items'
op|'['
name|'name'
op|']'
op|'='
name|'url'
newline|'\n'
nl|'\n'
DECL|member|index_exit
dedent|''
name|'def'
name|'index_exit'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
comment|"# `block_index' already contains the sorted list of index names"
nl|'\n'
indent|'        '
name|'count'
op|'='
name|'len'
op|'('
name|'self'
op|'.'
name|'block_index'
op|')'
newline|'\n'
name|'rows'
op|'='
op|'('
name|'count'
op|'+'
name|'self'
op|'.'
name|'columns'
op|'-'
number|'1'
op|')'
op|'//'
name|'self'
op|'.'
name|'columns'
newline|'\n'
nl|'\n'
name|'print'
string|'\'<table class="index">\''
newline|'\n'
name|'for'
name|'r'
name|'in'
name|'range'
op|'('
name|'rows'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'line'
op|'='
string|'"<tr>"'
newline|'\n'
name|'for'
name|'c'
name|'in'
name|'range'
op|'('
name|'self'
op|'.'
name|'columns'
op|')'
op|':'
newline|'\n'
indent|'                '
name|'i'
op|'='
name|'r'
op|'+'
name|'c'
op|'*'
name|'rows'
newline|'\n'
name|'if'
name|'i'
op|'<'
name|'count'
op|':'
newline|'\n'
indent|'                    '
name|'bname'
op|'='
name|'self'
op|'.'
name|'block_index'
op|'['
name|'r'
op|'+'
name|'c'
op|'*'
name|'rows'
op|']'
newline|'\n'
name|'url'
op|'='
name|'self'
op|'.'
name|'index_items'
op|'['
name|'bname'
op|']'
newline|'\n'
name|'line'
op|'='
op|'('
name|'line'
op|'+'
string|'\'<td><a href="\''
op|'+'
name|'url'
op|'+'
string|'\'">\''
nl|'\n'
op|'+'
name|'bname'
op|'+'
string|"'</a></td>'"
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'                    '
name|'line'
op|'='
name|'line'
op|'+'
string|"'<td></td>'"
newline|'\n'
dedent|''
dedent|''
name|'line'
op|'='
name|'line'
op|'+'
string|'"</tr>"'
newline|'\n'
name|'print'
name|'line'
newline|'\n'
nl|'\n'
dedent|''
name|'print'
string|'"</table>"'
newline|'\n'
nl|'\n'
name|'print'
op|'('
name|'index_footer_start'
nl|'\n'
op|'+'
name|'self'
op|'.'
name|'file_prefix'
op|'+'
string|'"toc.html"'
nl|'\n'
op|'+'
name|'index_footer_end'
op|')'
newline|'\n'
nl|'\n'
name|'print'
name|'self'
op|'.'
name|'html_footer'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'index_items'
op|'='
op|'{'
op|'}'
newline|'\n'
nl|'\n'
DECL|member|index_dump
dedent|''
name|'def'
name|'index_dump'
op|'('
name|'self'
op|','
name|'index_filename'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'index_filename'
op|'=='
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'index_filename'
op|'='
name|'self'
op|'.'
name|'file_prefix'
op|'+'
string|'"index.html"'
newline|'\n'
nl|'\n'
dedent|''
name|'Formatter'
op|'.'
name|'index_dump'
op|'('
name|'self'
op|','
name|'index_filename'
op|')'
newline|'\n'
nl|'\n'
comment|'#'
nl|'\n'
comment|'# formatting the table of contents'
nl|'\n'
comment|'#'
nl|'\n'
DECL|member|toc_enter
dedent|''
name|'def'
name|'toc_enter'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'print'
name|'self'
op|'.'
name|'html_toc_header'
newline|'\n'
name|'print'
string|'"<h1>Table of Contents</h1>"'
newline|'\n'
nl|'\n'
DECL|member|toc_chapter_enter
dedent|''
name|'def'
name|'toc_chapter_enter'
op|'('
name|'self'
op|','
name|'chapter'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'print'
name|'chapter_header'
op|'+'
name|'string'
op|'.'
name|'join'
op|'('
name|'chapter'
op|'.'
name|'title'
op|')'
op|'+'
name|'chapter_inter'
newline|'\n'
name|'print'
string|'\'<table class="toc">\''
newline|'\n'
nl|'\n'
DECL|member|toc_section_enter
dedent|''
name|'def'
name|'toc_section_enter'
op|'('
name|'self'
op|','
name|'section'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'print'
op|'('
string|'\'<tr><td class="link">\''
nl|'\n'
op|'+'
string|'\'<a href="\''
op|'+'
name|'self'
op|'.'
name|'make_section_url'
op|'('
name|'section'
op|')'
op|'+'
string|'\'">\''
nl|'\n'
op|'+'
name|'section'
op|'.'
name|'title'
op|'+'
string|'\'</a></td><td class="desc">\''
op|')'
newline|'\n'
name|'print'
name|'self'
op|'.'
name|'make_html_para'
op|'('
name|'section'
op|'.'
name|'abstract'
op|')'
newline|'\n'
nl|'\n'
DECL|member|toc_section_exit
dedent|''
name|'def'
name|'toc_section_exit'
op|'('
name|'self'
op|','
name|'section'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'print'
string|'"</td></tr>"'
newline|'\n'
nl|'\n'
DECL|member|toc_chapter_exit
dedent|''
name|'def'
name|'toc_chapter_exit'
op|'('
name|'self'
op|','
name|'chapter'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'print'
string|'"</table>"'
newline|'\n'
name|'print'
name|'chapter_footer'
newline|'\n'
nl|'\n'
DECL|member|toc_index
dedent|''
name|'def'
name|'toc_index'
op|'('
name|'self'
op|','
name|'index_filename'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'print'
op|'('
name|'chapter_header'
nl|'\n'
op|'+'
string|'\'<a href="\''
op|'+'
name|'index_filename'
op|'+'
string|'\'">Global Index</a>\''
nl|'\n'
op|'+'
name|'chapter_inter'
op|'+'
name|'chapter_footer'
op|')'
newline|'\n'
nl|'\n'
DECL|member|toc_exit
dedent|''
name|'def'
name|'toc_exit'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'print'
op|'('
name|'toc_footer_start'
nl|'\n'
op|'+'
name|'self'
op|'.'
name|'file_prefix'
op|'+'
string|'"index.html"'
nl|'\n'
op|'+'
name|'toc_footer_end'
op|')'
newline|'\n'
nl|'\n'
name|'print'
name|'self'
op|'.'
name|'html_footer'
newline|'\n'
nl|'\n'
DECL|member|toc_dump
dedent|''
name|'def'
name|'toc_dump'
op|'('
name|'self'
op|','
name|'toc_filename'
op|'='
name|'None'
op|','
name|'index_filename'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'toc_filename'
op|'=='
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'toc_filename'
op|'='
name|'self'
op|'.'
name|'file_prefix'
op|'+'
string|'"toc.html"'
newline|'\n'
nl|'\n'
dedent|''
name|'if'
name|'index_filename'
op|'=='
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'index_filename'
op|'='
name|'self'
op|'.'
name|'file_prefix'
op|'+'
string|'"index.html"'
newline|'\n'
nl|'\n'
dedent|''
name|'Formatter'
op|'.'
name|'toc_dump'
op|'('
name|'self'
op|','
name|'toc_filename'
op|','
name|'index_filename'
op|')'
newline|'\n'
nl|'\n'
comment|'#'
nl|'\n'
comment|'# formatting sections'
nl|'\n'
comment|'#'
nl|'\n'
DECL|member|section_enter
dedent|''
name|'def'
name|'section_enter'
op|'('
name|'self'
op|','
name|'section'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'print'
name|'self'
op|'.'
name|'html_header'
newline|'\n'
nl|'\n'
name|'print'
name|'section_title_header'
op|'+'
name|'section'
op|'.'
name|'title'
op|'+'
name|'section_title_footer'
newline|'\n'
nl|'\n'
name|'maxwidth'
op|'='
number|'0'
newline|'\n'
name|'for'
name|'b'
name|'in'
name|'section'
op|'.'
name|'blocks'
op|'.'
name|'values'
op|'('
op|')'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'len'
op|'('
name|'b'
op|'.'
name|'name'
op|')'
op|'>'
name|'maxwidth'
op|':'
newline|'\n'
indent|'                '
name|'maxwidth'
op|'='
name|'len'
op|'('
name|'b'
op|'.'
name|'name'
op|')'
newline|'\n'
nl|'\n'
dedent|''
dedent|''
name|'width'
op|'='
number|'70'
comment|'# XXX magic number'
newline|'\n'
name|'if'
name|'maxwidth'
op|'>'
number|'0'
op|':'
newline|'\n'
comment|'# print section synopsis'
nl|'\n'
indent|'            '
name|'print'
name|'section_synopsis_header'
newline|'\n'
name|'print'
string|'\'<table class="synopsis">\''
newline|'\n'
nl|'\n'
name|'columns'
op|'='
name|'width'
op|'//'
name|'maxwidth'
newline|'\n'
name|'if'
name|'columns'
op|'<'
number|'1'
op|':'
newline|'\n'
indent|'                '
name|'columns'
op|'='
number|'1'
newline|'\n'
nl|'\n'
dedent|''
name|'count'
op|'='
name|'len'
op|'('
name|'section'
op|'.'
name|'block_names'
op|')'
newline|'\n'
comment|"# don't handle last entry if it is empty"
nl|'\n'
name|'if'
name|'section'
op|'.'
name|'block_names'
op|'['
op|'-'
number|'1'
op|']'
op|'=='
string|'"/empty/"'
op|':'
newline|'\n'
indent|'                '
name|'count'
op|'-='
number|'1'
newline|'\n'
dedent|''
name|'rows'
op|'='
op|'('
name|'count'
op|'+'
name|'columns'
op|'-'
number|'1'
op|')'
op|'//'
name|'columns'
newline|'\n'
nl|'\n'
name|'for'
name|'r'
name|'in'
name|'range'
op|'('
name|'rows'
op|')'
op|':'
newline|'\n'
indent|'                '
name|'line'
op|'='
string|'"<tr>"'
newline|'\n'
name|'for'
name|'c'
name|'in'
name|'range'
op|'('
name|'columns'
op|')'
op|':'
newline|'\n'
indent|'                    '
name|'i'
op|'='
name|'r'
op|'+'
name|'c'
op|'*'
name|'rows'
newline|'\n'
name|'line'
op|'='
name|'line'
op|'+'
string|"'<td>'"
newline|'\n'
name|'if'
name|'i'
op|'<'
name|'count'
op|':'
newline|'\n'
indent|'                        '
name|'name'
op|'='
name|'section'
op|'.'
name|'block_names'
op|'['
name|'i'
op|']'
newline|'\n'
name|'if'
name|'name'
op|'=='
string|'"/empty/"'
op|':'
newline|'\n'
comment|'# it can happen that a complete row is empty, and'
nl|'\n'
comment|"# without a proper `filler' the browser might"
nl|'\n'
comment|'# collapse the row to a much smaller height (or'
nl|'\n'
comment|'# even omit it completely)'
nl|'\n'
indent|'                            '
name|'line'
op|'='
name|'line'
op|'+'
string|'"&nbsp;"'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'                            '
name|'line'
op|'='
op|'('
name|'line'
op|'+'
string|'\'<a href="#\''
op|'+'
name|'name'
op|'+'
string|'\'">\''
nl|'\n'
op|'+'
name|'name'
op|'+'
string|"'</a>'"
op|')'
newline|'\n'
nl|'\n'
dedent|''
dedent|''
name|'line'
op|'='
name|'line'
op|'+'
string|"'</td>'"
newline|'\n'
dedent|''
name|'line'
op|'='
name|'line'
op|'+'
string|'"</tr>"'
newline|'\n'
name|'print'
name|'line'
newline|'\n'
nl|'\n'
dedent|''
name|'print'
string|'"</table>"'
newline|'\n'
name|'print'
name|'section_synopsis_footer'
newline|'\n'
nl|'\n'
dedent|''
name|'print'
name|'description_header'
newline|'\n'
name|'print'
name|'self'
op|'.'
name|'make_html_items'
op|'('
name|'section'
op|'.'
name|'description'
op|')'
newline|'\n'
name|'print'
name|'description_footer'
newline|'\n'
nl|'\n'
DECL|member|block_enter
dedent|''
name|'def'
name|'block_enter'
op|'('
name|'self'
op|','
name|'block'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'print'
name|'block_header'
newline|'\n'
nl|'\n'
comment|'# place html anchor if needed'
nl|'\n'
name|'if'
name|'block'
op|'.'
name|'name'
op|':'
newline|'\n'
indent|'            '
name|'print'
op|'('
string|'\'<h3 id="\''
op|'+'
name|'block'
op|'.'
name|'name'
op|'+'
string|'\'">\''
op|'+'
name|'block'
op|'.'
name|'name'
op|'+'
string|"'</h3>'"
op|')'
newline|'\n'
nl|'\n'
comment|'# dump the block C source lines now'
nl|'\n'
dedent|''
name|'if'
name|'block'
op|'.'
name|'code'
op|':'
newline|'\n'
indent|'            '
name|'header'
op|'='
string|"''"
newline|'\n'
name|'for'
name|'f'
name|'in'
name|'self'
op|'.'
name|'headers'
op|'.'
name|'keys'
op|'('
op|')'
op|':'
newline|'\n'
indent|'                '
name|'if'
name|'block'
op|'.'
name|'source'
op|'.'
name|'filename'
op|'.'
name|'find'
op|'('
name|'f'
op|')'
op|'>='
number|'0'
op|':'
newline|'\n'
indent|'                    '
name|'header'
op|'='
name|'self'
op|'.'
name|'headers'
op|'['
name|'f'
op|']'
op|'+'
string|"' ('"
op|'+'
name|'f'
op|'+'
string|"')'"
newline|'\n'
name|'break'
newline|'\n'
nl|'\n'
comment|'#           if not header:'
nl|'\n'
comment|'#               sys.stderr.write('
nl|'\n'
comment|'#                 "WARNING: No header macro for"'
nl|'\n'
comment|'#                 + " \'" + block.source.filename + "\'.\\n" )'
nl|'\n'
nl|'\n'
dedent|''
dedent|''
name|'if'
name|'header'
op|':'
newline|'\n'
indent|'                '
name|'print'
op|'('
name|'header_location_header'
nl|'\n'
op|'+'
string|"'Defined in '"
op|'+'
name|'header'
op|'+'
string|"'.'"
nl|'\n'
op|'+'
name|'header_location_footer'
op|')'
newline|'\n'
nl|'\n'
dedent|''
name|'print'
name|'source_header'
newline|'\n'
name|'for'
name|'l'
name|'in'
name|'block'
op|'.'
name|'code'
op|':'
newline|'\n'
indent|'                '
name|'print'
name|'self'
op|'.'
name|'html_source_quote'
op|'('
name|'l'
op|','
name|'block'
op|'.'
name|'name'
op|')'
newline|'\n'
dedent|''
name|'print'
name|'source_footer'
newline|'\n'
nl|'\n'
DECL|member|markup_enter
dedent|''
dedent|''
name|'def'
name|'markup_enter'
op|'('
name|'self'
op|','
name|'markup'
op|','
name|'block'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'markup'
op|'.'
name|'tag'
op|'=='
string|'"description"'
op|':'
newline|'\n'
indent|'            '
name|'print'
name|'description_header'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'print'
name|'marker_header'
op|'+'
name|'markup'
op|'.'
name|'tag'
op|'+'
name|'marker_inter'
newline|'\n'
nl|'\n'
dedent|''
name|'self'
op|'.'
name|'print_html_markup'
op|'('
name|'markup'
op|')'
newline|'\n'
nl|'\n'
DECL|member|markup_exit
dedent|''
name|'def'
name|'markup_exit'
op|'('
name|'self'
op|','
name|'markup'
op|','
name|'block'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'markup'
op|'.'
name|'tag'
op|'=='
string|'"description"'
op|':'
newline|'\n'
indent|'            '
name|'print'
name|'description_footer'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'print'
name|'marker_footer'
newline|'\n'
nl|'\n'
DECL|member|block_exit
dedent|''
dedent|''
name|'def'
name|'block_exit'
op|'('
name|'self'
op|','
name|'block'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'print'
op|'('
name|'block_footer_start'
op|'+'
name|'self'
op|'.'
name|'file_prefix'
op|'+'
string|'"index.html"'
nl|'\n'
op|'+'
name|'block_footer_middle'
op|'+'
name|'self'
op|'.'
name|'file_prefix'
op|'+'
string|'"toc.html"'
nl|'\n'
op|'+'
name|'block_footer_end'
op|')'
newline|'\n'
nl|'\n'
DECL|member|section_exit
dedent|''
name|'def'
name|'section_exit'
op|'('
name|'self'
op|','
name|'section'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'print'
name|'html_footer'
newline|'\n'
nl|'\n'
DECL|member|section_dump_all
dedent|''
name|'def'
name|'section_dump_all'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'for'
name|'section'
name|'in'
name|'self'
op|'.'
name|'sections'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'section_dump'
op|'('
name|'section'
op|','
nl|'\n'
name|'self'
op|'.'
name|'file_prefix'
op|'+'
name|'section'
op|'.'
name|'name'
op|'+'
string|"'.html'"
op|')'
newline|'\n'
nl|'\n'
comment|'# eof'
nl|'\n'
dedent|''
dedent|''
dedent|''
endmarker|''
end_unit
