begin_unit
begin_comment
comment|/*  * Copyright (C) 1998-2004  David Turner and Werner Lemberg  * Copyright (C) 2006  Behdad Esfahbod  *  * This is part of HarfBuzz, an OpenType Layout engine library.  *  * Permission is hereby granted, without written agreement and without  * license or royalty fees, to use, copy, modify, and distribute this  * software and its documentation for any purpose, provided that the  * above copyright notice and the following two paragraphs appear in  * all copies of this software.  *  * IN NO EVENT SHALL THE COPYRIGHT HOLDER BE LIABLE TO ANY PARTY FOR  * DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES  * ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN  * IF THE COPYRIGHT HOLDER HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH  * DAMAGE.  *  * THE COPYRIGHT HOLDER SPECIFICALLY DISCLAIMS ANY WARRANTIES, INCLUDING,  * BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND  * FITNESS FOR A PARTICULAR PURPOSE.  THE SOFTWARE PROVIDED HEREUNDER IS  * ON AN "AS IS" BASIS, AND THE COPYRIGHT HOLDER HAS NO OBLIGATION TO  * PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS.  */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|HARFBUZZ_STREAM_PRIVATE_H
end_ifndef
begin_define
DECL|macro|HARFBUZZ_STREAM_PRIVATE_H
define|#
directive|define
name|HARFBUZZ_STREAM_PRIVATE_H
end_define
begin_include
include|#
directive|include
file|"harfbuzz-impl.h"
end_include
begin_include
include|#
directive|include
file|"harfbuzz-stream.h"
end_include
begin_function_decl
name|HB_BEGIN_HEADER
name|HB_INTERNAL
name|void
name|_hb_close_stream
parameter_list|(
name|HB_Stream
name|stream
parameter_list|)
function_decl|;
end_function_decl
begin_function_decl
name|HB_INTERNAL
name|HB_Int
name|_hb_stream_pos
parameter_list|(
name|HB_Stream
name|stream
parameter_list|)
function_decl|;
end_function_decl
begin_function_decl
name|HB_INTERNAL
name|HB_Error
name|_hb_stream_seek
parameter_list|(
name|HB_Stream
name|stream
parameter_list|,
name|HB_UInt
name|pos
parameter_list|)
function_decl|;
end_function_decl
begin_function_decl
name|HB_INTERNAL
name|HB_Error
name|_hb_stream_frame_enter
parameter_list|(
name|HB_Stream
name|stream
parameter_list|,
name|HB_UInt
name|size
parameter_list|)
function_decl|;
end_function_decl
begin_function_decl
name|HB_INTERNAL
name|void
name|_hb_stream_frame_exit
parameter_list|(
name|HB_Stream
name|stream
parameter_list|)
function_decl|;
end_function_decl
begin_comment
comment|/* convenience macros */
end_comment
begin_define
DECL|macro|SET_ERR
define|#
directive|define
name|SET_ERR
parameter_list|(
name|c
parameter_list|)
value|( (error = (c)) != 0 )
end_define
begin_define
DECL|macro|GOTO_Table
define|#
directive|define
name|GOTO_Table
parameter_list|(
name|tag
parameter_list|)
value|(0)
end_define
begin_define
DECL|macro|FILE_Pos
define|#
directive|define
name|FILE_Pos
parameter_list|()
value|_hb_stream_pos( stream )
end_define
begin_define
DECL|macro|FILE_Seek
define|#
directive|define
name|FILE_Seek
parameter_list|(
name|pos
parameter_list|)
value|SET_ERR( _hb_stream_seek( stream, pos ) )
end_define
begin_define
DECL|macro|ACCESS_Frame
define|#
directive|define
name|ACCESS_Frame
parameter_list|(
name|size
parameter_list|)
value|SET_ERR( _hb_stream_frame_enter( stream, size ) )
end_define
begin_define
DECL|macro|FORGET_Frame
define|#
directive|define
name|FORGET_Frame
parameter_list|()
value|_hb_stream_frame_exit( stream )
end_define
begin_define
DECL|macro|GET_Byte
define|#
directive|define
name|GET_Byte
parameter_list|()
value|(*stream->cursor++)
end_define
begin_define
DECL|macro|GET_Short
define|#
directive|define
name|GET_Short
parameter_list|()
value|(stream->cursor += 2, (HB_Short)( \ 				(*(((HB_Byte*)stream->cursor)-2)<< 8) | \ 				 *(((HB_Byte*)stream->cursor)-1) \ 			 ))
end_define
begin_define
DECL|macro|GET_Long
define|#
directive|define
name|GET_Long
parameter_list|()
value|(stream->cursor += 4, (HB_Int)( \ 				(*(((HB_Byte*)stream->cursor)-4)<< 24) | \ 				(*(((HB_Byte*)stream->cursor)-3)<< 16) | \ 				(*(((HB_Byte*)stream->cursor)-2)<< 8) | \ 				 *(((HB_Byte*)stream->cursor)-1) \ 			 ))
end_define
begin_define
DECL|macro|GET_Char
define|#
directive|define
name|GET_Char
parameter_list|()
value|((HB_Char)GET_Byte())
end_define
begin_define
DECL|macro|GET_UShort
define|#
directive|define
name|GET_UShort
parameter_list|()
value|((HB_UShort)GET_Short())
end_define
begin_define
DECL|macro|GET_ULong
define|#
directive|define
name|GET_ULong
parameter_list|()
value|((HB_UInt)GET_Long())
end_define
begin_define
DECL|macro|GET_Tag4
define|#
directive|define
name|GET_Tag4
parameter_list|()
value|GET_ULong()
end_define
begin_macro
name|HB_END_HEADER
end_macro
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* HARFBUZZ_STREAM_PRIVATE_H */
end_comment
end_unit
