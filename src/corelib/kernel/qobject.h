begin_unit
begin_comment
comment|/**************************************************************************** ** ** Copyright (C) 2015 The Qt Company Ltd. ** Copyright (C) 2013 Olivier Goffart<ogoffart@woboq.com> ** Contact: http://www.qt.io/licensing/ ** ** This file is part of the QtCore module of the Qt Toolkit. ** ** $QT_BEGIN_LICENSE:LGPL21$ ** Commercial License Usage ** Licensees holding valid commercial Qt licenses may use this file in ** accordance with the commercial license agreement provided with the ** Software or, alternatively, in accordance with the terms contained in ** a written agreement between you and The Qt Company. For licensing terms ** and conditions see http://www.qt.io/terms-conditions. For further ** information use the contact form at http://www.qt.io/contact-us. ** ** GNU Lesser General Public License Usage ** Alternatively, this file may be used under the terms of the GNU Lesser ** General Public License version 2.1 or version 3 as published by the Free ** Software Foundation and appearing in the file LICENSE.LGPLv21 and ** LICENSE.LGPLv3 included in the packaging of this file. Please review the ** following information to ensure the GNU Lesser General Public License ** requirements will be met: https://www.gnu.org/licenses/lgpl.html and ** http://www.gnu.org/licenses/old-licenses/lgpl-2.1.html. ** ** As a special exception, The Qt Company gives you certain additional ** rights. These rights are described in The Qt Company LGPL Exception ** version 1.1, included in the file LGPL_EXCEPTION.txt in this package. ** ** $QT_END_LICENSE$ ** ****************************************************************************/
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|QOBJECT_H
end_ifndef
begin_define
DECL|macro|QOBJECT_H
define|#
directive|define
name|QOBJECT_H
end_define
begin_ifndef
ifndef|#
directive|ifndef
name|QT_NO_QOBJECT
end_ifndef
begin_include
include|#
directive|include
file|<QtCore/qobjectdefs.h>
end_include
begin_include
include|#
directive|include
file|<QtCore/qstring.h>
end_include
begin_include
include|#
directive|include
file|<QtCore/qbytearray.h>
end_include
begin_include
include|#
directive|include
file|<QtCore/qlist.h>
end_include
begin_ifdef
ifdef|#
directive|ifdef
name|QT_INCLUDE_COMPAT
end_ifdef
begin_include
include|#
directive|include
file|<QtCore/qcoreevent.h>
end_include
begin_endif
endif|#
directive|endif
end_endif
begin_include
include|#
directive|include
file|<QtCore/qscopedpointer.h>
end_include
begin_include
include|#
directive|include
file|<QtCore/qmetatype.h>
end_include
begin_include
include|#
directive|include
file|<QtCore/qobject_impl.h>
end_include
begin_decl_stmt
name|QT_BEGIN_NAMESPACE
DECL|variable|QEvent
name|class
name|QEvent
decl_stmt|;
end_decl_stmt
begin_decl_stmt
DECL|variable|QTimerEvent
name|class
name|QTimerEvent
decl_stmt|;
end_decl_stmt
begin_decl_stmt
DECL|variable|QChildEvent
name|class
name|QChildEvent
decl_stmt|;
end_decl_stmt
begin_struct_decl
struct_decl|struct
name|QMetaObject
struct_decl|;
end_struct_decl
begin_decl_stmt
DECL|variable|QVariant
name|class
name|QVariant
decl_stmt|;
end_decl_stmt
begin_decl_stmt
DECL|variable|QObjectPrivate
name|class
name|QObjectPrivate
decl_stmt|;
end_decl_stmt
begin_decl_stmt
DECL|variable|QObject
name|class
name|QObject
decl_stmt|;
end_decl_stmt
begin_decl_stmt
DECL|variable|QThread
name|class
name|QThread
decl_stmt|;
end_decl_stmt
begin_decl_stmt
DECL|variable|QWidget
name|class
name|QWidget
decl_stmt|;
end_decl_stmt
begin_ifndef
ifndef|#
directive|ifndef
name|QT_NO_REGEXP
end_ifndef
begin_decl_stmt
DECL|variable|QRegExp
name|class
name|QRegExp
decl_stmt|;
end_decl_stmt
begin_endif
endif|#
directive|endif
end_endif
begin_ifndef
ifndef|#
directive|ifndef
name|QT_NO_REGULAREXPRESSION
end_ifndef
begin_decl_stmt
DECL|variable|QRegularExpression
name|class
name|QRegularExpression
decl_stmt|;
end_decl_stmt
begin_endif
endif|#
directive|endif
end_endif
begin_ifndef
ifndef|#
directive|ifndef
name|QT_NO_USERDATA
end_ifndef
begin_decl_stmt
DECL|variable|QObjectUserData
name|class
name|QObjectUserData
decl_stmt|;
end_decl_stmt
begin_endif
endif|#
directive|endif
end_endif
begin_struct_decl
struct_decl|struct
name|QDynamicMetaObjectData
struct_decl|;
end_struct_decl
begin_typedef
DECL|typedef|QObjectList
typedef|typedef
name|QList
operator|<
name|QObject
operator|*
operator|>
name|QObjectList
expr_stmt|;
end_typedef
begin_decl_stmt
name|Q_CORE_EXPORT
name|void
name|qt_qFindChildren_helper
argument_list|(
specifier|const
name|QObject
operator|*
name|parent
argument_list|,
specifier|const
name|QString
operator|&
name|name
argument_list|,
specifier|const
name|QMetaObject
operator|&
name|mo
argument_list|,
name|QList
operator|<
name|void
operator|*
operator|>
operator|*
name|list
argument_list|,
name|Qt
operator|::
name|FindChildOptions
name|options
argument_list|)
decl_stmt|;
end_decl_stmt
begin_decl_stmt
name|Q_CORE_EXPORT
name|void
name|qt_qFindChildren_helper
argument_list|(
specifier|const
name|QObject
operator|*
name|parent
argument_list|,
specifier|const
name|QRegExp
operator|&
name|re
argument_list|,
specifier|const
name|QMetaObject
operator|&
name|mo
argument_list|,
name|QList
operator|<
name|void
operator|*
operator|>
operator|*
name|list
argument_list|,
name|Qt
operator|::
name|FindChildOptions
name|options
argument_list|)
decl_stmt|;
end_decl_stmt
begin_decl_stmt
name|Q_CORE_EXPORT
name|void
name|qt_qFindChildren_helper
argument_list|(
specifier|const
name|QObject
operator|*
name|parent
argument_list|,
specifier|const
name|QRegularExpression
operator|&
name|re
argument_list|,
specifier|const
name|QMetaObject
operator|&
name|mo
argument_list|,
name|QList
operator|<
name|void
operator|*
operator|>
operator|*
name|list
argument_list|,
name|Qt
operator|::
name|FindChildOptions
name|options
argument_list|)
decl_stmt|;
end_decl_stmt
begin_decl_stmt
name|Q_CORE_EXPORT
name|QObject
modifier|*
name|qt_qFindChild_helper
argument_list|(
specifier|const
name|QObject
operator|*
name|parent
argument_list|,
specifier|const
name|QString
operator|&
name|name
argument_list|,
specifier|const
name|QMetaObject
operator|&
name|mo
argument_list|,
name|Qt
operator|::
name|FindChildOptions
name|options
argument_list|)
decl_stmt|;
end_decl_stmt
begin_decl_stmt
name|class
name|Q_CORE_EXPORT
name|QObjectData
block|{
name|public
label|:
name|virtual
operator|~
name|QObjectData
argument_list|()
operator|=
literal|0
expr_stmt|;
name|QObject
modifier|*
name|q_ptr
decl_stmt|;
name|QObject
modifier|*
name|parent
decl_stmt|;
name|QObjectList
name|children
decl_stmt|;
name|uint
name|isWidget
range|:
literal|1
decl_stmt|;
name|uint
name|blockSig
range|:
literal|1
decl_stmt|;
name|uint
name|wasDeleted
range|:
literal|1
decl_stmt|;
name|uint
name|isDeletingChildren
range|:
literal|1
decl_stmt|;
name|uint
name|sendChildEvents
range|:
literal|1
decl_stmt|;
name|uint
name|receiveChildEvents
range|:
literal|1
decl_stmt|;
name|uint
name|isWindow
range|:
literal|1
decl_stmt|;
comment|//for QWindow
name|uint
name|unused
range|:
literal|25
decl_stmt|;
name|int
name|postedEvents
decl_stmt|;
name|QDynamicMetaObjectData
modifier|*
name|metaObject
decl_stmt|;
name|QMetaObject
operator|*
name|dynamicMetaObject
argument_list|()
specifier|const
expr_stmt|;
block|}
end_decl_stmt
begin_empty_stmt
empty_stmt|;
end_empty_stmt
begin_decl_stmt
name|class
name|Q_CORE_EXPORT
name|QObject
block|{
name|Q_OBJECT
name|Q_PROPERTY
argument_list|(
name|QString
name|objectName
name|READ
name|objectName
name|WRITE
name|setObjectName
name|NOTIFY
name|objectNameChanged
argument_list|)
name|Q_DECLARE_PRIVATE
argument_list|(
name|QObject
argument_list|)
name|public
range|:
name|Q_INVOKABLE
name|explicit
name|QObject
argument_list|(
name|QObject
operator|*
name|parent
operator|=
name|Q_NULLPTR
argument_list|)
decl_stmt|;
name|virtual
operator|~
name|QObject
argument_list|()
expr_stmt|;
name|virtual
name|bool
name|event
parameter_list|(
name|QEvent
modifier|*
name|event
parameter_list|)
function_decl|;
name|virtual
name|bool
name|eventFilter
parameter_list|(
name|QObject
modifier|*
name|watched
parameter_list|,
name|QEvent
modifier|*
name|event
parameter_list|)
function_decl|;
ifdef|#
directive|ifdef
name|Q_QDOC
specifier|static
name|QString
name|tr
parameter_list|(
specifier|const
name|char
modifier|*
name|sourceText
parameter_list|,
specifier|const
name|char
modifier|*
name|comment
init|=
name|Q_NULLPTR
parameter_list|,
name|int
name|n
init|=
operator|-
literal|1
parameter_list|)
function_decl|;
specifier|static
name|QString
name|trUtf8
parameter_list|(
specifier|const
name|char
modifier|*
name|sourceText
parameter_list|,
specifier|const
name|char
modifier|*
name|comment
init|=
name|Q_NULLPTR
parameter_list|,
name|int
name|n
init|=
operator|-
literal|1
parameter_list|)
function_decl|;
name|virtual
specifier|const
name|QMetaObject
operator|*
name|metaObject
argument_list|()
specifier|const
expr_stmt|;
specifier|static
specifier|const
name|QMetaObject
name|staticMetaObject
decl_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|QT_NO_TRANSLATION
specifier|static
name|QString
name|tr
parameter_list|(
specifier|const
name|char
modifier|*
name|sourceText
parameter_list|,
specifier|const
name|char
modifier|*
init|=
name|Q_NULLPTR
parameter_list|,
name|int
init|=
operator|-
literal|1
parameter_list|)
block|{
return|return
name|QString
operator|::
name|fromUtf8
argument_list|(
name|sourceText
argument_list|)
return|;
block|}
if|#
directive|if
name|QT_DEPRECATED_SINCE
argument_list|(
literal|5
operator|,
literal|0
argument_list|)
name|QT_DEPRECATED
specifier|static
name|QString
name|trUtf8
parameter_list|(
specifier|const
name|char
modifier|*
name|sourceText
parameter_list|,
specifier|const
name|char
modifier|*
init|=
name|Q_NULLPTR
parameter_list|,
name|int
init|=
operator|-
literal|1
parameter_list|)
block|{
return|return
name|QString
operator|::
name|fromUtf8
argument_list|(
name|sourceText
argument_list|)
return|;
block|}
endif|#
directive|endif
endif|#
directive|endif
comment|//QT_NO_TRANSLATION
name|QString
name|objectName
argument_list|()
specifier|const
expr_stmt|;
name|void
name|setObjectName
parameter_list|(
specifier|const
name|QString
modifier|&
name|name
parameter_list|)
function_decl|;
specifier|inline
name|bool
name|isWidgetType
argument_list|()
specifier|const
block|{
return|return
name|d_ptr
operator|->
name|isWidget
return|;
block|}
specifier|inline
name|bool
name|isWindowType
argument_list|()
specifier|const
block|{
return|return
name|d_ptr
operator|->
name|isWindow
return|;
block|}
specifier|inline
name|bool
name|signalsBlocked
argument_list|()
specifier|const
name|Q_DECL_NOTHROW
block|{
return|return
name|d_ptr
operator|->
name|blockSig
return|;
block|}
name|bool
name|blockSignals
argument_list|(
name|bool
name|b
argument_list|)
name|Q_DECL_NOTHROW
decl_stmt|;
name|QThread
operator|*
name|thread
argument_list|()
specifier|const
expr_stmt|;
name|void
name|moveToThread
parameter_list|(
name|QThread
modifier|*
name|thread
parameter_list|)
function_decl|;
name|int
name|startTimer
argument_list|(
name|int
name|interval
argument_list|,
name|Qt
operator|::
name|TimerType
name|timerType
operator|=
name|Qt
operator|::
name|CoarseTimer
argument_list|)
decl_stmt|;
name|void
name|killTimer
parameter_list|(
name|int
name|id
parameter_list|)
function_decl|;
name|template
operator|<
name|typename
name|T
operator|>
specifier|inline
name|T
name|findChild
argument_list|(
argument|const QString&aName = QString()
argument_list|,
argument|Qt::FindChildOptions options = Qt::FindChildrenRecursively
argument_list|)
specifier|const
block|{
typedef|typedef
name|typename
name|QtPrivate
operator|::
name|remove_cv
operator|<
name|typename
name|QtPrivate
operator|::
name|remove_pointer
operator|<
name|T
operator|>
operator|::
name|type
operator|>
operator|::
name|type
name|ObjType
expr_stmt|;
return|return
name|static_cast
operator|<
name|T
operator|>
operator|(
name|qt_qFindChild_helper
argument_list|(
name|this
argument_list|,
name|aName
argument_list|,
name|ObjType
operator|::
name|staticMetaObject
argument_list|,
name|options
argument_list|)
operator|)
return|;
block|}
end_decl_stmt
begin_expr_stmt
name|template
operator|<
name|typename
name|T
operator|>
specifier|inline
name|QList
operator|<
name|T
operator|>
name|findChildren
argument_list|(
argument|const QString&aName = QString()
argument_list|,
argument|Qt::FindChildOptions options = Qt::FindChildrenRecursively
argument_list|)
specifier|const
block|{
typedef|typedef
name|typename
name|QtPrivate
operator|::
name|remove_cv
operator|<
name|typename
name|QtPrivate
operator|::
name|remove_pointer
operator|<
name|T
operator|>
operator|::
name|type
operator|>
operator|::
name|type
name|ObjType
expr_stmt|;
name|QList
operator|<
name|T
operator|>
name|list
expr_stmt|;
end_expr_stmt
begin_expr_stmt
name|qt_qFindChildren_helper
argument_list|(
name|this
argument_list|,
name|aName
argument_list|,
name|ObjType
operator|::
name|staticMetaObject
argument_list|,
name|reinterpret_cast
operator|<
name|QList
operator|<
name|void
operator|*
operator|>
operator|*
operator|>
operator|(
operator|&
name|list
operator|)
argument_list|,
name|options
argument_list|)
expr_stmt|;
end_expr_stmt
begin_return
return|return
name|list
return|;
end_return
begin_ifndef
unit|}
ifndef|#
directive|ifndef
name|QT_NO_REGEXP
end_ifndef
begin_expr_stmt
unit|template
operator|<
name|typename
name|T
operator|>
specifier|inline
name|QList
operator|<
name|T
operator|>
name|findChildren
argument_list|(
argument|const QRegExp&re
argument_list|,
argument|Qt::FindChildOptions options = Qt::FindChildrenRecursively
argument_list|)
specifier|const
block|{
typedef|typedef
name|typename
name|QtPrivate
operator|::
name|remove_cv
operator|<
name|typename
name|QtPrivate
operator|::
name|remove_pointer
operator|<
name|T
operator|>
operator|::
name|type
operator|>
operator|::
name|type
name|ObjType
expr_stmt|;
name|QList
operator|<
name|T
operator|>
name|list
expr_stmt|;
end_expr_stmt
begin_expr_stmt
name|qt_qFindChildren_helper
argument_list|(
name|this
argument_list|,
name|re
argument_list|,
name|ObjType
operator|::
name|staticMetaObject
argument_list|,
name|reinterpret_cast
operator|<
name|QList
operator|<
name|void
operator|*
operator|>
operator|*
operator|>
operator|(
operator|&
name|list
operator|)
argument_list|,
name|options
argument_list|)
expr_stmt|;
end_expr_stmt
begin_return
return|return
name|list
return|;
end_return
begin_endif
unit|}
endif|#
directive|endif
end_endif
begin_ifndef
ifndef|#
directive|ifndef
name|QT_NO_REGULAREXPRESSION
end_ifndef
begin_expr_stmt
unit|template
operator|<
name|typename
name|T
operator|>
specifier|inline
name|QList
operator|<
name|T
operator|>
name|findChildren
argument_list|(
argument|const QRegularExpression&re
argument_list|,
argument|Qt::FindChildOptions options = Qt::FindChildrenRecursively
argument_list|)
specifier|const
block|{
typedef|typedef
name|typename
name|QtPrivate
operator|::
name|remove_cv
operator|<
name|typename
name|QtPrivate
operator|::
name|remove_pointer
operator|<
name|T
operator|>
operator|::
name|type
operator|>
operator|::
name|type
name|ObjType
expr_stmt|;
name|QList
operator|<
name|T
operator|>
name|list
expr_stmt|;
end_expr_stmt
begin_expr_stmt
name|qt_qFindChildren_helper
argument_list|(
name|this
argument_list|,
name|re
argument_list|,
name|ObjType
operator|::
name|staticMetaObject
argument_list|,
name|reinterpret_cast
operator|<
name|QList
operator|<
name|void
operator|*
operator|>
operator|*
operator|>
operator|(
operator|&
name|list
operator|)
argument_list|,
name|options
argument_list|)
expr_stmt|;
end_expr_stmt
begin_return
return|return
name|list
return|;
end_return
begin_endif
unit|}
endif|#
directive|endif
end_endif
begin_expr_stmt
unit|inline
specifier|const
name|QObjectList
operator|&
name|children
argument_list|()
specifier|const
block|{
return|return
name|d_ptr
operator|->
name|children
return|;
block|}
end_expr_stmt
begin_function_decl
name|void
name|setParent
parameter_list|(
name|QObject
modifier|*
name|parent
parameter_list|)
function_decl|;
end_function_decl
begin_function_decl
name|void
name|installEventFilter
parameter_list|(
name|QObject
modifier|*
name|filterObj
parameter_list|)
function_decl|;
end_function_decl
begin_function_decl
name|void
name|removeEventFilter
parameter_list|(
name|QObject
modifier|*
name|obj
parameter_list|)
function_decl|;
end_function_decl
begin_expr_stmt
specifier|static
name|QMetaObject
operator|::
name|Connection
name|connect
argument_list|(
specifier|const
name|QObject
operator|*
name|sender
argument_list|,
specifier|const
name|char
operator|*
name|signal
argument_list|,
specifier|const
name|QObject
operator|*
name|receiver
argument_list|,
specifier|const
name|char
operator|*
name|member
argument_list|,
name|Qt
operator|::
name|ConnectionType
operator|=
name|Qt
operator|::
name|AutoConnection
argument_list|)
expr_stmt|;
end_expr_stmt
begin_expr_stmt
specifier|static
name|QMetaObject
operator|::
name|Connection
name|connect
argument_list|(
argument|const QObject *sender
argument_list|,
argument|const QMetaMethod&signal
argument_list|,
argument|const QObject *receiver
argument_list|,
argument|const QMetaMethod&method
argument_list|,
argument|Qt::ConnectionType type = Qt::AutoConnection
argument_list|)
expr_stmt|;
end_expr_stmt
begin_expr_stmt
specifier|inline
name|QMetaObject
operator|::
name|Connection
name|connect
argument_list|(
argument|const QObject *sender
argument_list|,
argument|const char *signal
argument_list|,
argument|const char *member
argument_list|,
argument|Qt::ConnectionType type = Qt::AutoConnection
argument_list|)
specifier|const
expr_stmt|;
end_expr_stmt
begin_ifdef
ifdef|#
directive|ifdef
name|Q_QDOC
end_ifdef
begin_expr_stmt
specifier|static
name|QMetaObject
operator|::
name|Connection
name|connect
argument_list|(
argument|const QObject *sender
argument_list|,
argument|PointerToMemberFunction signal
argument_list|,
argument|const QObject *receiver
argument_list|,
argument|PointerToMemberFunction method
argument_list|,
argument|Qt::ConnectionType type = Qt::AutoConnection
argument_list|)
expr_stmt|;
end_expr_stmt
begin_expr_stmt
specifier|static
name|QMetaObject
operator|::
name|Connection
name|connect
argument_list|(
argument|const QObject *sender
argument_list|,
argument|PointerToMemberFunction signal
argument_list|,
argument|Functor functor
argument_list|)
expr_stmt|;
end_expr_stmt
begin_expr_stmt
specifier|static
name|QMetaObject
operator|::
name|Connection
name|connect
argument_list|(
argument|const QObject *sender
argument_list|,
argument|PointerToMemberFunction signal
argument_list|,
argument|const QObject *context
argument_list|,
argument|Functor functor
argument_list|,
argument|Qt::ConnectionType type = Qt::AutoConnection
argument_list|)
expr_stmt|;
end_expr_stmt
begin_else
else|#
directive|else
end_else
begin_comment
comment|//Connect a signal to a pointer to qobject member function
end_comment
begin_expr_stmt
name|template
operator|<
name|typename
name|Func1
operator|,
name|typename
name|Func2
operator|>
specifier|static
specifier|inline
name|QMetaObject
operator|::
name|Connection
name|connect
argument_list|(
argument|const typename QtPrivate::FunctionPointer<Func1>::Object *sender
argument_list|,
argument|Func1 signal
argument_list|,
argument|const typename QtPrivate::FunctionPointer<Func2>::Object *receiver
argument_list|,
argument|Func2 slot
argument_list|,
argument|Qt::ConnectionType type = Qt::AutoConnection
argument_list|)
block|{
typedef|typedef
name|QtPrivate
operator|::
name|FunctionPointer
operator|<
name|Func1
operator|>
name|SignalType
expr_stmt|;
end_expr_stmt
begin_typedef
typedef|typedef
name|QtPrivate
operator|::
name|FunctionPointer
operator|<
name|Func2
operator|>
name|SlotType
expr_stmt|;
end_typedef
begin_macro
name|Q_STATIC_ASSERT_X
argument_list|(
argument|QtPrivate::HasQ_OBJECT_Macro<typename SignalType::Object>::Value
argument_list|,
literal|"No Q_OBJECT in the class with the signal"
argument_list|)
end_macro
begin_empty_stmt
empty_stmt|;
end_empty_stmt
begin_comment
comment|//compilation error if the arguments does not match.
end_comment
begin_expr_stmt
name|Q_STATIC_ASSERT_X
argument_list|(
name|int
argument_list|(
name|SignalType
operator|::
name|ArgumentCount
argument_list|)
operator|>=
name|int
argument_list|(
name|SlotType
operator|::
name|ArgumentCount
argument_list|)
argument_list|,
literal|"The slot requires more arguments than the signal provides."
argument_list|)
expr_stmt|;
end_expr_stmt
begin_expr_stmt
name|Q_STATIC_ASSERT_X
argument_list|(
operator|(
name|QtPrivate
operator|::
name|CheckCompatibleArguments
operator|<
name|typename
name|SignalType
operator|::
name|Arguments
operator|,
name|typename
name|SlotType
operator|::
name|Arguments
operator|>
operator|::
name|value
operator|)
argument_list|,
literal|"Signal and slot arguments are not compatible."
argument_list|)
expr_stmt|;
end_expr_stmt
begin_expr_stmt
name|Q_STATIC_ASSERT_X
argument_list|(
operator|(
name|QtPrivate
operator|::
name|AreArgumentsCompatible
operator|<
name|typename
name|SlotType
operator|::
name|ReturnType
operator|,
name|typename
name|SignalType
operator|::
name|ReturnType
operator|>
operator|::
name|value
operator|)
argument_list|,
literal|"Return type of the slot is not compatible with the return type of the signal."
argument_list|)
expr_stmt|;
end_expr_stmt
begin_decl_stmt
specifier|const
name|int
modifier|*
name|types
init|=
name|Q_NULLPTR
decl_stmt|;
end_decl_stmt
begin_if
if|if
condition|(
name|type
operator|==
name|Qt
operator|::
name|QueuedConnection
operator|||
name|type
operator|==
name|Qt
operator|::
name|BlockingQueuedConnection
condition|)
name|types
operator|=
name|QtPrivate
operator|::
name|ConnectionTypes
operator|<
name|typename
name|SignalType
operator|::
name|Arguments
operator|>
operator|::
name|types
argument_list|()
expr_stmt|;
end_if
begin_return
return|return
name|connectImpl
argument_list|(
argument|sender
argument_list|,
argument|reinterpret_cast<void **>(&signal)
argument_list|,
argument|receiver
argument_list|,
argument|reinterpret_cast<void **>(&slot)
argument_list|,
argument|new QtPrivate::QSlotObject<Func2
argument_list|,
argument|typename QtPrivate::List_Left<typename SignalType::Arguments
argument_list|,
argument|SlotType::ArgumentCount>::Value
argument_list|,
argument|typename SignalType::ReturnType>(slot)
argument_list|,
argument|type
argument_list|,
argument|types
argument_list|,
argument|&SignalType::Object::staticMetaObject
argument_list|)
return|;
end_return
begin_comment
unit|}
comment|//connect to a function pointer  (not a member)
end_comment
begin_expr_stmt
unit|template
operator|<
name|typename
name|Func1
operator|,
name|typename
name|Func2
operator|>
specifier|static
specifier|inline
name|typename
name|QtPrivate
operator|::
name|QEnableIf
operator|<
name|int
argument_list|(
name|QtPrivate
operator|::
name|FunctionPointer
operator|<
name|Func2
operator|>
operator|::
name|ArgumentCount
argument_list|)
operator|>=
literal|0
operator|,
name|QMetaObject
operator|::
name|Connection
operator|>
operator|::
name|Type
name|connect
argument_list|(
argument|const typename QtPrivate::FunctionPointer<Func1>::Object *sender
argument_list|,
argument|Func1 signal
argument_list|,
argument|Func2 slot
argument_list|)
block|{
return|return
name|connect
argument_list|(
name|sender
argument_list|,
name|signal
argument_list|,
name|sender
argument_list|,
name|slot
argument_list|,
name|Qt
operator|::
name|DirectConnection
argument_list|)
return|;
block|}
end_expr_stmt
begin_comment
comment|//connect to a function pointer  (not a member)
end_comment
begin_expr_stmt
name|template
operator|<
name|typename
name|Func1
operator|,
name|typename
name|Func2
operator|>
specifier|static
specifier|inline
name|typename
name|QtPrivate
operator|::
name|QEnableIf
operator|<
name|int
argument_list|(
name|QtPrivate
operator|::
name|FunctionPointer
operator|<
name|Func2
operator|>
operator|::
name|ArgumentCount
argument_list|)
operator|>=
literal|0
operator|&&
operator|!
name|QtPrivate
operator|::
name|FunctionPointer
operator|<
name|Func2
operator|>
operator|::
name|IsPointerToMemberFunction
operator|,
name|QMetaObject
operator|::
name|Connection
operator|>
operator|::
name|Type
name|connect
argument_list|(
argument|const typename QtPrivate::FunctionPointer<Func1>::Object *sender
argument_list|,
argument|Func1 signal
argument_list|,
argument|const QObject *context
argument_list|,
argument|Func2 slot
argument_list|,
argument|Qt::ConnectionType type = Qt::AutoConnection
argument_list|)
block|{
typedef|typedef
name|QtPrivate
operator|::
name|FunctionPointer
operator|<
name|Func1
operator|>
name|SignalType
expr_stmt|;
end_expr_stmt
begin_typedef
typedef|typedef
name|QtPrivate
operator|::
name|FunctionPointer
operator|<
name|Func2
operator|>
name|SlotType
expr_stmt|;
end_typedef
begin_macro
name|Q_STATIC_ASSERT_X
argument_list|(
argument|QtPrivate::HasQ_OBJECT_Macro<typename SignalType::Object>::Value
argument_list|,
literal|"No Q_OBJECT in the class with the signal"
argument_list|)
end_macro
begin_empty_stmt
empty_stmt|;
end_empty_stmt
begin_comment
comment|//compilation error if the arguments does not match.
end_comment
begin_expr_stmt
name|Q_STATIC_ASSERT_X
argument_list|(
name|int
argument_list|(
name|SignalType
operator|::
name|ArgumentCount
argument_list|)
operator|>=
name|int
argument_list|(
name|SlotType
operator|::
name|ArgumentCount
argument_list|)
argument_list|,
literal|"The slot requires more arguments than the signal provides."
argument_list|)
expr_stmt|;
end_expr_stmt
begin_expr_stmt
name|Q_STATIC_ASSERT_X
argument_list|(
operator|(
name|QtPrivate
operator|::
name|CheckCompatibleArguments
operator|<
name|typename
name|SignalType
operator|::
name|Arguments
operator|,
name|typename
name|SlotType
operator|::
name|Arguments
operator|>
operator|::
name|value
operator|)
argument_list|,
literal|"Signal and slot arguments are not compatible."
argument_list|)
expr_stmt|;
end_expr_stmt
begin_expr_stmt
name|Q_STATIC_ASSERT_X
argument_list|(
operator|(
name|QtPrivate
operator|::
name|AreArgumentsCompatible
operator|<
name|typename
name|SlotType
operator|::
name|ReturnType
operator|,
name|typename
name|SignalType
operator|::
name|ReturnType
operator|>
operator|::
name|value
operator|)
argument_list|,
literal|"Return type of the slot is not compatible with the return type of the signal."
argument_list|)
expr_stmt|;
end_expr_stmt
begin_decl_stmt
specifier|const
name|int
modifier|*
name|types
init|=
name|Q_NULLPTR
decl_stmt|;
end_decl_stmt
begin_if
if|if
condition|(
name|type
operator|==
name|Qt
operator|::
name|QueuedConnection
operator|||
name|type
operator|==
name|Qt
operator|::
name|BlockingQueuedConnection
condition|)
name|types
operator|=
name|QtPrivate
operator|::
name|ConnectionTypes
operator|<
name|typename
name|SignalType
operator|::
name|Arguments
operator|>
operator|::
name|types
argument_list|()
expr_stmt|;
end_if
begin_return
return|return
name|connectImpl
argument_list|(
argument|sender
argument_list|,
argument|reinterpret_cast<void **>(&signal)
argument_list|,
argument|context
argument_list|,
argument|Q_NULLPTR
argument_list|,
argument|new QtPrivate::QStaticSlotObject<Func2
argument_list|,
argument|typename QtPrivate::List_Left<typename SignalType::Arguments
argument_list|,
argument|SlotType::ArgumentCount>::Value
argument_list|,
argument|typename SignalType::ReturnType>(slot)
argument_list|,
argument|type
argument_list|,
argument|types
argument_list|,
argument|&SignalType::Object::staticMetaObject
argument_list|)
return|;
end_return
begin_comment
unit|}
comment|//connect to a functor
end_comment
begin_expr_stmt
unit|template
operator|<
name|typename
name|Func1
operator|,
name|typename
name|Func2
operator|>
specifier|static
specifier|inline
name|typename
name|QtPrivate
operator|::
name|QEnableIf
operator|<
name|QtPrivate
operator|::
name|FunctionPointer
operator|<
name|Func2
operator|>
operator|::
name|ArgumentCount
operator|==
operator|-
literal|1
operator|,
name|QMetaObject
operator|::
name|Connection
operator|>
operator|::
name|Type
name|connect
argument_list|(
argument|const typename QtPrivate::FunctionPointer<Func1>::Object *sender
argument_list|,
argument|Func1 signal
argument_list|,
argument|Func2 slot
argument_list|)
block|{
return|return
name|connect
argument_list|(
name|sender
argument_list|,
name|signal
argument_list|,
name|sender
argument_list|,
name|slot
argument_list|,
name|Qt
operator|::
name|DirectConnection
argument_list|)
return|;
block|}
end_expr_stmt
begin_comment
comment|//connect to a functor, with a "context" object defining in which event loop is going to be executed
end_comment
begin_expr_stmt
name|template
operator|<
name|typename
name|Func1
operator|,
name|typename
name|Func2
operator|>
specifier|static
specifier|inline
name|typename
name|QtPrivate
operator|::
name|QEnableIf
operator|<
name|QtPrivate
operator|::
name|FunctionPointer
operator|<
name|Func2
operator|>
operator|::
name|ArgumentCount
operator|==
operator|-
literal|1
operator|,
name|QMetaObject
operator|::
name|Connection
operator|>
operator|::
name|Type
name|connect
argument_list|(
argument|const typename QtPrivate::FunctionPointer<Func1>::Object *sender
argument_list|,
argument|Func1 signal
argument_list|,
argument|const QObject *context
argument_list|,
argument|Func2 slot
argument_list|,
argument|Qt::ConnectionType type = Qt::AutoConnection
argument_list|)
block|{
if|#
directive|if
name|defined
argument_list|(
name|Q_COMPILER_DECLTYPE
argument_list|)
operator|&&
name|defined
argument_list|(
name|Q_COMPILER_VARIADIC_TEMPLATES
argument_list|)
typedef|typedef
name|QtPrivate
operator|::
name|FunctionPointer
operator|<
name|Func1
operator|>
name|SignalType
expr_stmt|;
specifier|const
name|int
name|FunctorArgumentCount
operator|=
name|QtPrivate
operator|::
name|ComputeFunctorArgumentCount
operator|<
name|Func2
operator|,
name|typename
name|SignalType
operator|::
name|Arguments
operator|>
operator|::
name|Value
expr_stmt|;
end_expr_stmt
begin_expr_stmt
name|Q_STATIC_ASSERT_X
argument_list|(
operator|(
name|FunctorArgumentCount
operator|>=
literal|0
operator|)
argument_list|,
literal|"Signal and slot arguments are not compatible."
argument_list|)
expr_stmt|;
end_expr_stmt
begin_decl_stmt
specifier|const
name|int
name|SlotArgumentCount
init|=
operator|(
name|FunctorArgumentCount
operator|>=
literal|0
operator|)
condition|?
name|FunctorArgumentCount
else|:
literal|0
decl_stmt|;
end_decl_stmt
begin_typedef
typedef|typedef
name|typename
name|QtPrivate
operator|::
name|FunctorReturnType
operator|<
name|Func2
operator|,
name|typename
name|QtPrivate
operator|::
name|List_Left
operator|<
name|typename
name|SignalType
operator|::
name|Arguments
operator|,
name|SlotArgumentCount
operator|>
operator|::
name|Value
operator|>
operator|::
name|Value
name|SlotReturnType
expr_stmt|;
end_typedef
begin_else
else|#
directive|else
end_else
begin_comment
comment|// Without variadic template, we don't detect the best overload of operator(). We just
end_comment
begin_comment
comment|// assume there is only one simple operator() and connect to&Func2::operator()
end_comment
begin_comment
comment|/* If you get an error such as:              couldn't deduce template parameter 'Func2Operator'         or              cannot resolve address of overloaded function         It means the functor does not have a single operator().         Functors with overloaded or templated operator() are only supported if the compiler supports         C++11 variadic templates       */
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|Q_COMPILER_DECLTYPE
end_ifndef
begin_comment
comment|//Workaround the lack of decltype using another function as indirection
end_comment
begin_return
return|return
name|connect_functor
argument_list|(
name|sender
argument_list|,
name|signal
argument_list|,
name|context
argument_list|,
name|slot
argument_list|,
operator|&
name|Func2
operator|::
name|operator
argument_list|()
argument_list|,
name|type
argument_list|)
return|;
end_return
begin_expr_stmt
unit|}     template
operator|<
name|typename
name|Func1
operator|,
name|typename
name|Func2
operator|,
name|typename
name|Func2Operator
operator|>
specifier|static
specifier|inline
name|QMetaObject
operator|::
name|Connection
name|connect_functor
argument_list|(
argument|const QObject *sender
argument_list|,
argument|Func1 signal
argument_list|,
argument|const QObject *context
argument_list|,
argument|Func2 slot
argument_list|,
argument|Func2Operator
argument_list|,
argument|Qt::ConnectionType type
argument_list|)
block|{
typedef|typedef
name|QtPrivate
operator|::
name|FunctionPointer
operator|<
name|Func2Operator
operator|>
name|SlotType
expr_stmt|;
end_expr_stmt
begin_else
else|#
directive|else
end_else
begin_typedef
typedef|typedef
name|QtPrivate
operator|::
name|FunctionPointer
operator|<
name|decltype
argument_list|(
operator|&
name|Func2
operator|::
name|operator
argument_list|()
argument_list|)
operator|>
name|SlotType
expr_stmt|;
end_typedef
begin_endif
endif|#
directive|endif
end_endif
begin_typedef
typedef|typedef
name|QtPrivate
operator|::
name|FunctionPointer
operator|<
name|Func1
operator|>
name|SignalType
expr_stmt|;
end_typedef
begin_typedef
typedef|typedef
name|typename
name|SlotType
operator|::
name|ReturnType
name|SlotReturnType
expr_stmt|;
end_typedef
begin_decl_stmt
specifier|const
name|int
name|SlotArgumentCount
init|=
name|SlotType
operator|::
name|ArgumentCount
decl_stmt|;
end_decl_stmt
begin_expr_stmt
name|Q_STATIC_ASSERT_X
argument_list|(
name|int
argument_list|(
name|SignalType
operator|::
name|ArgumentCount
argument_list|)
operator|>=
name|SlotArgumentCount
argument_list|,
literal|"The slot requires more arguments than the signal provides."
argument_list|)
expr_stmt|;
end_expr_stmt
begin_expr_stmt
name|Q_STATIC_ASSERT_X
argument_list|(
operator|(
name|QtPrivate
operator|::
name|CheckCompatibleArguments
operator|<
name|typename
name|SignalType
operator|::
name|Arguments
operator|,
name|typename
name|SlotType
operator|::
name|Arguments
operator|>
operator|::
name|value
operator|)
argument_list|,
literal|"Signal and slot arguments are not compatible."
argument_list|)
expr_stmt|;
end_expr_stmt
begin_endif
endif|#
directive|endif
end_endif
begin_expr_stmt
name|Q_STATIC_ASSERT_X
argument_list|(
operator|(
name|QtPrivate
operator|::
name|AreArgumentsCompatible
operator|<
name|SlotReturnType
operator|,
name|typename
name|SignalType
operator|::
name|ReturnType
operator|>
operator|::
name|value
operator|)
argument_list|,
literal|"Return type of the slot is not compatible with the return type of the signal."
argument_list|)
expr_stmt|;
end_expr_stmt
begin_macro
name|Q_STATIC_ASSERT_X
argument_list|(
argument|QtPrivate::HasQ_OBJECT_Macro<typename SignalType::Object>::Value
argument_list|,
literal|"No Q_OBJECT in the class with the signal"
argument_list|)
end_macro
begin_empty_stmt
empty_stmt|;
end_empty_stmt
begin_decl_stmt
specifier|const
name|int
modifier|*
name|types
init|=
name|Q_NULLPTR
decl_stmt|;
end_decl_stmt
begin_if
if|if
condition|(
name|type
operator|==
name|Qt
operator|::
name|QueuedConnection
operator|||
name|type
operator|==
name|Qt
operator|::
name|BlockingQueuedConnection
condition|)
name|types
operator|=
name|QtPrivate
operator|::
name|ConnectionTypes
operator|<
name|typename
name|SignalType
operator|::
name|Arguments
operator|>
operator|::
name|types
argument_list|()
expr_stmt|;
end_if
begin_return
return|return
name|connectImpl
argument_list|(
argument|sender
argument_list|,
argument|reinterpret_cast<void **>(&signal)
argument_list|,
argument|context
argument_list|,
argument|Q_NULLPTR
argument_list|,
argument|new QtPrivate::QFunctorSlotObject<Func2
argument_list|,
argument|SlotArgumentCount
argument_list|,
argument|typename QtPrivate::List_Left<typename SignalType::Arguments
argument_list|,
argument|SlotArgumentCount>::Value
argument_list|,
argument|typename SignalType::ReturnType>(slot)
argument_list|,
argument|type
argument_list|,
argument|types
argument_list|,
argument|&SignalType::Object::staticMetaObject
argument_list|)
return|;
end_return
begin_endif
unit|}
endif|#
directive|endif
end_endif
begin_comment
comment|//Q_QDOC
end_comment
begin_function_decl
unit|static
name|bool
name|disconnect
parameter_list|(
specifier|const
name|QObject
modifier|*
name|sender
parameter_list|,
specifier|const
name|char
modifier|*
name|signal
parameter_list|,
specifier|const
name|QObject
modifier|*
name|receiver
parameter_list|,
specifier|const
name|char
modifier|*
name|member
parameter_list|)
function_decl|;
end_function_decl
begin_function_decl
specifier|static
name|bool
name|disconnect
parameter_list|(
specifier|const
name|QObject
modifier|*
name|sender
parameter_list|,
specifier|const
name|QMetaMethod
modifier|&
name|signal
parameter_list|,
specifier|const
name|QObject
modifier|*
name|receiver
parameter_list|,
specifier|const
name|QMetaMethod
modifier|&
name|member
parameter_list|)
function_decl|;
end_function_decl
begin_decl_stmt
specifier|inline
name|bool
name|disconnect
argument_list|(
specifier|const
name|char
operator|*
name|signal
operator|=
name|Q_NULLPTR
argument_list|,
specifier|const
name|QObject
operator|*
name|receiver
operator|=
name|Q_NULLPTR
argument_list|,
specifier|const
name|char
operator|*
name|member
operator|=
name|Q_NULLPTR
argument_list|)
decl|const
block|{
return|return
name|disconnect
argument_list|(
name|this
argument_list|,
name|signal
argument_list|,
name|receiver
argument_list|,
name|member
argument_list|)
return|;
block|}
end_decl_stmt
begin_decl_stmt
specifier|inline
name|bool
name|disconnect
argument_list|(
specifier|const
name|QObject
operator|*
name|receiver
argument_list|,
specifier|const
name|char
operator|*
name|member
operator|=
name|Q_NULLPTR
argument_list|)
decl|const
block|{
return|return
name|disconnect
argument_list|(
name|this
argument_list|,
name|Q_NULLPTR
argument_list|,
name|receiver
argument_list|,
name|member
argument_list|)
return|;
block|}
end_decl_stmt
begin_decl_stmt
specifier|static
name|bool
name|disconnect
argument_list|(
specifier|const
name|QMetaObject
operator|::
name|Connection
operator|&
argument_list|)
decl_stmt|;
end_decl_stmt
begin_ifdef
ifdef|#
directive|ifdef
name|Q_QDOC
end_ifdef
begin_function_decl
specifier|static
name|bool
name|disconnect
parameter_list|(
specifier|const
name|QObject
modifier|*
name|sender
parameter_list|,
name|PointerToMemberFunction
name|signal
parameter_list|,
specifier|const
name|QObject
modifier|*
name|receiver
parameter_list|,
name|PointerToMemberFunction
name|method
parameter_list|)
function_decl|;
end_function_decl
begin_else
else|#
directive|else
end_else
begin_expr_stmt
name|template
operator|<
name|typename
name|Func1
operator|,
name|typename
name|Func2
operator|>
specifier|static
specifier|inline
name|bool
name|disconnect
argument_list|(
argument|const typename QtPrivate::FunctionPointer<Func1>::Object *sender
argument_list|,
argument|Func1 signal
argument_list|,
argument|const typename QtPrivate::FunctionPointer<Func2>::Object *receiver
argument_list|,
argument|Func2 slot
argument_list|)
block|{
typedef|typedef
name|QtPrivate
operator|::
name|FunctionPointer
operator|<
name|Func1
operator|>
name|SignalType
expr_stmt|;
end_expr_stmt
begin_typedef
typedef|typedef
name|QtPrivate
operator|::
name|FunctionPointer
operator|<
name|Func2
operator|>
name|SlotType
expr_stmt|;
end_typedef
begin_macro
name|Q_STATIC_ASSERT_X
argument_list|(
argument|QtPrivate::HasQ_OBJECT_Macro<typename SignalType::Object>::Value
argument_list|,
literal|"No Q_OBJECT in the class with the signal"
argument_list|)
end_macro
begin_empty_stmt
empty_stmt|;
end_empty_stmt
begin_comment
comment|//compilation error if the arguments does not match.
end_comment
begin_expr_stmt
name|Q_STATIC_ASSERT_X
argument_list|(
operator|(
name|QtPrivate
operator|::
name|CheckCompatibleArguments
operator|<
name|typename
name|SignalType
operator|::
name|Arguments
operator|,
name|typename
name|SlotType
operator|::
name|Arguments
operator|>
operator|::
name|value
operator|)
argument_list|,
literal|"Signal and slot arguments are not compatible."
argument_list|)
expr_stmt|;
end_expr_stmt
begin_return
return|return
name|disconnectImpl
argument_list|(
name|sender
argument_list|,
name|reinterpret_cast
operator|<
name|void
operator|*
operator|*
operator|>
operator|(
operator|&
name|signal
operator|)
argument_list|,
name|receiver
argument_list|,
name|reinterpret_cast
operator|<
name|void
operator|*
operator|*
operator|>
operator|(
operator|&
name|slot
operator|)
argument_list|,
operator|&
name|SignalType
operator|::
name|Object
operator|::
name|staticMetaObject
argument_list|)
return|;
end_return
begin_expr_stmt
unit|}     template
operator|<
name|typename
name|Func1
operator|>
specifier|static
specifier|inline
name|bool
name|disconnect
argument_list|(
argument|const typename QtPrivate::FunctionPointer<Func1>::Object *sender
argument_list|,
argument|Func1 signal
argument_list|,
argument|const QObject *receiver
argument_list|,
argument|void **zero
argument_list|)
block|{
comment|// This is the overload for when one wish to disconnect a signal from any slot. (slot=Q_NULLPTR)
comment|// Since the function template parameter cannot be deduced from '0', we use a
comment|// dummy void ** parameter that must be equal to 0
name|Q_ASSERT
argument_list|(
operator|!
name|zero
argument_list|)
block|;
typedef|typedef
name|QtPrivate
operator|::
name|FunctionPointer
operator|<
name|Func1
operator|>
name|SignalType
expr_stmt|;
end_expr_stmt
begin_return
return|return
name|disconnectImpl
argument_list|(
name|sender
argument_list|,
name|reinterpret_cast
operator|<
name|void
operator|*
operator|*
operator|>
operator|(
operator|&
name|signal
operator|)
argument_list|,
name|receiver
argument_list|,
name|zero
argument_list|,
operator|&
name|SignalType
operator|::
name|Object
operator|::
name|staticMetaObject
argument_list|)
return|;
end_return
begin_endif
unit|}
endif|#
directive|endif
end_endif
begin_comment
comment|//Q_QDOC
end_comment
begin_expr_stmt
unit|void
name|dumpObjectTree
argument_list|()
expr_stmt|;
end_expr_stmt
begin_function_decl
name|void
name|dumpObjectInfo
parameter_list|()
function_decl|;
end_function_decl
begin_ifndef
ifndef|#
directive|ifndef
name|QT_NO_PROPERTIES
end_ifndef
begin_function_decl
name|bool
name|setProperty
parameter_list|(
specifier|const
name|char
modifier|*
name|name
parameter_list|,
specifier|const
name|QVariant
modifier|&
name|value
parameter_list|)
function_decl|;
end_function_decl
begin_decl_stmt
name|QVariant
name|property
argument_list|(
specifier|const
name|char
operator|*
name|name
argument_list|)
decl|const
decl_stmt|;
end_decl_stmt
begin_expr_stmt
name|QList
operator|<
name|QByteArray
operator|>
name|dynamicPropertyNames
argument_list|()
specifier|const
expr_stmt|;
end_expr_stmt
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|// QT_NO_PROPERTIES
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|QT_NO_USERDATA
end_ifndef
begin_function_decl
specifier|static
name|uint
name|registerUserData
parameter_list|()
function_decl|;
end_function_decl
begin_function_decl
name|void
name|setUserData
parameter_list|(
name|uint
name|id
parameter_list|,
name|QObjectUserData
modifier|*
name|data
parameter_list|)
function_decl|;
end_function_decl
begin_decl_stmt
name|QObjectUserData
modifier|*
name|userData
argument_list|(
name|uint
name|id
argument_list|)
decl|const
decl_stmt|;
end_decl_stmt
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|// QT_NO_USERDATA
end_comment
begin_label
name|Q_SIGNALS
label|:
end_label
begin_function_decl
name|void
name|destroyed
parameter_list|(
name|QObject
modifier|*
init|=
name|Q_NULLPTR
parameter_list|)
function_decl|;
end_function_decl
begin_function_decl
name|void
name|objectNameChanged
parameter_list|(
specifier|const
name|QString
modifier|&
name|objectName
parameter_list|,
name|QPrivateSignal
parameter_list|)
function_decl|;
end_function_decl
begin_label
name|public
label|:
end_label
begin_expr_stmt
specifier|inline
name|QObject
operator|*
name|parent
argument_list|()
specifier|const
block|{
return|return
name|d_ptr
operator|->
name|parent
return|;
block|}
end_expr_stmt
begin_decl_stmt
specifier|inline
name|bool
name|inherits
argument_list|(
specifier|const
name|char
operator|*
name|classname
argument_list|)
decl|const
block|{
return|return
name|const_cast
operator|<
name|QObject
operator|*
operator|>
operator|(
name|this
operator|)
operator|->
name|qt_metacast
argument_list|(
name|classname
argument_list|)
operator|!=
name|Q_NULLPTR
return|;
block|}
end_decl_stmt
begin_decl_stmt
name|public
name|Q_SLOTS
range|:
name|void
name|deleteLater
argument_list|()
decl_stmt|;
end_decl_stmt
begin_label
name|protected
label|:
end_label
begin_expr_stmt
name|QObject
operator|*
name|sender
argument_list|()
specifier|const
expr_stmt|;
end_expr_stmt
begin_expr_stmt
name|int
name|senderSignalIndex
argument_list|()
specifier|const
expr_stmt|;
end_expr_stmt
begin_decl_stmt
name|int
name|receivers
argument_list|(
specifier|const
name|char
operator|*
name|signal
argument_list|)
decl|const
decl_stmt|;
end_decl_stmt
begin_decl_stmt
name|bool
name|isSignalConnected
argument_list|(
specifier|const
name|QMetaMethod
operator|&
name|signal
argument_list|)
decl|const
decl_stmt|;
end_decl_stmt
begin_function_decl
name|virtual
name|void
name|timerEvent
parameter_list|(
name|QTimerEvent
modifier|*
name|event
parameter_list|)
function_decl|;
end_function_decl
begin_function_decl
name|virtual
name|void
name|childEvent
parameter_list|(
name|QChildEvent
modifier|*
name|event
parameter_list|)
function_decl|;
end_function_decl
begin_function_decl
name|virtual
name|void
name|customEvent
parameter_list|(
name|QEvent
modifier|*
name|event
parameter_list|)
function_decl|;
end_function_decl
begin_function_decl
name|virtual
name|void
name|connectNotify
parameter_list|(
specifier|const
name|QMetaMethod
modifier|&
name|signal
parameter_list|)
function_decl|;
end_function_decl
begin_function_decl
name|virtual
name|void
name|disconnectNotify
parameter_list|(
specifier|const
name|QMetaMethod
modifier|&
name|signal
parameter_list|)
function_decl|;
end_function_decl
begin_label
name|protected
label|:
end_label
begin_expr_stmt
name|QObject
argument_list|(
name|QObjectPrivate
operator|&
name|dd
argument_list|,
name|QObject
operator|*
name|parent
operator|=
name|Q_NULLPTR
argument_list|)
expr_stmt|;
end_expr_stmt
begin_label
name|protected
label|:
end_label
begin_expr_stmt
name|QScopedPointer
operator|<
name|QObjectData
operator|>
name|d_ptr
expr_stmt|;
end_expr_stmt
begin_decl_stmt
specifier|static
specifier|const
name|QMetaObject
name|staticQtMetaObject
decl_stmt|;
end_decl_stmt
begin_expr_stmt
name|friend
specifier|inline
specifier|const
name|QMetaObject
operator|*
name|qt_getQtMetaObject
argument_list|()
name|Q_DECL_NOEXCEPT
expr_stmt|;
end_expr_stmt
begin_macro
name|friend
end_macro
begin_struct_decl
struct_decl|struct
name|QMetaObject
struct_decl|;
end_struct_decl
begin_macro
name|friend
end_macro
begin_struct_decl
struct_decl|struct
name|QMetaObjectPrivate
struct_decl|;
end_struct_decl
begin_decl_stmt
name|friend
name|class
name|QMetaCallEvent
decl_stmt|;
end_decl_stmt
begin_decl_stmt
name|friend
name|class
name|QApplication
decl_stmt|;
end_decl_stmt
begin_decl_stmt
name|friend
name|class
name|QApplicationPrivate
decl_stmt|;
end_decl_stmt
begin_decl_stmt
name|friend
name|class
name|QCoreApplication
decl_stmt|;
end_decl_stmt
begin_decl_stmt
name|friend
name|class
name|QCoreApplicationPrivate
decl_stmt|;
end_decl_stmt
begin_decl_stmt
name|friend
name|class
name|QWidget
decl_stmt|;
end_decl_stmt
begin_decl_stmt
name|friend
name|class
name|QThreadData
decl_stmt|;
end_decl_stmt
begin_label
name|private
label|:
end_label
begin_macro
name|Q_DISABLE_COPY
argument_list|(
argument|QObject
argument_list|)
end_macro
begin_macro
name|Q_PRIVATE_SLOT
argument_list|(
argument|d_func()
argument_list|,
argument|void _q_reregisterTimers(void *)
argument_list|)
end_macro
begin_label
name|private
label|:
end_label
begin_expr_stmt
specifier|static
name|QMetaObject
operator|::
name|Connection
name|connectImpl
argument_list|(
argument|const QObject *sender
argument_list|,
argument|void **signal
argument_list|,
argument|const QObject *receiver
argument_list|,
argument|void **slotPtr
argument_list|,
argument|QtPrivate::QSlotObjectBase *slot
argument_list|,
argument|Qt::ConnectionType type
argument_list|,
argument|const int *types
argument_list|,
argument|const QMetaObject *senderMetaObject
argument_list|)
expr_stmt|;
end_expr_stmt
begin_function_decl
specifier|static
name|bool
name|disconnectImpl
parameter_list|(
specifier|const
name|QObject
modifier|*
name|sender
parameter_list|,
name|void
modifier|*
modifier|*
name|signal
parameter_list|,
specifier|const
name|QObject
modifier|*
name|receiver
parameter_list|,
name|void
modifier|*
modifier|*
name|slot
parameter_list|,
specifier|const
name|QMetaObject
modifier|*
name|senderMetaObject
parameter_list|)
function_decl|;
end_function_decl
begin_expr_stmt
unit|};
DECL|function|connect
specifier|inline
name|QMetaObject
operator|::
name|Connection
name|QObject
operator|::
name|connect
argument_list|(
argument|const QObject *asender
argument_list|,
argument|const char *asignal
argument_list|,
argument|const char *amember
argument_list|,
argument|Qt::ConnectionType atype
argument_list|)
specifier|const
block|{
return|return
name|connect
argument_list|(
name|asender
argument_list|,
name|asignal
argument_list|,
name|this
argument_list|,
name|amember
argument_list|,
name|atype
argument_list|)
return|;
block|}
end_expr_stmt
begin_function
specifier|inline
specifier|const
name|QMetaObject
modifier|*
name|qt_getQtMetaObject
parameter_list|()
function|Q_DECL_NOEXCEPT
block|{
return|return
operator|&
name|QObject
operator|::
name|staticQtMetaObject
return|;
block|}
end_function
begin_ifndef
ifndef|#
directive|ifndef
name|QT_NO_USERDATA
end_ifndef
begin_decl_stmt
name|class
name|Q_CORE_EXPORT
name|QObjectUserData
block|{
name|public
label|:
name|virtual
operator|~
name|QObjectUserData
argument_list|()
expr_stmt|;
block|}
end_decl_stmt
begin_empty_stmt
empty_stmt|;
end_empty_stmt
begin_endif
endif|#
directive|endif
end_endif
begin_ifdef
ifdef|#
directive|ifdef
name|Q_QDOC
end_ifdef
begin_function_decl
name|T
name|qFindChild
parameter_list|(
specifier|const
name|QObject
modifier|*
name|o
parameter_list|,
specifier|const
name|QString
modifier|&
name|name
init|=
name|QString
argument_list|()
parameter_list|)
function_decl|;
end_function_decl
begin_expr_stmt
name|QList
operator|<
name|T
operator|>
name|qFindChildren
argument_list|(
specifier|const
name|QObject
operator|*
name|oobj
argument_list|,
specifier|const
name|QString
operator|&
name|name
operator|=
name|QString
argument_list|()
argument_list|)
expr_stmt|;
end_expr_stmt
begin_expr_stmt
name|QList
operator|<
name|T
operator|>
name|qFindChildren
argument_list|(
specifier|const
name|QObject
operator|*
name|o
argument_list|,
specifier|const
name|QRegExp
operator|&
name|re
argument_list|)
expr_stmt|;
end_expr_stmt
begin_endif
endif|#
directive|endif
end_endif
begin_if
if|#
directive|if
name|QT_DEPRECATED_SINCE
argument_list|(
literal|5
operator|,
literal|0
argument_list|)
end_if
begin_expr_stmt
name|template
operator|<
name|typename
name|T
operator|>
DECL|function|qFindChild
specifier|inline
name|QT_DEPRECATED
name|T
name|qFindChild
argument_list|(
argument|const QObject *o
argument_list|,
argument|const QString&name = QString()
argument_list|)
block|{
return|return
name|o
operator|->
name|findChild
operator|<
name|T
operator|>
operator|(
name|name
operator|)
return|;
block|}
end_expr_stmt
begin_expr_stmt
name|template
operator|<
name|typename
name|T
operator|>
DECL|function|qFindChildren
specifier|inline
name|QT_DEPRECATED
name|QList
operator|<
name|T
operator|>
name|qFindChildren
argument_list|(
argument|const QObject *o
argument_list|,
argument|const QString&name = QString()
argument_list|)
block|{
return|return
name|o
operator|->
name|findChildren
operator|<
name|T
operator|>
operator|(
name|name
operator|)
return|;
block|}
end_expr_stmt
begin_ifndef
ifndef|#
directive|ifndef
name|QT_NO_REGEXP
end_ifndef
begin_expr_stmt
name|template
operator|<
name|typename
name|T
operator|>
DECL|function|qFindChildren
specifier|inline
name|QT_DEPRECATED
name|QList
operator|<
name|T
operator|>
name|qFindChildren
argument_list|(
argument|const QObject *o
argument_list|,
argument|const QRegExp&re
argument_list|)
block|{
return|return
name|o
operator|->
name|findChildren
operator|<
name|T
operator|>
operator|(
name|re
operator|)
return|;
block|}
end_expr_stmt
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|//QT_DEPRECATED
end_comment
begin_expr_stmt
name|template
operator|<
name|class
name|T
operator|>
DECL|function|qobject_cast
specifier|inline
name|T
name|qobject_cast
argument_list|(
argument|QObject *object
argument_list|)
block|{
typedef|typedef
name|typename
name|QtPrivate
operator|::
name|remove_cv
operator|<
name|typename
name|QtPrivate
operator|::
name|remove_pointer
operator|<
name|T
operator|>
operator|::
name|type
operator|>
operator|::
name|type
name|ObjType
expr_stmt|;
name|Q_STATIC_ASSERT_X
argument_list|(
name|QtPrivate
operator|::
name|HasQ_OBJECT_Macro
operator|<
name|ObjType
operator|>
operator|::
name|Value
argument_list|,
literal|"qobject_cast requires the type to have a Q_OBJECT macro"
argument_list|)
expr_stmt|;
end_expr_stmt
begin_return
return|return
name|static_cast
operator|<
name|T
operator|>
operator|(
name|ObjType
operator|::
name|staticMetaObject
operator|.
name|cast
argument_list|(
name|object
argument_list|)
operator|)
return|;
end_return
begin_expr_stmt
unit|}  template
operator|<
name|class
name|T
operator|>
DECL|function|qobject_cast
specifier|inline
name|T
name|qobject_cast
argument_list|(
argument|const QObject *object
argument_list|)
block|{
typedef|typedef
name|typename
name|QtPrivate
operator|::
name|remove_cv
operator|<
name|typename
name|QtPrivate
operator|::
name|remove_pointer
operator|<
name|T
operator|>
operator|::
name|type
operator|>
operator|::
name|type
name|ObjType
expr_stmt|;
name|Q_STATIC_ASSERT_X
argument_list|(
name|QtPrivate
operator|::
name|HasQ_OBJECT_Macro
operator|<
name|ObjType
operator|>
operator|::
name|Value
argument_list|,
literal|"qobject_cast requires the type to have a Q_OBJECT macro"
argument_list|)
expr_stmt|;
end_expr_stmt
begin_return
return|return
name|static_cast
operator|<
name|T
operator|>
operator|(
name|ObjType
operator|::
name|staticMetaObject
operator|.
name|cast
argument_list|(
name|object
argument_list|)
operator|)
return|;
end_return
begin_expr_stmt
unit|}   template
DECL|function|qobject_interface_iid
operator|<
name|class
name|T
operator|>
specifier|inline
specifier|const
name|char
operator|*
name|qobject_interface_iid
argument_list|()
block|{
return|return
name|Q_NULLPTR
return|;
block|}
end_expr_stmt
begin_ifndef
ifndef|#
directive|ifndef
name|Q_MOC_RUN
end_ifndef
begin_define
DECL|macro|Q_DECLARE_INTERFACE
define|#
directive|define
name|Q_DECLARE_INTERFACE
parameter_list|(
name|IFace
parameter_list|,
name|IId
parameter_list|)
define|\
value|template<> inline const char *qobject_interface_iid<IFace *>() \     { return IId; } \     template<> inline IFace *qobject_cast<IFace *>(QObject *object) \     { return reinterpret_cast<IFace *>((object ? object->qt_metacast(IId) : Q_NULLPTR)); } \     template<> inline IFace *qobject_cast<IFace *>(const QObject *object) \     { return reinterpret_cast<IFace *>((object ? const_cast<QObject *>(object)->qt_metacast(IId) : Q_NULLPTR)); }
end_define
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|// Q_MOC_RUN
end_comment
begin_ifndef
ifndef|#
directive|ifndef
name|QT_NO_DEBUG_STREAM
end_ifndef
begin_expr_stmt
name|Q_CORE_EXPORT
name|QDebug
name|operator
operator|<<
operator|(
name|QDebug
operator|,
specifier|const
name|QObject
operator|*
operator|)
expr_stmt|;
end_expr_stmt
begin_endif
endif|#
directive|endif
end_endif
begin_decl_stmt
name|class
name|QSignalBlocker
block|{
name|public
label|:
specifier|inline
name|explicit
name|QSignalBlocker
argument_list|(
name|QObject
operator|*
name|o
argument_list|)
name|Q_DECL_NOTHROW
decl_stmt|;
specifier|inline
name|explicit
name|QSignalBlocker
argument_list|(
name|QObject
operator|&
name|o
argument_list|)
name|Q_DECL_NOTHROW
decl_stmt|;
specifier|inline
operator|~
name|QSignalBlocker
argument_list|()
expr_stmt|;
ifdef|#
directive|ifdef
name|Q_COMPILER_RVALUE_REFS
specifier|inline
name|QSignalBlocker
argument_list|(
argument|QSignalBlocker&&other
argument_list|)
name|Q_DECL_NOTHROW
expr_stmt|;
specifier|inline
name|QSignalBlocker
modifier|&
name|operator
init|=
operator|(
name|QSignalBlocker
operator|&&
name|other
operator|)
name|Q_DECL_NOTHROW
decl_stmt|;
endif|#
directive|endif
specifier|inline
name|void
name|reblock
argument_list|()
name|Q_DECL_NOTHROW
expr_stmt|;
specifier|inline
name|void
name|unblock
argument_list|()
name|Q_DECL_NOTHROW
expr_stmt|;
name|private
label|:
name|Q_DISABLE_COPY
argument_list|(
argument|QSignalBlocker
argument_list|)
name|QObject
modifier|*
name|m_o
decl_stmt|;
name|bool
name|m_blocked
decl_stmt|;
name|bool
name|m_inhibited
decl_stmt|;
block|}
end_decl_stmt
begin_empty_stmt
empty_stmt|;
end_empty_stmt
begin_expr_stmt
name|QSignalBlocker
operator|::
name|QSignalBlocker
argument_list|(
argument|QObject *o
argument_list|)
name|Q_DECL_NOTHROW
operator|:
name|m_o
argument_list|(
name|o
argument_list|)
operator|,
name|m_blocked
argument_list|(
name|o
operator|&&
name|o
operator|->
name|blockSignals
argument_list|(
name|true
argument_list|)
argument_list|)
operator|,
DECL|function|m_inhibited
name|m_inhibited
argument_list|(
argument|false
argument_list|)
block|{}
name|QSignalBlocker
operator|::
name|QSignalBlocker
argument_list|(
argument|QObject&o
argument_list|)
name|Q_DECL_NOTHROW
DECL|variable|o
operator|:
name|m_o
argument_list|(
operator|&
name|o
argument_list|)
operator|,
name|m_blocked
argument_list|(
name|o
operator|.
name|blockSignals
argument_list|(
name|true
argument_list|)
argument_list|)
operator|,
DECL|function|m_inhibited
name|m_inhibited
argument_list|(
argument|false
argument_list|)
block|{}
ifdef|#
directive|ifdef
name|Q_COMPILER_RVALUE_REFS
name|QSignalBlocker
operator|::
name|QSignalBlocker
argument_list|(
argument|QSignalBlocker&&other
argument_list|)
name|Q_DECL_NOTHROW
operator|:
name|m_o
argument_list|(
name|other
operator|.
name|m_o
argument_list|)
operator|,
name|m_blocked
argument_list|(
name|other
operator|.
name|m_blocked
argument_list|)
operator|,
DECL|function|m_inhibited
name|m_inhibited
argument_list|(
argument|other.m_inhibited
argument_list|)
block|{
name|other
operator|.
name|m_o
operator|=
name|Q_NULLPTR
block|; }
name|QSignalBlocker
operator|&
name|QSignalBlocker
operator|::
name|operator
operator|=
operator|(
name|QSignalBlocker
operator|&&
name|other
operator|)
name|Q_DECL_NOTHROW
block|{
if|if
condition|(
name|this
operator|!=
operator|&
name|other
condition|)
block|{
comment|// if both *this and other block the same object's signals:
comment|// unblock *this iff our dtor would unblock, but other's wouldn't
if|if
condition|(
name|m_o
operator|!=
name|other
operator|.
name|m_o
operator|||
operator|(
operator|!
name|m_inhibited
operator|&&
name|other
operator|.
name|m_inhibited
operator|)
condition|)
name|unblock
argument_list|()
expr_stmt|;
name|m_o
operator|=
name|other
operator|.
name|m_o
expr_stmt|;
name|m_blocked
operator|=
name|other
operator|.
name|m_blocked
expr_stmt|;
name|m_inhibited
operator|=
name|other
operator|.
name|m_inhibited
expr_stmt|;
comment|// disable other:
name|other
operator|.
name|m_o
operator|=
name|Q_NULLPTR
expr_stmt|;
block|}
end_expr_stmt
begin_return
return|return
operator|*
name|this
return|;
end_return
begin_endif
unit|}
endif|#
directive|endif
end_endif
begin_expr_stmt
unit|QSignalBlocker
operator|::
operator|~
name|QSignalBlocker
argument_list|()
block|{
if|if
condition|(
name|m_o
operator|&&
operator|!
name|m_inhibited
condition|)
name|m_o
operator|->
name|blockSignals
argument_list|(
name|m_blocked
argument_list|)
expr_stmt|;
block|}
end_expr_stmt
begin_expr_stmt
name|void
name|QSignalBlocker
operator|::
name|reblock
argument_list|()
name|Q_DECL_NOTHROW
block|{
if|if
condition|(
name|m_o
condition|)
name|m_o
operator|->
name|blockSignals
argument_list|(
name|true
argument_list|)
expr_stmt|;
name|m_inhibited
operator|=
name|false
expr_stmt|;
end_expr_stmt
begin_expr_stmt
unit|}  void
name|QSignalBlocker
operator|::
name|unblock
argument_list|()
name|Q_DECL_NOTHROW
block|{
if|if
condition|(
name|m_o
condition|)
name|m_o
operator|->
name|blockSignals
argument_list|(
name|m_blocked
argument_list|)
expr_stmt|;
name|m_inhibited
operator|=
name|true
expr_stmt|;
end_expr_stmt
begin_macro
unit|}  namespace
name|QtPrivate
end_macro
begin_block
block|{
specifier|inline
name|QObject
modifier|&
name|deref_for_methodcall
parameter_list|(
name|QObject
modifier|&
name|o
parameter_list|)
block|{
return|return
name|o
return|;
block|}
specifier|inline
name|QObject
modifier|&
name|deref_for_methodcall
parameter_list|(
name|QObject
modifier|*
name|o
parameter_list|)
block|{
return|return
operator|*
name|o
return|;
block|}
block|}
end_block
begin_define
DECL|macro|Q_SET_OBJECT_NAME
define|#
directive|define
name|Q_SET_OBJECT_NAME
parameter_list|(
name|obj
parameter_list|)
value|QT_PREPEND_NAMESPACE(QtPrivate)::deref_for_methodcall(obj).setObjectName(QLatin1String(#obj))
end_define
begin_macro
name|QT_END_NAMESPACE
end_macro
begin_endif
endif|#
directive|endif
end_endif
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|// QOBJECT_H
end_comment
end_unit
