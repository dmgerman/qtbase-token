begin_unit
begin_include
include|#
directive|include
file|<QGuiApplication>
end_include
begin_include
include|#
directive|include
file|<QScreen>
end_include
begin_include
include|#
directive|include
file|"window.h"
end_include
begin_function
DECL|function|main
name|int
name|main
parameter_list|(
name|int
name|argc
parameter_list|,
name|char
modifier|*
modifier|*
name|argv
parameter_list|)
block|{
name|QGuiApplication
name|app
argument_list|(
name|argc
argument_list|,
name|argv
argument_list|)
decl_stmt|;
name|Window
name|a
decl_stmt|;
name|a
operator|.
name|setVisible
argument_list|(
literal|true
argument_list|)
expr_stmt|;
name|Window
name|b
decl_stmt|;
name|b
operator|.
name|setVisible
argument_list|(
literal|true
argument_list|)
expr_stmt|;
name|Window
name|child
argument_list|(
operator|&
name|b
argument_list|)
decl_stmt|;
name|child
operator|.
name|setVisible
argument_list|(
literal|true
argument_list|)
expr_stmt|;
comment|// create one window on each additional screen as well
name|QList
argument_list|<
name|QScreen
modifier|*
argument_list|>
name|screens
init|=
name|app
operator|.
name|screens
argument_list|()
decl_stmt|;
foreach|foreach
control|(
name|QScreen
modifier|*
name|screen
decl|,
name|screens
control|)
block|{
if|if
condition|(
name|screen
operator|==
name|app
operator|.
name|primaryScreen
argument_list|()
condition|)
continue|continue;
name|Window
modifier|*
name|window
init|=
operator|new
name|Window
argument_list|(
name|screen
argument_list|)
decl_stmt|;
name|window
operator|->
name|setVisible
argument_list|(
literal|true
argument_list|)
expr_stmt|;
name|window
operator|->
name|setWindowTitle
argument_list|(
name|screen
operator|->
name|name
argument_list|()
argument_list|)
expr_stmt|;
block|}
return|return
name|app
operator|.
name|exec
argument_list|()
return|;
block|}
end_function
end_unit
